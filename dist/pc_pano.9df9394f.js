parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"VrMo":[function(require,module,exports) {
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},n="undefined"!=typeof module&&module.exports,r=function(){for(var n,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,t=r.length,u={};l<t;l++)if((n=r[l])&&n[1]in e){for(l=0;l<n.length;l++)u[r[0][l]]=n[l];return u}return!1}(),l={change:r.fullscreenchange,error:r.fullscreenerror},t={request:function(n,l){return new Promise(function(t,u){var c=function(){this.off("change",c),t()}.bind(this);this.on("change",c);var s=(n=n||e.documentElement)[r.requestFullscreen](l);s instanceof Promise&&s.then(c).catch(u)}.bind(this))},exit:function(){return new Promise(function(n,l){if(this.isFullscreen){var t=function(){this.off("change",t),n()}.bind(this);this.on("change",t);var u=e[r.exitFullscreen]();u instanceof Promise&&u.then(t).catch(l)}else n()}.bind(this))},toggle:function(e,n){return this.isFullscreen?this.exit():this.request(e,n)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(n,r){var t=l[n];t&&e.addEventListener(t,r,!1)},off:function(n,r){var t=l[n];t&&e.removeEventListener(t,r,!1)},raw:r};r?(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(e[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[r.fullscreenEnabled])}}}),n?module.exports=t:window.screenfull=t):n?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}();
},{}],"H8CW":[function(require,module,exports) {

},{}],"uc15":[function(require,module,exports) {
var o=Math.ceil,r=Math.floor;module.exports=function(t){return isNaN(t=+t)?0:(t>0?r:o)(t)};
},{}],"XCH7":[function(require,module,exports) {
module.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o};
},{}],"qQ7E":[function(require,module,exports) {
var e=require("./_to-integer"),r=require("./_defined");module.exports=function(t){return function(n,i){var o,u,c=String(r(n)),d=e(i),a=c.length;return d<0||d>=a?t?"":void 0:(o=c.charCodeAt(d))<55296||o>56319||d+1===a||(u=c.charCodeAt(d+1))<56320||u>57343?t?c.charAt(d):o:t?c.slice(d,d+2):u-56320+(o-55296<<10)+65536}};
},{"./_to-integer":"uc15","./_defined":"XCH7"}],"bdh6":[function(require,module,exports) {
module.exports=!0;
},{}],"XFIe":[function(require,module,exports) {

var e=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e);
},{}],"dqAF":[function(require,module,exports) {
var e=module.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e);
},{}],"nCe2":[function(require,module,exports) {
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],"jFcs":[function(require,module,exports) {
var r=require("./_a-function");module.exports=function(n,t,u){if(r(n),void 0===t)return n;switch(u){case 1:return function(r){return n.call(t,r)};case 2:return function(r,u){return n.call(t,r,u)};case 3:return function(r,u,e){return n.call(t,r,u,e)}}return function(){return n.apply(t,arguments)}};
},{"./_a-function":"nCe2"}],"jj57":[function(require,module,exports) {
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],"w4mz":[function(require,module,exports) {
var r=require("./_is-object");module.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":"jj57"}],"hXTE":[function(require,module,exports) {
module.exports=function(r){try{return!!r()}catch(t){return!0}};
},{}],"hd3X":[function(require,module,exports) {
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":"hXTE"}],"ItUS":[function(require,module,exports) {
var e=require("./_is-object"),r=require("./_global").document,t=e(r)&&e(r.createElement);module.exports=function(e){return t?r.createElement(e):{}};
},{"./_is-object":"jj57","./_global":"XFIe"}],"H2dS":[function(require,module,exports) {
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":"hd3X","./_fails":"hXTE","./_dom-create":"ItUS"}],"eMTc":[function(require,module,exports) {
var t=require("./_is-object");module.exports=function(r,e){if(!t(r))return r;var o,n;if(e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;if("function"==typeof(o=r.valueOf)&&!t(n=o.call(r)))return n;if(!e&&"function"==typeof(o=r.toString)&&!t(n=o.call(r)))return n;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":"jj57"}],"YAFO":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_ie8-dom-define"),t=require("./_to-primitive"),i=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(o,n,u){if(e(o),n=t(n,!0),e(u),r)try{return i(o,n,u)}catch(c){}if("get"in u||"set"in u)throw TypeError("Accessors not supported!");return"value"in u&&(o[n]=u.value),o};
},{"./_an-object":"w4mz","./_ie8-dom-define":"H2dS","./_to-primitive":"eMTc","./_descriptors":"hd3X"}],"Irt8":[function(require,module,exports) {
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],"L7aH":[function(require,module,exports) {
var r=require("./_object-dp"),e=require("./_property-desc");module.exports=require("./_descriptors")?function(t,u,o){return r.f(t,u,e(1,o))}:function(r,e,t){return r[e]=t,r};
},{"./_object-dp":"YAFO","./_property-desc":"Irt8","./_descriptors":"hd3X"}],"SAz4":[function(require,module,exports) {
var r={}.hasOwnProperty;module.exports=function(e,n){return r.call(e,n)};
},{}],"qJpY":[function(require,module,exports) {

var e=require("./_global"),r=require("./_core"),n=require("./_ctx"),t=require("./_hide"),i=require("./_has"),u="prototype",o=function(c,a,f){var l,s,p,h=c&o.F,v=c&o.G,q=c&o.S,w=c&o.P,_=c&o.B,y=c&o.W,d=v?r:r[a]||(r[a]={}),F=d[u],g=v?e:q?e[a]:(e[a]||{})[u];for(l in v&&(f=a),f)(s=!h&&g&&void 0!==g[l])&&i(d,l)||(p=s?g[l]:f[l],d[l]=v&&"function"!=typeof g[l]?f[l]:_&&s?n(p,e):y&&g[l]==p?function(e){var r=function(r,n,t){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,t)}return e.apply(this,arguments)};return r[u]=e[u],r}(p):w&&"function"==typeof p?n(Function.call,p):p,w&&((d.virtual||(d.virtual={}))[l]=p,c&o.R&&F&&!F[l]&&t(F,l,p)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,module.exports=o;
},{"./_global":"XFIe","./_core":"dqAF","./_ctx":"jFcs","./_hide":"L7aH","./_has":"SAz4"}],"rdPA":[function(require,module,exports) {
module.exports=require("./_hide");
},{"./_hide":"L7aH"}],"NhqS":[function(require,module,exports) {
module.exports={};
},{}],"XKlW":[function(require,module,exports) {
var r={}.toString;module.exports=function(t){return r.call(t).slice(8,-1)};
},{}],"Gl4i":[function(require,module,exports) {
var e=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(r){return"String"==e(r)?r.split(""):Object(r)};
},{"./_cof":"XKlW"}],"CDBu":[function(require,module,exports) {
var e=require("./_iobject"),r=require("./_defined");module.exports=function(i){return e(r(i))};
},{"./_iobject":"Gl4i","./_defined":"XCH7"}],"Rwlq":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.min;module.exports=function(t){return t>0?r(e(t),9007199254740991):0};
},{"./_to-integer":"uc15"}],"mAKg":[function(require,module,exports) {
var e=require("./_to-integer"),r=Math.max,t=Math.min;module.exports=function(n,a){return(n=e(n))<0?r(n+a,0):t(n,a)};
},{"./_to-integer":"uc15"}],"f1XA":[function(require,module,exports) {
var e=require("./_to-iobject"),r=require("./_to-length"),t=require("./_to-absolute-index");module.exports=function(n){return function(i,o,u){var f,l=e(i),a=r(l.length),c=t(u,a);if(n&&o!=o){for(;a>c;)if((f=l[c++])!=f)return!0}else for(;a>c;c++)if((n||c in l)&&l[c]===o)return n||c||0;return!n&&-1}};
},{"./_to-iobject":"CDBu","./_to-length":"Rwlq","./_to-absolute-index":"mAKg"}],"P3jJ":[function(require,module,exports) {

var r=require("./_core"),e=require("./_global"),o="__core-js_shared__",i=e[o]||(e[o]={});(module.exports=function(r,e){return i[r]||(i[r]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:require("./_library")?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"});
},{"./_core":"dqAF","./_global":"XFIe","./_library":"bdh6"}],"j2jb":[function(require,module,exports) {
var o=0,t=Math.random();module.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++o+t).toString(36))};
},{}],"HCCw":[function(require,module,exports) {
var e=require("./_shared")("keys"),r=require("./_uid");module.exports=function(u){return e[u]||(e[u]=r(u))};
},{"./_shared":"P3jJ","./_uid":"j2jb"}],"jj3X":[function(require,module,exports) {
var r=require("./_has"),e=require("./_to-iobject"),u=require("./_array-includes")(!1),i=require("./_shared-key")("IE_PROTO");module.exports=function(o,a){var n,s=e(o),t=0,h=[];for(n in s)n!=i&&r(s,n)&&h.push(n);for(;a.length>t;)r(s,n=a[t++])&&(~u(h,n)||h.push(n));return h};
},{"./_has":"SAz4","./_to-iobject":"CDBu","./_array-includes":"f1XA","./_shared-key":"HCCw"}],"Nz1j":[function(require,module,exports) {
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],"aZdp":[function(require,module,exports) {
var e=require("./_object-keys-internal"),r=require("./_enum-bug-keys");module.exports=Object.keys||function(u){return e(u,r)};
},{"./_object-keys-internal":"jj3X","./_enum-bug-keys":"Nz1j"}],"XCVD":[function(require,module,exports) {
var e=require("./_object-dp"),r=require("./_an-object"),t=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(o,i){r(o);for(var u,c=t(i),n=c.length,s=0;n>s;)e.f(o,u=c[s++],i[u]);return o};
},{"./_object-dp":"YAFO","./_an-object":"w4mz","./_object-keys":"aZdp","./_descriptors":"hd3X"}],"SN96":[function(require,module,exports) {
var e=require("./_global").document;module.exports=e&&e.documentElement;
},{"./_global":"XFIe"}],"GJSb":[function(require,module,exports) {
var e=require("./_an-object"),r=require("./_object-dps"),t=require("./_enum-bug-keys"),n=require("./_shared-key")("IE_PROTO"),o=function(){},i="prototype",u=function(){var e,r=require("./_dom-create")("iframe"),n=t.length;for(r.style.display="none",require("./_html").appendChild(r),r.src="javascript:",(e=r.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[i][t[n]];return u()};module.exports=Object.create||function(t,c){var a;return null!==t?(o[i]=e(t),a=new o,o[i]=null,a[n]=t):a=u(),void 0===c?a:r(a,c)};
},{"./_an-object":"w4mz","./_object-dps":"XCVD","./_enum-bug-keys":"Nz1j","./_shared-key":"HCCw","./_dom-create":"ItUS","./_html":"SN96"}],"HNZL":[function(require,module,exports) {
var e=require("./_shared")("wks"),r=require("./_uid"),o=require("./_global").Symbol,u="function"==typeof o,i=module.exports=function(i){return e[i]||(e[i]=u&&o[i]||(u?o:r)("Symbol."+i))};i.store=e;
},{"./_shared":"P3jJ","./_uid":"j2jb","./_global":"XFIe"}],"tgNS":[function(require,module,exports) {
var e=require("./_object-dp").f,r=require("./_has"),o=require("./_wks")("toStringTag");module.exports=function(t,u,i){t&&!r(t=i?t:t.prototype,o)&&e(t,o,{configurable:!0,value:u})};
},{"./_object-dp":"YAFO","./_has":"SAz4","./_wks":"HNZL"}],"nBxO":[function(require,module,exports) {
"use strict";var e=require("./_object-create"),r=require("./_property-desc"),t=require("./_set-to-string-tag"),i={};require("./_hide")(i,require("./_wks")("iterator"),function(){return this}),module.exports=function(o,u,s){o.prototype=e(i,{next:r(1,s)}),t(o,u+" Iterator")};
},{"./_object-create":"GJSb","./_property-desc":"Irt8","./_set-to-string-tag":"tgNS","./_hide":"L7aH","./_wks":"HNZL"}],"CaiI":[function(require,module,exports) {
var e=require("./_defined");module.exports=function(r){return Object(e(r))};
},{"./_defined":"XCH7"}],"QD6K":[function(require,module,exports) {
var t=require("./_has"),e=require("./_to-object"),o=require("./_shared-key")("IE_PROTO"),r=Object.prototype;module.exports=Object.getPrototypeOf||function(c){return c=e(c),t(c,o)?c[o]:"function"==typeof c.constructor&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?r:null};
},{"./_has":"SAz4","./_to-object":"CaiI","./_shared-key":"HCCw"}],"N9Lu":[function(require,module,exports) {
"use strict";var e=require("./_library"),r=require("./_export"),t=require("./_redefine"),i=require("./_hide"),n=require("./_iterators"),u=require("./_iter-create"),o=require("./_set-to-string-tag"),s=require("./_object-gpo"),a=require("./_wks")("iterator"),c=!([].keys&&"next"in[].keys()),f="@@iterator",l="keys",q="values",y=function(){return this};module.exports=function(_,p,h,k,v,w,d){u(h,p,k);var x,b,g,j=function(e){if(!c&&e in I)return I[e];switch(e){case l:case q:return function(){return new h(this,e)}}return function(){return new h(this,e)}},m=p+" Iterator",A=v==q,F=!1,I=_.prototype,O=I[a]||I[f]||v&&I[v],P=O||j(v),z=v?A?j("entries"):P:void 0,B="Array"==p&&I.entries||O;if(B&&(g=s(B.call(new _)))!==Object.prototype&&g.next&&(o(g,m,!0),e||"function"==typeof g[a]||i(g,a,y)),A&&O&&O.name!==q&&(F=!0,P=function(){return O.call(this)}),e&&!d||!c&&!F&&I[a]||i(I,a,P),n[p]=P,n[m]=y,v)if(x={values:A?P:j(q),keys:w?P:j(l),entries:z},d)for(b in x)b in I||t(I,b,x[b]);else r(r.P+r.F*(c||F),p,x);return x};
},{"./_library":"bdh6","./_export":"qJpY","./_redefine":"rdPA","./_hide":"L7aH","./_iterators":"NhqS","./_iter-create":"nBxO","./_set-to-string-tag":"tgNS","./_object-gpo":"QD6K","./_wks":"HNZL"}],"TImV":[function(require,module,exports) {
"use strict";var i=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(i){this._t=String(i),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})});
},{"./_string-at":"qQ7E","./_iter-define":"N9Lu"}],"RNQ5":[function(require,module,exports) {
module.exports=function(){};
},{}],"fiie":[function(require,module,exports) {
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],"MyT9":[function(require,module,exports) {
"use strict";var e=require("./_add-to-unscopables"),r=require("./_iter-step"),t=require("./_iterators"),i=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,r){this._t=i(e),this._i=0,this._k=r},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),t.Arguments=t.Array,e("keys"),e("values"),e("entries");
},{"./_add-to-unscopables":"RNQ5","./_iter-step":"fiie","./_iterators":"NhqS","./_to-iobject":"CDBu","./_iter-define":"N9Lu"}],"TFcQ":[function(require,module,exports) {

require("./es6.array.iterator");for(var t=require("./_global"),e=require("./_hide"),i=require("./_iterators"),r=require("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),L=0;L<s.length;L++){var a=s[L],l=t[a],S=l&&l.prototype;S&&!S[r]&&e(S,r,a),i[a]=i.Array}
},{"./es6.array.iterator":"MyT9","./_global":"XFIe","./_hide":"L7aH","./_iterators":"NhqS","./_wks":"HNZL"}],"nkfP":[function(require,module,exports) {
var e=require("./_cof"),t=require("./_wks")("toStringTag"),n="Arguments"==e(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(n){}};module.exports=function(u){var o,c,i;return void 0===u?"Undefined":null===u?"Null":"string"==typeof(c=r(o=Object(u),t))?c:n?e(o):"Object"==(i=e(o))&&"function"==typeof o.callee?"Arguments":i};
},{"./_cof":"XKlW","./_wks":"HNZL"}],"DxLa":[function(require,module,exports) {
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],"BK6s":[function(require,module,exports) {
var r=require("./_an-object");module.exports=function(t,e,o,a){try{return a?e(r(o)[0],o[1]):e(o)}catch(n){var c=t.return;throw void 0!==c&&r(c.call(t)),n}};
},{"./_an-object":"w4mz"}],"uZGm":[function(require,module,exports) {
var r=require("./_iterators"),e=require("./_wks")("iterator"),t=Array.prototype;module.exports=function(o){return void 0!==o&&(r.Array===o||t[e]===o)};
},{"./_iterators":"NhqS","./_wks":"HNZL"}],"H69A":[function(require,module,exports) {
var r=require("./_classof"),e=require("./_wks")("iterator"),t=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(o){if(null!=o)return o[e]||o["@@iterator"]||t[r(o)]};
},{"./_classof":"nkfP","./_wks":"HNZL","./_iterators":"NhqS","./_core":"dqAF"}],"E31C":[function(require,module,exports) {
var e=require("./_ctx"),r=require("./_iter-call"),t=require("./_is-array-iter"),i=require("./_an-object"),o=require("./_to-length"),n=require("./core.get-iterator-method"),u={},a={},f=module.exports=function(f,l,c,q,_){var h,s,d,g,p=_?function(){return f}:n(f),v=e(c,q,l?2:1),x=0;if("function"!=typeof p)throw TypeError(f+" is not iterable!");if(t(p)){for(h=o(f.length);h>x;x++)if((g=l?v(i(s=f[x])[0],s[1]):v(f[x]))===u||g===a)return g}else for(d=p.call(f);!(s=d.next()).done;)if((g=r(d,v,s.value,l))===u||g===a)return g};f.BREAK=u,f.RETURN=a;
},{"./_ctx":"jFcs","./_iter-call":"BK6s","./_is-array-iter":"uZGm","./_an-object":"w4mz","./_to-length":"Rwlq","./core.get-iterator-method":"H69A"}],"aiDm":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_a-function"),u=require("./_wks")("species");module.exports=function(n,o){var i,t=r(n).constructor;return void 0===t||null==(i=r(t)[u])?o:e(i)};
},{"./_an-object":"w4mz","./_a-function":"nCe2","./_wks":"HNZL"}],"kBu7":[function(require,module,exports) {
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],"DAOJ":[function(require,module,exports) {


var e,t,n,i=require("./_ctx"),o=require("./_invoke"),r=require("./_html"),s=require("./_dom-create"),a=require("./_global"),c=a.process,u=a.setImmediate,p=a.clearImmediate,f=a.MessageChannel,l=a.Dispatch,d=0,m={},h="onreadystatechange",g=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},v=function(e){g.call(e.data)};u&&p||(u=function(t){for(var n=[],i=1;arguments.length>i;)n.push(arguments[i++]);return m[++d]=function(){o("function"==typeof t?t:Function(t),n)},e(d),d},p=function(e){delete m[e]},"process"==require("./_cof")(c)?e=function(e){c.nextTick(i(g,e,1))}:l&&l.now?e=function(e){l.now(i(g,e,1))}:f?(n=(t=new f).port2,t.port1.onmessage=v,e=i(n.postMessage,n,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(e){a.postMessage(e+"","*")},a.addEventListener("message",v,!1)):e=h in s("script")?function(e){r.appendChild(s("script"))[h]=function(){r.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),module.exports={set:u,clear:p};
},{"./_ctx":"jFcs","./_invoke":"kBu7","./_html":"SN96","./_dom-create":"ItUS","./_global":"XFIe","./_cof":"XKlW"}],"ZfJ8":[function(require,module,exports) {


var e=require("./_global"),t=require("./_task").set,r=e.MutationObserver||e.WebKitMutationObserver,n=e.process,o=e.Promise,a="process"==require("./_cof")(n);module.exports=function(){var i,c,s,v=function(){var e,t;for(a&&(e=n.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(r){throw i?s():c=void 0,r}}c=void 0,e&&e.enter()};if(a)s=function(){n.nextTick(v)};else if(!r||e.navigator&&e.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);s=function(){u.then(v)}}else s=function(){t.call(e,v)};else{var f=!0,l=document.createTextNode("");new r(v).observe(l,{characterData:!0}),s=function(){l.data=f=!f}}return function(e){var t={fn:e,next:void 0};c&&(c.next=t),i||(i=t,s()),c=t}};
},{"./_global":"XFIe","./_task":"DAOJ","./_cof":"XKlW"}],"YaMo":[function(require,module,exports) {
"use strict";var r=require("./_a-function");function e(e){var o,t;this.promise=new e(function(r,e){if(void 0!==o||void 0!==t)throw TypeError("Bad Promise constructor");o=r,t=e}),this.resolve=r(o),this.reject=r(t)}module.exports.f=function(r){return new e(r)};
},{"./_a-function":"nCe2"}],"ldaG":[function(require,module,exports) {
module.exports=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}};
},{}],"LLej":[function(require,module,exports) {

var e=require("./_global"),r=e.navigator;module.exports=r&&r.userAgent||"";
},{"./_global":"XFIe"}],"mNSp":[function(require,module,exports) {
var r=require("./_an-object"),e=require("./_is-object"),i=require("./_new-promise-capability");module.exports=function(o,t){if(r(o),e(t)&&t.constructor===o)return t;var u=i.f(o);return(0,u.resolve)(t),u.promise};
},{"./_an-object":"w4mz","./_is-object":"jj57","./_new-promise-capability":"YaMo"}],"EhCx":[function(require,module,exports) {
var r=require("./_hide");module.exports=function(e,i,n){for(var o in i)n&&e[o]?e[o]=i[o]:r(e,o,i[o]);return e};
},{"./_hide":"L7aH"}],"uMbH":[function(require,module,exports) {

"use strict";var e=require("./_global"),r=require("./_core"),i=require("./_object-dp"),t=require("./_descriptors"),u=require("./_wks")("species");module.exports=function(o){var c="function"==typeof r[o]?r[o]:e[o];t&&c&&!c[u]&&i.f(c,u,{configurable:!0,get:function(){return this}})};
},{"./_global":"XFIe","./_core":"dqAF","./_object-dp":"YAFO","./_descriptors":"hd3X","./_wks":"HNZL"}],"VMQO":[function(require,module,exports) {
var r=require("./_wks")("iterator"),t=!1;try{var n=[7][r]();n.return=function(){t=!0},Array.from(n,function(){throw 2})}catch(e){}module.exports=function(n,u){if(!u&&!t)return!1;var o=!1;try{var c=[7],a=c[r]();a.next=function(){return{done:o=!0}},c[r]=function(){return a},n(c)}catch(e){}return o};
},{"./_wks":"HNZL"}],"GHd0":[function(require,module,exports) {


"use strict";var e,r,t,i,n=require("./_library"),o=require("./_global"),c=require("./_ctx"),s=require("./_classof"),u=require("./_export"),a=require("./_is-object"),_=require("./_a-function"),h=require("./_an-instance"),f=require("./_for-of"),l=require("./_species-constructor"),v=require("./_task").set,d=require("./_microtask")(),p=require("./_new-promise-capability"),m=require("./_perform"),q=require("./_user-agent"),y=require("./_promise-resolve"),j="Promise",w=o.TypeError,g=o.process,x=g&&g.versions,b=x&&x.v8||"",k=o[j],P="process"==s(g),F=function(){},S=r=p.f,E=!!function(){try{var e=k.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(F,F)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(F)instanceof r&&0!==b.indexOf("6.6")&&-1===q.indexOf("Chrome/66")}catch(t){}}(),O=function(e){var r;return!(!a(e)||"function"!=typeof(r=e.then))&&r},R=function(e,r){if(!e._n){e._n=!0;var t=e._c;d(function(){for(var i=e._v,n=1==e._s,o=0,c=function(r){var t,o,c,s=n?r.ok:r.fail,u=r.resolve,a=r.reject,_=r.domain;try{s?(n||(2==e._h&&H(e),e._h=1),!0===s?t=i:(_&&_.enter(),t=s(i),_&&(_.exit(),c=!0)),t===r.promise?a(w("Promise-chain cycle")):(o=O(t))?o.call(t,u,a):u(t)):a(i)}catch(h){_&&!c&&_.exit(),a(h)}};t.length>o;)c(t[o++]);e._c=[],e._n=!1,r&&!e._h&&C(e)})}},C=function(e){v.call(o,function(){var r,t,i,n=e._v,c=G(e);if(c&&(r=m(function(){P?g.emit("unhandledRejection",n,e):(t=o.onunhandledrejection)?t({promise:e,reason:n}):(i=o.console)&&i.error&&i.error("Unhandled promise rejection",n)}),e._h=P||G(e)?2:1),e._a=void 0,c&&r.e)throw r.v})},G=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(e){v.call(o,function(){var r;P?g.emit("rejectionHandled",e):(r=o.onrejectionhandled)&&r({promise:e,reason:e._v})})},T=function(e){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=e,r._s=2,r._a||(r._a=r._c.slice()),R(r,!0))},U=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw w("Promise can't be resolved itself");(r=O(e))?d(function(){var i={_w:t,_d:!1};try{r.call(e,c(U,i,1),c(T,i,1))}catch(n){T.call(i,n)}}):(t._v=e,t._s=1,R(t,!1))}catch(i){T.call({_w:t,_d:!1},i)}}};E||(k=function(r){h(this,k,j,"_h"),_(r),e.call(this);try{r(c(U,this,1),c(T,this,1))}catch(t){T.call(this,t)}},(e=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")(k.prototype,{then:function(e,r){var t=S(l(this,k));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=P?g.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&R(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var r=new e;this.promise=r,this.resolve=c(U,r,1),this.reject=c(T,r,1)},p.f=S=function(e){return e===k||e===i?new t(e):r(e)}),u(u.G+u.W+u.F*!E,{Promise:k}),require("./_set-to-string-tag")(k,j),require("./_set-species")(j),i=require("./_core")[j],u(u.S+u.F*!E,j,{reject:function(e){var r=S(this);return(0,r.reject)(e),r.promise}}),u(u.S+u.F*(n||!E),j,{resolve:function(e){return y(n&&this===i?k:this,e)}}),u(u.S+u.F*!(E&&require("./_iter-detect")(function(e){k.all(e).catch(F)})),j,{all:function(e){var r=this,t=S(r),i=t.resolve,n=t.reject,o=m(function(){var t=[],o=0,c=1;f(e,!1,function(e){var s=o++,u=!1;t.push(void 0),c++,r.resolve(e).then(function(e){u||(u=!0,t[s]=e,--c||i(t))},n)}),--c||i(t)});return o.e&&n(o.v),t.promise},race:function(e){var r=this,t=S(r),i=t.reject,n=m(function(){f(e,!1,function(e){r.resolve(e).then(t.resolve,i)})});return n.e&&i(n.v),t.promise}});
},{"./_library":"bdh6","./_global":"XFIe","./_ctx":"jFcs","./_classof":"nkfP","./_export":"qJpY","./_is-object":"jj57","./_a-function":"nCe2","./_an-instance":"DxLa","./_for-of":"E31C","./_species-constructor":"aiDm","./_task":"DAOJ","./_microtask":"ZfJ8","./_new-promise-capability":"YaMo","./_perform":"ldaG","./_user-agent":"LLej","./_promise-resolve":"mNSp","./_wks":"HNZL","./_redefine-all":"EhCx","./_set-to-string-tag":"tgNS","./_set-species":"uMbH","./_core":"dqAF","./_iter-detect":"VMQO"}],"oZrx":[function(require,module,exports) {

"use strict";var r=require("./_export"),e=require("./_core"),t=require("./_global"),n=require("./_species-constructor"),i=require("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(r){var o=n(this,e.Promise||t.Promise),u="function"==typeof r;return this.then(u?function(e){return i(o,r()).then(function(){return e})}:r,u?function(e){return i(o,r()).then(function(){throw e})}:r)}});
},{"./_export":"qJpY","./_core":"dqAF","./_global":"XFIe","./_species-constructor":"aiDm","./_promise-resolve":"mNSp"}],"lcFA":[function(require,module,exports) {
"use strict";var r=require("./_export"),e=require("./_new-promise-capability"),i=require("./_perform");r(r.S,"Promise",{try:function(r){var t=e.f(this),o=i(r);return(o.e?t.reject:t.resolve)(o.v),t.promise}});
},{"./_export":"qJpY","./_new-promise-capability":"YaMo","./_perform":"ldaG"}],"CWjI":[function(require,module,exports) {
require("../modules/es6.object.to-string"),require("../modules/es6.string.iterator"),require("../modules/web.dom.iterable"),require("../modules/es6.promise"),require("../modules/es7.promise.finally"),require("../modules/es7.promise.try"),module.exports=require("../modules/_core").Promise;
},{"../modules/es6.object.to-string":"H8CW","../modules/es6.string.iterator":"TImV","../modules/web.dom.iterable":"TFcQ","../modules/es6.promise":"GHd0","../modules/es7.promise.finally":"oZrx","../modules/es7.promise.try":"lcFA","../modules/_core":"dqAF"}],"GFkA":[function(require,module,exports) {
module.exports=require("core-js/library/fn/promise");
},{"core-js/library/fn/promise":"CWjI"}],"eW0k":[function(require,module,exports) {
var e=require("@babel/runtime-corejs2/core-js/promise");function o(o,r,t,n,u,i,c){try{var l=o[i](c),s=l.value}catch(a){return void t(a)}l.done?r(s):e.resolve(s).then(n,u)}function r(r){return function(){var t=this,n=arguments;return new e(function(e,u){var i=r.apply(t,n);function c(r){o(i,e,u,c,l,"next",r)}function l(r){o(i,e,u,c,l,"throw",r)}c(void 0)})}}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime-corejs2/core-js/promise":"GFkA"}],"KA2S":[function(require,module,exports) {
var define;
var t,r=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(F){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof g?r:g,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(F){return{type:"throw",arg:F}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function g(){}function d(){}function m(){}var w={};u(w,i,function(){return this});var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:T}}function T(){return{value:r,done:!0}}return d.prototype=m,u(b,"constructor",m),u(m,"constructor",d),d.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,function(){return this}),t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),u(b,i,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}
},{}],"d9wt":[function(require,module,exports) {
module.exports=require("regenerator-runtime");
},{"regenerator-runtime":"KA2S"}],"lNC2":[function(require,module,exports) {
"use strict";function t(){}function e(e){for(var o in t.prototype)t.prototype.hasOwnProperty(o)&&(e.prototype[o]=t.prototype[o])}t.prototype.addEventListener=function(t,e){var o=this.__events=this.__events||{},n=o[t]=o[t]||[];n.indexOf(e)<0&&n.push(e)},t.prototype.removeEventListener=function(t,e){var o=(this.__events=this.__events||{})[t];if(o){var n=o.indexOf(e);n>=0&&o.splice(n,1)}},t.prototype.emit=function(t,e){var o=(this.__events=this.__events||{})[t],n=Array.prototype.slice.call(arguments,1);if(o)for(var r=0;r<o.length;r++){o[r].apply(this,n)}},module.exports=e;
},{}],"fllL":[function(require,module,exports) {
"use strict";function n(){return"undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return Date.now()}}module.exports=n();
},{}],"fanG":[function(require,module,exports) {
"use strict";var t=require("../util/now");function e(t,e){this.fn=t,this.cb=e,this.cfn=null}function i(t){this._queue=[],this._delay=t&&t.delay||0,this._paused=t&&!!t.paused||!1,this._currentTask=null,this._lastFinished=null}i.prototype.length=function(){return this._queue.length},i.prototype.push=function(t,i){var s=new e(t,i),n=this._cancel.bind(this,s);return this._queue.push(s),this._next(),n},i.prototype.pause=function(){this._paused||(this._paused=!0)},i.prototype.resume=function(){this._paused&&(this._paused=!1,this._next())},i.prototype._start=function(t){if(this._currentTask)throw new Error("WorkQueue: called start while running task");this._currentTask=t;var e=this._finish.bind(this,t);if(t.cfn=t.fn(e),"function"!=typeof t.cfn)throw new Error("WorkQueue: function is not cancellable")},i.prototype._finish=function(e){var i=Array.prototype.slice.call(arguments,1);if(this._currentTask!==e)throw new Error("WorkQueue: called finish on wrong task");e.cb.apply(null,i),this._currentTask=null,this._lastFinished=t(),this._next()},i.prototype._cancel=function(t){var e=Array.prototype.slice.call(arguments,1);if(this._currentTask===t)t.cfn.apply(null,e);else{var i=this._queue.indexOf(t);i>=0&&(this._queue.splice(i,1),t.cb.apply(null,e))}},i.prototype._next=function(){if(!this._paused&&this._queue.length&&!this._currentTask){if(null!=this._lastFinished){var e=t()-this._lastFinished,i=this._delay-e;if(i>0)return void setTimeout(this._next.bind(this),i)}var s=this._queue.shift();this._start(s)}},module.exports=i;
},{"../util/now":"fllL"}],"kJmJ":[function(require,module,exports) {
"use strict";function l(l,e,t,u){var i,n,a,r;return u=u||{},i=null!=t&&null!=t.absoluteWidth?t.absoluteWidth/l:null!=t&&null!=t.relativeWidth?t.relativeWidth:1,n=t&&null!=t.absoluteHeight?t.absoluteHeight/e:null!=t&&null!=t.relativeHeight?t.relativeHeight:1,a=null!=t&&null!=t.absoluteX?t.absoluteX/l:null!=t&&null!=t.relativeX?t.relativeX:0,r=null!=t&&null!=t.absoluteY?t.absoluteY/e:null!=t&&null!=t.relativeY?t.relativeY:0,u.x=a,u.y=r,u.width=i,u.height=n,u}module.exports=l;
},{}],"ZYkB":[function(require,module,exports) {
"use strict";function t(t){return function(n){var r,u;try{u=t()}catch(c){r=c}finally{r?n(r):n(null,u)}}}module.exports=t;
},{}],"LMqo":[function(require,module,exports) {
"use strict";function n(n){var r,t=!1;return function(){return t||(t=!0,r=n.apply(null,arguments)),r}}module.exports=n;
},{}],"Kwxa":[function(require,module,exports) {
"use strict";var e=require("./once");function n(n){return function(){if(!arguments.length)throw new Error("cancelized: expected at least one argument");var r=Array.prototype.slice.call(arguments,0),t=r[r.length-1]=e(r[r.length-1]);return n.apply(null,r),function(){t.apply(null,arguments)}}}module.exports=n;
},{"./once":"LMqo"}],"lrIP":[function(require,module,exports) {
"use strict";function o(o){for(var r in o)o.hasOwnProperty(r)&&(o[r]=void 0)}module.exports=o;
},{}],"xb0c":[function(require,module,exports) {
"use strict";function e(){this._renderers={}}e.prototype.set=function(e,r,t){this._renderers[e]||(this._renderers[e]={}),this._renderers[e][r]=t},e.prototype.get=function(e,r){return this._renderers[e]&&this._renderers[e][r]||null},module.exports=e;
},{}],"xml0":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("../collections/WorkQueue"),r=require("../util/calcRect"),i=require("../util/async"),n=require("../util/cancelize"),s=require("../util/clearOwnProperties"),o=require("./RendererRegistry");function h(e,t){return e.cmp(t)}function l(e,t){return-e.cmp(t)}function a(e){this._progressive=!(!e||!e.progressive),this._layers=[],this._renderers=[],this._tilesToLoad=[],this._tilesToRender=[],this._tmpVisible=[],this._tmpChildren=[],this._width=0,this._height=0,this._tmpRect={},this._tmpSize={},this._createTextureWorkQueue=new t,this._emitRenderInvalid=this._emitRenderInvalid.bind(this),this._rendererRegistry=new o}e(a),a.prototype.destroy=function(){this.removeAllLayers(),s(this)},a.prototype.registerRenderer=function(e,t,r){return this._rendererRegistry.set(e,t,r)},a.prototype.domElement=function(){throw new Error("Stage implementation must override domElement")},a.prototype.width=function(){return this._width},a.prototype.height=function(){return this._height},a.prototype.size=function(e){return(e=e||{}).width=this._width,e.height=this._height,e},a.prototype.setSize=function(e){this._width=e.width,this._height=e.height,this.setSizeForType(),this.emit("resize"),this._emitRenderInvalid()},a.prototype.setSizeForType=function(e){throw new Error("Stage implementation must override setSizeForType")},a.prototype.loadImage=function(){throw new Error("Stage implementation must override loadImage")},a.prototype._emitRenderInvalid=function(){this.emit("renderInvalid")},a.prototype.validateLayer=function(e){throw new Error("Stage implementation must override validateLayer")},a.prototype.listLayers=function(){return[].concat(this._layers)},a.prototype.hasLayer=function(e){return this._layers.indexOf(e)>=0},a.prototype.addLayer=function(e,t){if(this._layers.indexOf(e)>=0)throw new Error("Layer already in stage");if(null==t&&(t=this._layers.length),t<0||t>this._layers.length)throw new Error("Invalid layer position");this.validateLayer(e);var r=e.geometry().type,i=e.view().type,n=this._rendererRegistry.get(r,i);if(!n)throw new Error("No "+this.type+" renderer avaiable for "+r+" geometry and "+i+" view");var s=this.createRenderer(n);this._layers.splice(t,0,e),this._renderers.splice(t,0,s),e.addEventListener("viewChange",this._emitRenderInvalid),e.addEventListener("effectsChange",this._emitRenderInvalid),e.addEventListener("fixedLevelChange",this._emitRenderInvalid),e.addEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},a.prototype.moveLayer=function(e,t){var r=this._layers.indexOf(e);if(r<0)throw new Error("No such layer in stage");if(t<0||t>=this._layers.length)throw new Error("Invalid layer position");e=this._layers.splice(r,1)[0];var i=this._renderers.splice(r,1)[0];this._layers.splice(t,0,e),this._renderers.splice(t,0,i),this._emitRenderInvalid()},a.prototype.removeLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in stage");var r=this._layers.splice(t,1)[0],i=this._renderers.splice(t,1)[0];this.destroyRenderer(i),r.removeEventListener("viewChange",this._emitRenderInvalid),r.removeEventListener("effectsChange",this._emitRenderInvalid),r.removeEventListener("fixedLevelChange",this._emitRenderInvalid),r.removeEventListener("textureStoreChange",this._emitRenderInvalid),this._emitRenderInvalid()},a.prototype.removeAllLayers=function(){for(;this._layers.length>0;)this.removeLayer(this._layers[0])},a.prototype.startFrame=function(){throw new Error("Stage implementation must override startFrame")},a.prototype.endFrame=function(){throw new Error("Stage implementation must override endFrame")},a.prototype.render=function(){var e,t,i,n=this._tilesToLoad,s=this._tilesToRender,o=!0,h=this._width,l=this._height,a=this._tmpRect,d=this._tmpSize;if(!(h<=0||l<=0)){for(this.startFrame(),e=0;e<this._layers.length;e++)this._layers[e].textureStore().startFrame();for(e=0;e<this._layers.length;e++){var c,p,_=this._layers[e],u=_.effects(),y=_.view(),m=_.textureStore(),v=this._renderers[e],f=this._layers.length-e;if(r(h,l,u&&u.rect,a),!(a.width<=0||a.height<=0)){for(d.width=a.width*this._width,d.height=a.height*this._height,y.setSize(d),v.startLayer(_,a),i=this._collectTiles(_,m),t=0;t<n.length;t++)c=n[t],m.markTile(c);for(t=0;t<s.length;t++)c=s[t],p=m.texture(c),v.renderTile(c,p,_,f);_.emit("renderComplete",i),i||(o=!1),v.endLayer(_,a)}}for(e=0;e<this._layers.length;e++)this._layers[e].textureStore().endFrame();this.endFrame(),this.emit("renderComplete",o)}},a.prototype._collectTiles=function(e,t){var r=this._tilesToLoad,i=this._tilesToRender,n=this._tmpVisible;r.length=0,i.length=0,n.length=0,e.visibleTiles(n);for(var s=!0,o=0;o<n.length;o++){var a,d=n[o];this._collectTileToLoad(d),t.texture(d)?(a=!1,this._collectTileToRender(d)):(a=this._collectChildren(d,t),s=!1),this._collectParents(d,t,a)}return r.sort(h),i.sort(l),s},a.prototype._collectChildren=function(e,t){var r=this._tmpChildren,i=!0;do{if(r.length=0,!e.children(r))break;i=!1;for(var n=0;n<r.length;n++)e=r[n],t.texture(e)?(this._collectTileToLoad(e),this._collectTileToRender(e)):i=!0}while(i&&1===r.length);return i},a.prototype._collectParents=function(e,t,r){for(var i=this._progressive;(i||r)&&null!=(e=e.parent());){if(r)if(t.texture(e))this._collectTileToRender(e),r=!1;else if(!this._progressive)continue;this._collectTileToLoad(e)||(i=!1)}return r},a.prototype._collectTileToLoad=function(e){return this._collectTileIntoList(e,this._tilesToLoad)},a.prototype._collectTileToRender=function(e){return this._collectTileIntoList(e,this._tilesToRender)},a.prototype._collectTileIntoList=function(e,t){for(var r=!1,i=0;i<t.length;i++)if(e.equals(t[i])){r=!0;break}return r||t.push(e),!r},a.prototype.createTexture=function(e,t,r){var s=this;var o=n(i(function(){return new s.TextureClass(s,e,t)}));return this._createTextureWorkQueue.push(o,function(i,n){r(i,e,t,n)})},module.exports=a;
},{"minimal-event-emitter":"lNC2","../collections/WorkQueue":"fanG","../util/calcRect":"kJmJ","../util/async":"ZYkB","../util/cancelize":"Kwxa","../util/clearOwnProperties":"lrIP","./RendererRegistry":"xb0c"}],"RzSu":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],d="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:null;module.exports=d;
},{}],"rzhm":[function(require,module,exports) {

"use strict";var t=require("../util/global"),e=require("minimal-event-emitter"),i=require("../util/clearOwnProperties"),r={HTMLImageElement:["naturalWidth","naturalHeight"],HTMLCanvasElement:["width","height"],ImageBitmap:["width","height"]};function n(e){var i=!1;for(var n in r)if(t[n]&&e instanceof t[n]){i=!0,this._widthProp=r[n][0],this._heightProp=r[n][1];break}if(!i)throw new Error("Unsupported pixel source");this._element=e}e(n),n.prototype.destroy=function(){i(this)},n.prototype.element=function(){return this._element},n.prototype.width=function(){return this._element[this._widthProp]},n.prototype.height=function(){return this._element[this._heightProp]},n.prototype.timestamp=function(){return 0},n.prototype.isDynamic=function(){return!1},module.exports=n;
},{"../util/global":"RzSu","minimal-event-emitter":"lNC2","../util/clearOwnProperties":"lrIP"}],"W3pH":[function(require,module,exports) {
"use strict";function t(t,o){t.super_=o;var p=function(){};p.prototype=o.prototype,t.prototype=new p,t.prototype.constructor=t}module.exports=t;
},{}],"WkWV":[function(require,module,exports) {
"use strict";var r=require("./util/inherits");function s(r){this.constructor.super_.apply(this,arguments),this.message=r}r(s,Error),module.exports=s;
},{"./util/inherits":"W3pH"}],"JX1Q":[function(require,module,exports) {
var define;
var e;!function(i,s,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof e&&e.amd?e("bowser",o):i.bowser=o()}(this,0,function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r,t=s(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(i)&&/android/i.test(i),d=/nexus\s*[0-6]\s*/i.test(i),m=!d&&/nexus\s*[0-9]+/i.test(i),v=/CrOS/.test(i),l=/silk/i.test(i),c=/sailfish/i.test(i),p=/tizen/i.test(i),u=/(web|hpw)(o|0)s/i.test(i),f=/windows phone/i.test(i),w=(/SamsungBrowser/i.test(i),!f&&/windows/i.test(i)),h=!t&&!l&&/macintosh/i.test(i),b=!a&&!c&&!p&&!u&&/linux/i.test(i),g=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),k=s(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(i)&&!/tablet pc/i.test(i),y=!x&&/[^-]mobi/i.test(i),S=/xbox/i.test(i);/opera/i.test(i)?r={name:"Opera",opera:e,version:k||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(i)?r={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||k}:/SamsungBrowser/i.test(i)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:k||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(i)?r={name:"NAVER Whale browser",whale:e,version:s(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(i)?r={name:"MZ Browser",mzbrowser:e,version:s(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(i)?r={name:"Opera Coast",coast:e,version:k||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(i)?r={name:"Focus",focus:e,version:s(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(i)?r={name:"Yandex Browser",yandexbrowser:e,version:k||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(i)?r={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(i)?r={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(i)?r={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(i)?r={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(i)?r={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(i)?r={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:f?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},g?(r.msedge=e,r.version=g):(r.msie=e,r.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(i)?r={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:v?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(i)?r={name:"Microsoft Edge",msedge:e,version:g}:/vivaldi/i.test(i)?r={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||k}:c?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(i)?r={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(i)?(r={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(r.firefoxos=e,r.osname="Firefox OS")):l?r={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(i)?r={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(i)?r={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:k||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:u?(r={name:"WebOS",osname:"WebOS",webos:e,version:k||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(r.touchpad=e)):/bada/i.test(i)?r={name:"Bada",osname:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||k}:/qupzilla/i.test(i)?r={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||k}:/chromium/i.test(i)?r={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||k}:/chrome|crios|crmo/i.test(i)?r={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:k}:/safari|applewebkit/i.test(i)?(r={name:"Safari",safari:e},k&&(r.version=k)):t?(r={name:"iphone"==t?"iPhone":"ipad"==t?"iPad":"iPod"},k&&(r.version=k)):r=/googlebot/i.test(i)?{name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||k}:{name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&k&&(r.version=k)):!r.opera&&/gecko\//i.test(i)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||s(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&t?(r[t]=e,r.ios=e,r.osname="iOS"):h?(r.mac=e,r.osname="macOS"):S?(r.xbox=e,r.osname="Xbox"):w?(r.windows=e,r.osname="Windows"):b&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var B="";r.windows?B=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(s(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?B=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?B=(B=s(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):t?B=(B=s(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?B=s(/android[ \/-](\d+(\.\d+)*)/i):r.webos?B=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?B=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?B=s(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(B=s(/tizen[\/\s](\d+(\.\d+)*)/i)),B&&(r.osversion=B);var O=!r.windows&&B.split(".")[0];return x||m||"ipad"==t||a&&(3==O||O>=4&&!y)||r.silk?r.tablet=e:(y||"iphone"==t||"ipod"==t||a||d||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===n([r.version,"1.0"])||r.mzbrowser&&1===n([r.version,"6.0"])||r.focus&&1===n([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var s=i("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function n(e){for(var i=Math.max(o(e[0]),o(e[1])),s=r(e,function(e){var s=i-o(e);return r((e+=new Array(s+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(s[0][i]>s[1][i])return 1;if(s[0][i]!==s[1][i])return-1;if(0===i)return 0}}function t(e,o,r){var t=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(t=i(r));var a=""+t.version;for(var d in e)if(e.hasOwnProperty(d)&&t[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return n([a,e[d]])<0}return o}return s.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=t,s.compareVersions=n,s.check=function(e,i,s){return!t(e,i,s)},s._detect=i,s.detect=i,s});
},{}],"r9QZ":[function(require,module,exports) {

"use strict";var e=require("../assets/Static"),r=require("../NetworkError"),t=require("bowser"),n=require("../util/global"),a=require("../util/once"),o=!!n.createImageBitmap&&!t.firefox,i={imageOrientation:"flipY",premultiplyAlpha:"premultiply"};function l(e){this._stage=e}l.prototype.loadImage=function(e,r,t){var n=this,o=new Image;o.crossOrigin="anonymous";var i=r&&r.x||0,l=r&&r.y||0,u=r&&r.width||1,c=r&&r.height||1;return t=a(t),o.onload=function(){n._handleLoad(o,i,l,u,c,t)},o.onerror=function(){n._handleError(e,t)},o.src=e,function(){o.onload=o.onerror=null,o.src="",t.apply(null,arguments)}},l.prototype._handleLoad=function(r,t,a,l,u,c){if(0!==t||0!==a||1!==l||1!==u)if(t*=r.naturalWidth,a*=r.naturalHeight,l*=r.naturalWidth,u*=r.naturalHeight,o)n.createImageBitmap(r,t,a,l,u,i).then(function(r){c(null,new e(r))});else{var h=document.createElement("canvas");h.width=l,h.height=u,h.getContext("2d").drawImage(r,t,a,l,u,0,0,l,u),c(null,new e(h))}else c(null,new e(r))},l.prototype._handleError=function(e,t){t(new r("Network error: "+e))},module.exports=l;
},{"../assets/Static":"rzhm","../NetworkError":"WkWV","bowser":"JX1Q","../util/global":"RzSu","../util/once":"LMqo"}],"AQTT":[function(require,module,exports) {
"use strict";var e=1;function i(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var i=window.screen;if(i&&i.deviceXDPI&&i.logicalXDPI)return i.deviceXDPI/i.logicalXDPI;if(i&&i.systemXDPI&&i.logicalXDPI)return i.systemXDPI/i.logicalXDPI}return e}module.exports=i;
},{}],"VDAB":[function(require,module,exports) {
"use strict";function t(t){return 0==(t&t-1)}module.exports=t;
},{}],"Dw5L":[function(require,module,exports) {
"use strict";function t(t){for(var e=document.documentElement.style,n=["Moz","Webkit","Khtml","O","ms"],i=0;i<n.length;i++){var r=n[i]+(t[0].toUpperCase()+t.slice(1));if(r in e)return r}return t}function e(e){var n=t(e);return function(t){return t.style[n]}}function n(e){var n=t(e);return function(t,e){return t.style[n]=e}}var i=n("transform"),r=n("transformOrigin");function s(t){i(t,"translateZ(0)")}function o(t){r(t,"0 0 0")}function l(t){t.style.position="absolute"}function f(t,e,n){t.style.left=e+"px",t.style.top=n+"px"}function u(t,e,n){t.style.width=e+"px",t.style.height=n+"px"}function c(t){t.style.width=t.style.height=0}function y(t){t.style.width=t.style.height="100%"}function a(t){t.style.overflow="hidden"}function h(t){t.style.overflow="visible"}function d(t){t.style.pointerEvents="none"}module.exports={prefixProperty:t,getWithVendorPrefix:e,setWithVendorPrefix:n,setTransform:i,setTransformOrigin:r,setNullTransform:s,setNullTransformOrigin:o,setAbsolute:l,setPixelPosition:f,setPixelSize:u,setNullSize:c,setFullSize:y,setOverflowHidden:a,setOverflowVisible:h,setNoPointerEvents:d};
},{}],"bnPS":[function(require,module,exports) {
"use strict";var e=require("./Stage"),t=require("../loaders/HtmlImage"),r=require("bowser"),i=require("../util/inherits"),n=require("../util/pixelRatio"),o=require("../util/ispot"),s=require("../util/dom").setAbsolute,a=require("../util/dom").setFullSize,l=require("../util/clearOwnProperties"),_={videoUseTexImage2D:r.chrome};function h(e,t){var r={alpha:!0,premultipliedAlpha:!0,antialias:!(!t||!t.antialias),preserveDrawingBuffer:!(!t||!t.preserveDrawingBuffer)},i=e.getContext&&(e.getContext("webgl",r)||e.getContext("experimental-webgl",r));if(!i)throw new Error("Could not get WebGL context");return t.wrapContext&&(i=t.wrapContext(i)),i}function E(e){e=e||{};var r=this;this.constructor.super_.call(this,e),this._generateMipmaps=null!=e.generateMipmaps&&e.generateMipmaps,this._loader=new t(this),this._domElement=document.createElement("canvas"),s(this._domElement),a(this._domElement),this._gl=h(this._domElement,e),this._handleContextLoss=function(){r.emit("webglcontextlost"),r._gl=null},this._domElement.addEventListener("webglcontextlost",this._handleContextLoss),this._rendererInstances=[]}function u(e,t,r){this._stage=e,this._gl=e._gl,this._texture=null,this._timestamp=null,this._width=this._height=null,this.refresh(t,r)}i(E,e),E.prototype.destroy=function(){this._domElement.removeEventListener("webglcontextlost",this._handleContextLoss),this.constructor.super_.prototype.destroy.call(this)},E.prototype.domElement=function(){return this._domElement},E.prototype.webGlContext=function(){return this._gl},E.prototype.setSizeForType=function(){var e=n();this._domElement.width=e*this._width,this._domElement.height=e*this._height},E.prototype.loadImage=function(e,t,r){return this._loader.loadImage(e,t,r)},E.prototype.maxTextureSize=function(){return this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE)},E.prototype.validateLayer=function(e){var t=e.geometry().maxTileSize(),r=this.maxTextureSize();if(t>r)throw new Error("Layer has level with tile size larger than maximum texture size ("+t+" vs. "+r+")")},E.prototype.createRenderer=function(e){for(var t=this._rendererInstances,r=0;r<t.length;r++)if(t[r]instanceof e)return t[r];var i=new e(this._gl);return t.push(i),i},E.prototype.destroyRenderer=function(e){var t=this._rendererInstances;if(this._renderers.indexOf(e)<0){e.destroy();var r=t.indexOf(e);r>=0&&t.splice(r,1)}},E.prototype.startFrame=function(){var e=this._gl;if(!e)throw new Error("Bad WebGL context - maybe context was lost?");e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.enable(e.DEPTH_TEST),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)},E.prototype.endFrame=function(){},E.prototype.takeSnapshot=function(e){"object"==typeof e&&null!=e||(e={});var t=e.quality;if(void 0===t&&(t=75),"number"!=typeof t||t<0||t>100)throw new Error("WebGLStage: Snapshot quality needs to be a number between 0 and 100");return this.render(),this._domElement.toDataURL("image/jpeg",t/100)},E.type=E.prototype.type="webgl",u.prototype.refresh=function(e,t){var r,i=this._gl,n=this._stage,s=t.timestamp();if(s!==this._timestamp){var a=t.element(),l=t.width(),h=t.height();if(l!==this._width||h!==this._height){var E=n.maxTextureSize();if(l>E)throw new Error("Texture width larger than max size ("+l+" vs. "+E+")");if(h>E)throw new Error("Texture height larger than max size ("+h+" vs. "+E+")");this._texture&&i.deleteTexture(r),r=this._texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,r),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,a)}else r=this._texture,i.bindTexture(i.TEXTURE_2D,r),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a instanceof HTMLVideoElement&&_.videoUseTexImage2D?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,a):i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,a);n._generateMipmaps&&o(l)&&o(h)?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR),i.generateMipmap(i.TEXTURE_2D)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR)),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,null),this._timestamp=s,this._width=l,this._height=h}},u.prototype.destroy=function(){this._texture&&this._gl.deleteTexture(this._texture),l(this)},E.TextureClass=E.prototype.TextureClass=u,module.exports=E;
},{"./Stage":"xml0","../loaders/HtmlImage":"r9QZ","bowser":"JX1Q","../util/inherits":"W3pH","../util/pixelRatio":"AQTT","../util/ispot":"VDAB","../util/dom":"Dw5L","../util/clearOwnProperties":"lrIP"}],"XJqx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=e,exports.toRadian=s,exports.equals=n,exports.RANDOM=exports.ARRAY_TYPE=exports.EPSILON=void 0;var t=1e-6;exports.EPSILON=t;var r="undefined"!=typeof Float32Array?Float32Array:Array;exports.ARRAY_TYPE=r;var a=Math.random;function e(t){exports.ARRAY_TYPE=r=t}exports.RANDOM=a;var o=Math.PI/180;function s(t){return t*o}function n(r,a){return Math.abs(r-a)<=t*Math.max(1,Math.abs(r),Math.abs(a))}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});
},{}],"eN7R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.copy=a,exports.identity=u,exports.fromValues=s,exports.set=i,exports.transpose=c,exports.invert=p,exports.adjoint=f,exports.determinant=l,exports.multiply=x,exports.rotate=M,exports.scale=h,exports.fromRotation=b,exports.fromScaling=v,exports.str=d,exports.frob=y,exports.LDU=m,exports.add=P,exports.subtract=O,exports.exactEquals=A,exports.equals=j,exports.multiplyScalar=E,exports.multiplyScalarAndAdd=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=a?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function i(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function c(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function p(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*a-o*n;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-o*u,t[3]=e*u,t):null}function f(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function l(t){return t[0]*t[3]-t[2]*t[1]}function x(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return t[0]=n*s+a*i,t[1]=o*s+u*i,t[2]=n*c+a*p,t[3]=o*c+u*p,t}function M(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=Math.sin(e),i=Math.cos(e);return t[0]=n*i+a*s,t[1]=o*i+u*s,t[2]=n*-s+a*i,t[3]=o*-s+u*i,t}function h(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1];return t[0]=n*s,t[1]=o*s,t[2]=a*i,t[3]=u*i,t}function b(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function v(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function d(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function y(t){return Math.hypot(t[0],t[1],t[2],t[3])}function m(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function P(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function O(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function A(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function j(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],c=e[2],p=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-p)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}function E(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function R(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}var w=x;exports.mul=w;var Y=O;exports.sub=Y;
},{"./common.js":"XJqx"}],"M21d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=a,exports.copy=o,exports.identity=u,exports.fromValues=s,exports.set=i,exports.invert=c,exports.determinant=p,exports.multiply=f,exports.rotate=l,exports.scale=x,exports.translate=M,exports.fromRotation=h,exports.fromScaling=b,exports.fromTranslation=v,exports.str=m,exports.frob=d,exports.add=y,exports.subtract=P,exports.multiplyScalar=O,exports.multiplyScalarAndAdd=A,exports.exactEquals=E,exports.equals=R,exports.sub=exports.mul=void 0;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=t[u]}return a.default=t,n&&n.set(t,a),a}function n(){var r=new t.ARRAY_TYPE(6);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function a(r){var e=new t.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function s(r,e,n,a,o,u){var s=new t.ARRAY_TYPE(6);return s[0]=r,s[1]=e,s[2]=n,s[3]=a,s[4]=o,s[5]=u,s}function i(t,r,e,n,a,o,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=a,t[4]=o,t[5]=u,t}function c(t,r){var e=r[0],n=r[1],a=r[2],o=r[3],u=r[4],s=r[5],i=e*o-n*a;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=e*i,t[4]=(a*s-o*u)*i,t[5]=(n*u-e*s)*i,t):null}function p(t){return t[0]*t[3]-t[1]*t[2]}function f(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],l=e[3],x=e[4],M=e[5];return t[0]=n*c+o*p,t[1]=a*c+u*p,t[2]=n*f+o*l,t[3]=a*f+u*l,t[4]=n*x+o*M+s,t[5]=a*x+u*M+i,t}function l(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=Math.sin(e),p=Math.cos(e);return t[0]=n*p+o*c,t[1]=a*p+u*c,t[2]=n*-c+o*p,t[3]=a*-c+u*p,t[4]=s,t[5]=i,t}function x(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n*c,t[1]=a*c,t[2]=o*p,t[3]=u*p,t[4]=s,t[5]=i,t}function M(t,r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=u,t[4]=n*c+o*p+s,t[5]=a*c+u*p+i,t}function h(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function m(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function d(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function P(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function O(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function A(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function E(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function R(r,e){var n=r[0],a=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=e[0],p=e[1],f=e[2],l=e[3],x=e[4],M=e[5];return Math.abs(n-c)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-f)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-l)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(s-x)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(i-M)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))}var S=f;exports.mul=S;var j=P;exports.sub=j;
},{"./common.js":"XJqx"}],"vtQf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.fromMat4=e,exports.clone=o,exports.copy=u,exports.fromValues=s,exports.set=i,exports.identity=c,exports.transpose=f,exports.invert=p,exports.adjoint=M,exports.determinant=x,exports.multiply=h,exports.translate=l,exports.rotate=b,exports.scale=m,exports.fromTranslation=v,exports.fromRotation=P,exports.fromScaling=d,exports.fromMat2d=O,exports.fromQuat=y,exports.normalFromMat4=E,exports.projection=S,exports.str=A,exports.frob=j,exports.add=I,exports.subtract=L,exports.multiplyScalar=N,exports.multiplyScalarAndAdd=R,exports.exactEquals=w,exports.equals=Y,exports.sub=exports.mul=void 0;var t=a(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var a=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:a})(t)}function a(t,a){if(!a&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(a);if(n&&n.has(t))return n.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(e,u,s):e[u]=t[u]}return e.default=t,n&&n.set(t,e),e}function n(){var r=new t.ARRAY_TYPE(9);return t.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function o(r){var a=new t.ARRAY_TYPE(9);return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function s(r,a,n,e,o,u,s,i,c){var f=new t.ARRAY_TYPE(9);return f[0]=r,f[1]=a,f[2]=n,f[3]=e,f[4]=o,f[5]=u,f[6]=s,f[7]=i,f[8]=c,f}function i(t,r,a,n,e,o,u,s,i,c){return t[0]=r,t[1]=a,t[2]=n,t[3]=e,t[4]=o,t[5]=u,t[6]=s,t[7]=i,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,r){if(t===r){var a=r[1],n=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=a,t[5]=r[7],t[6]=n,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function p(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=f*u-s*c,M=-f*o+s*i,x=c*o-u*i,h=a*p+n*M+e*x;return h?(h=1/h,t[0]=p*h,t[1]=(-f*n+e*c)*h,t[2]=(s*n-e*u)*h,t[3]=M*h,t[4]=(f*a-e*i)*h,t[5]=(-s*a+e*o)*h,t[6]=x*h,t[7]=(-c*a+n*i)*h,t[8]=(u*a-n*o)*h,t):null}function M(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8];return t[0]=u*f-s*c,t[1]=e*c-n*f,t[2]=n*s-e*u,t[3]=s*i-o*f,t[4]=a*f-e*i,t[5]=e*o-a*s,t[6]=o*c-u*i,t[7]=n*i-a*c,t[8]=a*u-n*o,t}function x(t){var r=t[0],a=t[1],n=t[2],e=t[3],o=t[4],u=t[5],s=t[6],i=t[7],c=t[8];return r*(c*o-u*i)+a*(-c*e+u*s)+n*(i*e-o*s)}function h(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=a[0],x=a[1],h=a[2],l=a[3],b=a[4],m=a[5],v=a[6],P=a[7],d=a[8];return t[0]=M*n+x*u+h*c,t[1]=M*e+x*s+h*f,t[2]=M*o+x*i+h*p,t[3]=l*n+b*u+m*c,t[4]=l*e+b*s+m*f,t[5]=l*o+b*i+m*p,t[6]=v*n+P*u+d*c,t[7]=v*e+P*s+d*f,t[8]=v*o+P*i+d*p,t}function l(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=a[0],x=a[1];return t[0]=n,t[1]=e,t[2]=o,t[3]=u,t[4]=s,t[5]=i,t[6]=M*n+x*u+c,t[7]=M*e+x*s+f,t[8]=M*o+x*i+p,t}function b(t,r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=Math.sin(a),x=Math.cos(a);return t[0]=x*n+M*u,t[1]=x*e+M*s,t[2]=x*o+M*i,t[3]=x*u-M*n,t[4]=x*s-M*e,t[5]=x*i-M*o,t[6]=c,t[7]=f,t[8]=p,t}function m(t,r,a){var n=a[0],e=a[1];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function P(t,r){var a=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=a,t[2]=0,t[3]=-a,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function y(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=a+a,s=n+n,i=e+e,c=a*u,f=n*u,p=n*s,M=e*u,x=e*s,h=e*i,l=o*u,b=o*s,m=o*i;return t[0]=1-p-h,t[3]=f-m,t[6]=M+b,t[1]=f+m,t[4]=1-c-h,t[7]=x-l,t[2]=M-b,t[5]=x+l,t[8]=1-c-p,t}function E(t,r){var a=r[0],n=r[1],e=r[2],o=r[3],u=r[4],s=r[5],i=r[6],c=r[7],f=r[8],p=r[9],M=r[10],x=r[11],h=r[12],l=r[13],b=r[14],m=r[15],v=a*s-n*u,P=a*i-e*u,d=a*c-o*u,O=n*i-e*s,y=n*c-o*s,E=e*c-o*i,S=f*l-p*h,A=f*b-M*h,j=f*m-x*h,I=p*b-M*l,L=p*m-x*l,N=M*m-x*b,R=v*N-P*L+d*I+O*j-y*A+E*S;return R?(R=1/R,t[0]=(s*N-i*L+c*I)*R,t[1]=(i*j-u*N-c*A)*R,t[2]=(u*L-s*j+c*S)*R,t[3]=(e*L-n*N-o*I)*R,t[4]=(a*N-e*j+o*A)*R,t[5]=(n*j-a*L-o*S)*R,t[6]=(l*E-b*y+m*O)*R,t[7]=(b*d-h*E-m*P)*R,t[8]=(h*y-l*d+m*v)*R,t):null}function S(t,r,a){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function j(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function I(t,r,a){return t[0]=r[0]+a[0],t[1]=r[1]+a[1],t[2]=r[2]+a[2],t[3]=r[3]+a[3],t[4]=r[4]+a[4],t[5]=r[5]+a[5],t[6]=r[6]+a[6],t[7]=r[7]+a[7],t[8]=r[8]+a[8],t}function L(t,r,a){return t[0]=r[0]-a[0],t[1]=r[1]-a[1],t[2]=r[2]-a[2],t[3]=r[3]-a[3],t[4]=r[4]-a[4],t[5]=r[5]-a[5],t[6]=r[6]-a[6],t[7]=r[7]-a[7],t[8]=r[8]-a[8],t}function N(t,r,a){return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=r[7]*a,t[8]=r[8]*a,t}function R(t,r,a,n){return t[0]=r[0]+a[0]*n,t[1]=r[1]+a[1]*n,t[2]=r[2]+a[2]*n,t[3]=r[3]+a[3]*n,t[4]=r[4]+a[4]*n,t[5]=r[5]+a[5]*n,t[6]=r[6]+a[6]*n,t[7]=r[7]+a[7]*n,t[8]=r[8]+a[8]*n,t}function w(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function Y(r,a){var n=r[0],e=r[1],o=r[2],u=r[3],s=r[4],i=r[5],c=r[6],f=r[7],p=r[8],M=a[0],x=a[1],h=a[2],l=a[3],b=a[4],m=a[5],v=a[6],P=a[7],d=a[8];return Math.abs(n-M)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(e-x)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-l)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(l))&&Math.abs(s-b)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(i-m)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(c-v)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-P)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(p-d)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(d))}var _=h;exports.mul=_;var g=L;exports.sub=g;
},{"./common.js":"XJqx"}],"w3aR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=e,exports.copy=o,exports.fromValues=s,exports.set=u,exports.identity=h,exports.transpose=M,exports.invert=i,exports.adjoint=p,exports.determinant=c,exports.multiply=f,exports.translate=x,exports.scale=b,exports.rotate=l,exports.rotateX=v,exports.rotateY=m,exports.rotateZ=P,exports.fromTranslation=O,exports.fromScaling=E,exports.fromRotation=S,exports.fromXRotation=y,exports.fromYRotation=I,exports.fromZRotation=L,exports.fromRotationTranslation=N,exports.fromQuat2=R,exports.getTranslation=d,exports.getScaling=g,exports.getRotation=A,exports.fromRotationTranslationScale=Y,exports.fromRotationTranslationScaleOrigin=w,exports.fromQuat=T,exports.frustum=_,exports.perspective=j,exports.perspectiveFromFieldOfView=q,exports.ortho=D,exports.lookAt=k,exports.targetTo=F,exports.str=W,exports.frob=Q,exports.add=V,exports.subtract=X,exports.multiplyScalar=Z,exports.multiplyScalarAndAdd=z,exports.exactEquals=B,exports.equals=C,exports.sub=exports.mul=void 0;var t=r(require("./common.js"));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:r})(t)}function r(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=a(r);if(n&&n.has(t))return n.get(t);var e={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(e,s,u):e[s]=t[s]}return e.default=t,n&&n.set(t,e),e}function n(){var a=new t.ARRAY_TYPE(16);return t.ARRAY_TYPE!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a}function e(a){var r=new t.ARRAY_TYPE(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function o(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function s(a,r,n,e,o,s,u,h,M,i,p,c,f,x,b,l){var v=new t.ARRAY_TYPE(16);return v[0]=a,v[1]=r,v[2]=n,v[3]=e,v[4]=o,v[5]=s,v[6]=u,v[7]=h,v[8]=M,v[9]=i,v[10]=p,v[11]=c,v[12]=f,v[13]=x,v[14]=b,v[15]=l,v}function u(t,a,r,n,e,o,s,u,h,M,i,p,c,f,x,b,l){return t[0]=a,t[1]=r,t[2]=n,t[3]=e,t[4]=o,t[5]=s,t[6]=u,t[7]=h,t[8]=M,t[9]=i,t[10]=p,t[11]=c,t[12]=f,t[13]=x,t[14]=b,t[15]=l,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,a){if(t===a){var r=a[1],n=a[2],e=a[3],o=a[6],s=a[7],u=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=r,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=o,t[11]=a[14],t[12]=e,t[13]=s,t[14]=u}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],p=a[9],c=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15],m=r*u-n*s,P=r*h-e*s,O=r*M-o*s,E=n*h-e*u,S=n*M-o*u,y=e*M-o*h,I=i*b-p*x,L=i*l-c*x,N=i*v-f*x,R=p*l-c*b,d=p*v-f*b,g=c*v-f*l,A=m*g-P*d+O*R+E*N-S*L+y*I;return A?(A=1/A,t[0]=(u*g-h*d+M*R)*A,t[1]=(e*d-n*g-o*R)*A,t[2]=(b*y-l*S+v*E)*A,t[3]=(c*S-p*y-f*E)*A,t[4]=(h*N-s*g-M*L)*A,t[5]=(r*g-e*N+o*L)*A,t[6]=(l*O-x*y-v*P)*A,t[7]=(i*y-c*O+f*P)*A,t[8]=(s*d-u*N+M*I)*A,t[9]=(n*N-r*d-o*I)*A,t[10]=(x*S-b*O+v*m)*A,t[11]=(p*O-i*S-f*m)*A,t[12]=(u*L-s*R-h*I)*A,t[13]=(r*R-n*L+e*I)*A,t[14]=(b*P-x*E-l*m)*A,t[15]=(i*E-p*P+c*m)*A,t):null}function p(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=a[4],u=a[5],h=a[6],M=a[7],i=a[8],p=a[9],c=a[10],f=a[11],x=a[12],b=a[13],l=a[14],v=a[15];return t[0]=u*(c*v-f*l)-p*(h*v-M*l)+b*(h*f-M*c),t[1]=-(n*(c*v-f*l)-p*(e*v-o*l)+b*(e*f-o*c)),t[2]=n*(h*v-M*l)-u*(e*v-o*l)+b*(e*M-o*h),t[3]=-(n*(h*f-M*c)-u*(e*f-o*c)+p*(e*M-o*h)),t[4]=-(s*(c*v-f*l)-i*(h*v-M*l)+x*(h*f-M*c)),t[5]=r*(c*v-f*l)-i*(e*v-o*l)+x*(e*f-o*c),t[6]=-(r*(h*v-M*l)-s*(e*v-o*l)+x*(e*M-o*h)),t[7]=r*(h*f-M*c)-s*(e*f-o*c)+i*(e*M-o*h),t[8]=s*(p*v-f*b)-i*(u*v-M*b)+x*(u*f-M*p),t[9]=-(r*(p*v-f*b)-i*(n*v-o*b)+x*(n*f-o*p)),t[10]=r*(u*v-M*b)-s*(n*v-o*b)+x*(n*M-o*u),t[11]=-(r*(u*f-M*p)-s*(n*f-o*p)+i*(n*M-o*u)),t[12]=-(s*(p*l-c*b)-i*(u*l-h*b)+x*(u*c-h*p)),t[13]=r*(p*l-c*b)-i*(n*l-e*b)+x*(n*c-e*p),t[14]=-(r*(u*l-h*b)-s*(n*l-e*b)+x*(n*h-e*u)),t[15]=r*(u*c-h*p)-s*(n*c-e*p)+i*(n*h-e*u),t}function c(t){var a=t[0],r=t[1],n=t[2],e=t[3],o=t[4],s=t[5],u=t[6],h=t[7],M=t[8],i=t[9],p=t[10],c=t[11],f=t[12],x=t[13],b=t[14],l=t[15];return(a*s-r*o)*(p*l-c*b)-(a*u-n*o)*(i*l-c*x)+(a*h-e*o)*(i*b-p*x)+(r*u-n*s)*(M*l-c*f)-(r*h-e*s)*(M*b-p*f)+(n*h-e*u)*(M*x-i*f)}function f(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3];return t[0]=P*n+O*u+E*p+S*b,t[1]=P*e+O*h+E*c+S*l,t[2]=P*o+O*M+E*f+S*v,t[3]=P*s+O*i+E*x+S*m,P=r[4],O=r[5],E=r[6],S=r[7],t[4]=P*n+O*u+E*p+S*b,t[5]=P*e+O*h+E*c+S*l,t[6]=P*o+O*M+E*f+S*v,t[7]=P*s+O*i+E*x+S*m,P=r[8],O=r[9],E=r[10],S=r[11],t[8]=P*n+O*u+E*p+S*b,t[9]=P*e+O*h+E*c+S*l,t[10]=P*o+O*M+E*f+S*v,t[11]=P*s+O*i+E*x+S*m,P=r[12],O=r[13],E=r[14],S=r[15],t[12]=P*n+O*u+E*p+S*b,t[13]=P*e+O*h+E*c+S*l,t[14]=P*o+O*M+E*f+S*v,t[15]=P*s+O*i+E*x+S*m,t}function x(t,a,r){var n,e,o,s,u,h,M,i,p,c,f,x,b=r[0],l=r[1],v=r[2];return a===t?(t[12]=a[0]*b+a[4]*l+a[8]*v+a[12],t[13]=a[1]*b+a[5]*l+a[9]*v+a[13],t[14]=a[2]*b+a[6]*l+a[10]*v+a[14],t[15]=a[3]*b+a[7]*l+a[11]*v+a[15]):(n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],t[0]=n,t[1]=e,t[2]=o,t[3]=s,t[4]=u,t[5]=h,t[6]=M,t[7]=i,t[8]=p,t[9]=c,t[10]=f,t[11]=x,t[12]=n*b+u*l+p*v+a[12],t[13]=e*b+h*l+c*v+a[13],t[14]=o*b+M*l+f*v+a[14],t[15]=s*b+i*l+x*v+a[15]),t}function b(t,a,r){var n=r[0],e=r[1],o=r[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*e,t[5]=a[5]*e,t[6]=a[6]*e,t[7]=a[7]*e,t[8]=a[8]*o,t[9]=a[9]*o,t[10]=a[10]*o,t[11]=a[11]*o,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function l(a,r,n,e){var o,s,u,h,M,i,p,c,f,x,b,l,v,m,P,O,E,S,y,I,L,N,R,d,g=e[0],A=e[1],Y=e[2],w=Math.hypot(g,A,Y);return w<t.EPSILON?null:(g*=w=1/w,A*=w,Y*=w,o=Math.sin(n),u=1-(s=Math.cos(n)),h=r[0],M=r[1],i=r[2],p=r[3],c=r[4],f=r[5],x=r[6],b=r[7],l=r[8],v=r[9],m=r[10],P=r[11],O=g*g*u+s,E=A*g*u+Y*o,S=Y*g*u-A*o,y=g*A*u-Y*o,I=A*A*u+s,L=Y*A*u+g*o,N=g*Y*u+A*o,R=A*Y*u-g*o,d=Y*Y*u+s,a[0]=h*O+c*E+l*S,a[1]=M*O+f*E+v*S,a[2]=i*O+x*E+m*S,a[3]=p*O+b*E+P*S,a[4]=h*y+c*I+l*L,a[5]=M*y+f*I+v*L,a[6]=i*y+x*I+m*L,a[7]=p*y+b*I+P*L,a[8]=h*N+c*R+l*d,a[9]=M*N+f*R+v*d,a[10]=i*N+x*R+m*d,a[11]=p*N+b*R+P*d,r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a)}function v(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[4],s=a[5],u=a[6],h=a[7],M=a[8],i=a[9],p=a[10],c=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=o*e+M*n,t[5]=s*e+i*n,t[6]=u*e+p*n,t[7]=h*e+c*n,t[8]=M*e-o*n,t[9]=i*e-s*n,t[10]=p*e-u*n,t[11]=c*e-h*n,t}function m(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[8],i=a[9],p=a[10],c=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e-M*n,t[1]=s*e-i*n,t[2]=u*e-p*n,t[3]=h*e-c*n,t[8]=o*n+M*e,t[9]=s*n+i*e,t[10]=u*n+p*e,t[11]=h*n+c*e,t}function P(t,a,r){var n=Math.sin(r),e=Math.cos(r),o=a[0],s=a[1],u=a[2],h=a[3],M=a[4],i=a[5],p=a[6],c=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=o*e+M*n,t[1]=s*e+i*n,t[2]=u*e+p*n,t[3]=h*e+c*n,t[4]=M*e-o*n,t[5]=i*e-s*n,t[6]=p*e-u*n,t[7]=c*e-h*n,t}function O(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function E(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(a,r,n){var e,o,s,u=n[0],h=n[1],M=n[2],i=Math.hypot(u,h,M);return i<t.EPSILON?null:(u*=i=1/i,h*=i,M*=i,e=Math.sin(r),s=1-(o=Math.cos(r)),a[0]=u*u*s+o,a[1]=h*u*s+M*e,a[2]=M*u*s-h*e,a[3]=0,a[4]=u*h*s-M*e,a[5]=h*h*s+o,a[6]=M*h*s+u*e,a[7]=0,a[8]=u*M*s+h*e,a[9]=h*M*s-u*e,a[10]=M*M*s+o,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}function y(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function I(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function L(t,a){var r=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function N(t,a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=n+n,h=e+e,M=o+o,i=n*u,p=n*h,c=n*M,f=e*h,x=e*M,b=o*M,l=s*u,v=s*h,m=s*M;return t[0]=1-(f+b),t[1]=p+m,t[2]=c-v,t[3]=0,t[4]=p-m,t[5]=1-(i+b),t[6]=x+l,t[7]=0,t[8]=c+v,t[9]=x-l,t[10]=1-(i+f),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(a,r){var n=new t.ARRAY_TYPE(3),e=-r[0],o=-r[1],s=-r[2],u=r[3],h=r[4],M=r[5],i=r[6],p=r[7],c=e*e+o*o+s*s+u*u;return c>0?(n[0]=2*(h*u+p*e+M*s-i*o)/c,n[1]=2*(M*u+p*o+i*e-h*s)/c,n[2]=2*(i*u+p*s+h*o-M*e)/c):(n[0]=2*(h*u+p*e+M*s-i*o),n[1]=2*(M*u+p*o+i*e-h*s),n[2]=2*(i*u+p*s+h*o-M*e)),N(a,r,n),a}function d(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function g(t,a){var r=a[0],n=a[1],e=a[2],o=a[4],s=a[5],u=a[6],h=a[8],M=a[9],i=a[10];return t[0]=Math.hypot(r,n,e),t[1]=Math.hypot(o,s,u),t[2]=Math.hypot(h,M,i),t}function A(a,r){var n=new t.ARRAY_TYPE(3);g(n,r);var e=1/n[0],o=1/n[1],s=1/n[2],u=r[0]*e,h=r[1]*o,M=r[2]*s,i=r[4]*e,p=r[5]*o,c=r[6]*s,f=r[8]*e,x=r[9]*o,b=r[10]*s,l=u+p+b,v=0;return l>0?(v=2*Math.sqrt(l+1),a[3]=.25*v,a[0]=(c-x)/v,a[1]=(f-M)/v,a[2]=(h-i)/v):u>p&&u>b?(v=2*Math.sqrt(1+u-p-b),a[3]=(c-x)/v,a[0]=.25*v,a[1]=(h+i)/v,a[2]=(f+M)/v):p>b?(v=2*Math.sqrt(1+p-u-b),a[3]=(f-M)/v,a[0]=(h+i)/v,a[1]=.25*v,a[2]=(c+x)/v):(v=2*Math.sqrt(1+b-u-p),a[3]=(h-i)/v,a[0]=(f+M)/v,a[1]=(c+x)/v,a[2]=.25*v),a}function Y(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=a[3],h=e+e,M=o+o,i=s+s,p=e*h,c=e*M,f=e*i,x=o*M,b=o*i,l=s*i,v=u*h,m=u*M,P=u*i,O=n[0],E=n[1],S=n[2];return t[0]=(1-(x+l))*O,t[1]=(c+P)*O,t[2]=(f-m)*O,t[3]=0,t[4]=(c-P)*E,t[5]=(1-(p+l))*E,t[6]=(b+v)*E,t[7]=0,t[8]=(f+m)*S,t[9]=(b-v)*S,t[10]=(1-(p+x))*S,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function w(t,a,r,n,e){var o=a[0],s=a[1],u=a[2],h=a[3],M=o+o,i=s+s,p=u+u,c=o*M,f=o*i,x=o*p,b=s*i,l=s*p,v=u*p,m=h*M,P=h*i,O=h*p,E=n[0],S=n[1],y=n[2],I=e[0],L=e[1],N=e[2],R=(1-(b+v))*E,d=(f+O)*E,g=(x-P)*E,A=(f-O)*S,Y=(1-(c+v))*S,w=(l+m)*S,T=(x+P)*y,_=(l-m)*y,j=(1-(c+b))*y;return t[0]=R,t[1]=d,t[2]=g,t[3]=0,t[4]=A,t[5]=Y,t[6]=w,t[7]=0,t[8]=T,t[9]=_,t[10]=j,t[11]=0,t[12]=r[0]+I-(R*I+A*L+T*N),t[13]=r[1]+L-(d*I+Y*L+_*N),t[14]=r[2]+N-(g*I+w*L+j*N),t[15]=1,t}function T(t,a){var r=a[0],n=a[1],e=a[2],o=a[3],s=r+r,u=n+n,h=e+e,M=r*s,i=n*s,p=n*u,c=e*s,f=e*u,x=e*h,b=o*s,l=o*u,v=o*h;return t[0]=1-p-x,t[1]=i+v,t[2]=c-l,t[3]=0,t[4]=i-v,t[5]=1-M-x,t[6]=f+b,t[7]=0,t[8]=c+l,t[9]=f-b,t[10]=1-M-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,a,r,n,e,o,s){var u=1/(r-a),h=1/(e-n),M=1/(o-s);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*h,t[6]=0,t[7]=0,t[8]=(r+a)*u,t[9]=(e+n)*h,t[10]=(s+o)*M,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*M,t[15]=0,t}function j(t,a,r,n,e){var o,s=1/Math.tan(a/2);return t[0]=s/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(n-e),t[10]=(e+n)*o,t[14]=2*e*n*o):(t[10]=-1,t[14]=-2*n),t}function q(t,a,r,n){var e=Math.tan(a.upDegrees*Math.PI/180),o=Math.tan(a.downDegrees*Math.PI/180),s=Math.tan(a.leftDegrees*Math.PI/180),u=Math.tan(a.rightDegrees*Math.PI/180),h=2/(s+u),M=2/(e+o);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=M,t[6]=0,t[7]=0,t[8]=-(s-u)*h*.5,t[9]=(e-o)*M*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function D(t,a,r,n,e,o,s){var u=1/(a-r),h=1/(n-e),M=1/(o-s);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*M,t[11]=0,t[12]=(a+r)*u,t[13]=(e+n)*h,t[14]=(s+o)*M,t[15]=1,t}function k(a,r,n,e){var o,s,u,M,i,p,c,f,x,b,l=r[0],v=r[1],m=r[2],P=e[0],O=e[1],E=e[2],S=n[0],y=n[1],I=n[2];return Math.abs(l-S)<t.EPSILON&&Math.abs(v-y)<t.EPSILON&&Math.abs(m-I)<t.EPSILON?h(a):(c=l-S,f=v-y,x=m-I,o=O*(x*=b=1/Math.hypot(c,f,x))-E*(f*=b),s=E*(c*=b)-P*x,u=P*f-O*c,(b=Math.hypot(o,s,u))?(o*=b=1/b,s*=b,u*=b):(o=0,s=0,u=0),M=f*u-x*s,i=x*o-c*u,p=c*s-f*o,(b=Math.hypot(M,i,p))?(M*=b=1/b,i*=b,p*=b):(M=0,i=0,p=0),a[0]=o,a[1]=M,a[2]=c,a[3]=0,a[4]=s,a[5]=i,a[6]=f,a[7]=0,a[8]=u,a[9]=p,a[10]=x,a[11]=0,a[12]=-(o*l+s*v+u*m),a[13]=-(M*l+i*v+p*m),a[14]=-(c*l+f*v+x*m),a[15]=1,a)}function F(t,a,r,n){var e=a[0],o=a[1],s=a[2],u=n[0],h=n[1],M=n[2],i=e-r[0],p=o-r[1],c=s-r[2],f=i*i+p*p+c*c;f>0&&(i*=f=1/Math.sqrt(f),p*=f,c*=f);var x=h*c-M*p,b=M*i-u*c,l=u*p-h*i;return(f=x*x+b*b+l*l)>0&&(x*=f=1/Math.sqrt(f),b*=f,l*=f),t[0]=x,t[1]=b,t[2]=l,t[3]=0,t[4]=p*l-c*b,t[5]=c*x-i*l,t[6]=i*b-p*x,t[7]=0,t[8]=i,t[9]=p,t[10]=c,t[11]=0,t[12]=e,t[13]=o,t[14]=s,t[15]=1,t}function W(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Q(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function V(t,a,r){return t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t[3]=a[3]+r[3],t[4]=a[4]+r[4],t[5]=a[5]+r[5],t[6]=a[6]+r[6],t[7]=a[7]+r[7],t[8]=a[8]+r[8],t[9]=a[9]+r[9],t[10]=a[10]+r[10],t[11]=a[11]+r[11],t[12]=a[12]+r[12],t[13]=a[13]+r[13],t[14]=a[14]+r[14],t[15]=a[15]+r[15],t}function X(t,a,r){return t[0]=a[0]-r[0],t[1]=a[1]-r[1],t[2]=a[2]-r[2],t[3]=a[3]-r[3],t[4]=a[4]-r[4],t[5]=a[5]-r[5],t[6]=a[6]-r[6],t[7]=a[7]-r[7],t[8]=a[8]-r[8],t[9]=a[9]-r[9],t[10]=a[10]-r[10],t[11]=a[11]-r[11],t[12]=a[12]-r[12],t[13]=a[13]-r[13],t[14]=a[14]-r[14],t[15]=a[15]-r[15],t}function Z(t,a,r){return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*r,t[5]=a[5]*r,t[6]=a[6]*r,t[7]=a[7]*r,t[8]=a[8]*r,t[9]=a[9]*r,t[10]=a[10]*r,t[11]=a[11]*r,t[12]=a[12]*r,t[13]=a[13]*r,t[14]=a[14]*r,t[15]=a[15]*r,t}function z(t,a,r,n){return t[0]=a[0]+r[0]*n,t[1]=a[1]+r[1]*n,t[2]=a[2]+r[2]*n,t[3]=a[3]+r[3]*n,t[4]=a[4]+r[4]*n,t[5]=a[5]+r[5]*n,t[6]=a[6]+r[6]*n,t[7]=a[7]+r[7]*n,t[8]=a[8]+r[8]*n,t[9]=a[9]+r[9]*n,t[10]=a[10]+r[10]*n,t[11]=a[11]+r[11]*n,t[12]=a[12]+r[12]*n,t[13]=a[13]+r[13]*n,t[14]=a[14]+r[14]*n,t[15]=a[15]+r[15]*n,t}function B(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function C(a,r){var n=a[0],e=a[1],o=a[2],s=a[3],u=a[4],h=a[5],M=a[6],i=a[7],p=a[8],c=a[9],f=a[10],x=a[11],b=a[12],l=a[13],v=a[14],m=a[15],P=r[0],O=r[1],E=r[2],S=r[3],y=r[4],I=r[5],L=r[6],N=r[7],R=r[8],d=r[9],g=r[10],A=r[11],Y=r[12],w=r[13],T=r[14],_=r[15];return Math.abs(n-P)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(e-O)<=t.EPSILON*Math.max(1,Math.abs(e),Math.abs(O))&&Math.abs(o-E)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(s-S)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(u-y)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-I)<=t.EPSILON*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(M-L)<=t.EPSILON*Math.max(1,Math.abs(M),Math.abs(L))&&Math.abs(i-N)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(N))&&Math.abs(p-R)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(c-d)<=t.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(f-g)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(x-A)<=t.EPSILON*Math.max(1,Math.abs(x),Math.abs(A))&&Math.abs(b-Y)<=t.EPSILON*Math.max(1,Math.abs(b),Math.abs(Y))&&Math.abs(l-w)<=t.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(v-T)<=t.EPSILON*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(m-_)<=t.EPSILON*Math.max(1,Math.abs(m),Math.abs(_))}var G=f;exports.mul=G;var H=X;exports.sub=H;
},{"./common.js":"XJqx"}],"AWBd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.length=a,exports.fromValues=s,exports.copy=u,exports.set=i,exports.add=c,exports.subtract=p,exports.multiply=f,exports.divide=x,exports.ceil=h,exports.floor=M,exports.min=v,exports.max=l,exports.round=d,exports.scale=m,exports.scaleAndAdd=b,exports.distance=y,exports.squaredDistance=O,exports.squaredLength=P,exports.negate=q,exports.inverse=A,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=Y,exports.hermite=j,exports.bezier=w,exports.random=_,exports.transformMat4=D,exports.transformMat3=L,exports.transformQuat=N,exports.rotateX=I,exports.rotateY=T,exports.rotateZ=k,exports.angle=z,exports.zero=S,exports.str=W,exports.exactEquals=F,exports.equals=Q,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(3);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var e=new t.ARRAY_TYPE(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function a(t){var r=t[0],e=t[1],n=t[2];return Math.hypot(r,e,n)}function s(r,e,n){var o=new t.ARRAY_TYPE(3);return o[0]=r,o[1]=e,o[2]=n,o}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function i(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function c(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function p(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function f(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function x(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function h(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function M(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function v(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function d(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function m(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function b(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.hypot(e,n,o)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return e*e+n*n+o*o}function P(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function q(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function A(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function g(t,r){var e=r[0],n=r[1],o=r[2],a=e*e+n*n+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function R(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return t[0]=o*i-a*u,t[1]=a*s-n*i,t[2]=n*u-o*s,t}function Y(t,r,e,n){var o=r[0],a=r[1],s=r[2];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t}function j(t,r,e,n,o,a){var s=a*a,u=s*(2*a-3)+1,i=s*(a-2)+a,c=s*(a-1),p=s*(3-2*a);return t[0]=r[0]*u+e[0]*i+n[0]*c+o[0]*p,t[1]=r[1]*u+e[1]*i+n[1]*c+o[1]*p,t[2]=r[2]*u+e[2]*i+n[2]*c+o[2]*p,t}function w(t,r,e,n,o,a){var s=1-a,u=s*s,i=a*a,c=u*s,p=3*a*u,f=3*i*s,x=i*a;return t[0]=r[0]*c+e[0]*p+n[0]*f+o[0]*x,t[1]=r[1]*c+e[1]*p+n[1]*f+o[1]*x,t[2]=r[2]*c+e[2]*p+n[2]*f+o[2]*x,t}function _(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI,o=2*t.RANDOM()-1,a=Math.sqrt(1-o*o)*e;return r[0]=Math.cos(n)*a,r[1]=Math.sin(n)*a,r[2]=o*e,r}function D(t,r,e){var n=r[0],o=r[1],a=r[2],s=e[3]*n+e[7]*o+e[11]*a+e[15];return s=s||1,t[0]=(e[0]*n+e[4]*o+e[8]*a+e[12])/s,t[1]=(e[1]*n+e[5]*o+e[9]*a+e[13])/s,t[2]=(e[2]*n+e[6]*o+e[10]*a+e[14])/s,t}function L(t,r,e){var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[3]+a*e[6],t[1]=n*e[1]+o*e[4]+a*e[7],t[2]=n*e[2]+o*e[5]+a*e[8],t}function N(t,r,e){var n=e[0],o=e[1],a=e[2],s=e[3],u=r[0],i=r[1],c=r[2],p=o*c-a*i,f=a*u-n*c,x=n*i-o*u,h=o*x-a*f,M=a*p-n*x,v=n*f-o*p,l=2*s;return p*=l,f*=l,x*=l,h*=2,M*=2,v*=2,t[0]=u+p+h,t[1]=i+f+M,t[2]=c+x+v,t}function I(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0],a[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),a[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function T(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),a[1]=o[1],a[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function k(t,r,e,n){var o=[],a=[];return o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2],a[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),a[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),a[2]=o[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function z(t,r){var e=t[0],n=t[1],o=t[2],a=r[0],s=r[1],u=r[2],i=Math.sqrt(e*e+n*n+o*o)*Math.sqrt(a*a+s*s+u*u),c=i&&E(t,r)/i;return Math.acos(Math.min(Math.max(c,-1),1))}function S(t){return t[0]=0,t[1]=0,t[2]=0,t}function W(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function F(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function Q(r,e){var n=r[0],o=r[1],a=r[2],s=e[0],u=e[1],i=e[2];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(a-i)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))}var V=p;exports.sub=V;var X=f;exports.mul=X;var Z=x;exports.div=Z;var B=y;exports.dist=B;var C=O;exports.sqrDist=C;var G=a;exports.len=G;var H=P;exports.sqrLen=H;var J=function(){var t=n();return function(r,e,n,o,a,s){var u,i;for(e||(e=3),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,u=n;u<i;u+=e)t[0]=r[u],t[1]=r[u+1],t[2]=r[u+2],a(t,t,s),r[u]=t[0],r[u+1]=t[1],r[u+2]=t[2];return r}}();exports.forEach=J;
},{"./common.js":"XJqx"}],"zWbG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=p,exports.multiply=c,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=M,exports.max=l,exports.round=v,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=O,exports.length=y,exports.squaredLength=A,exports.negate=P,exports.inverse=R,exports.normalize=q,exports.dot=E,exports.cross=w,exports.lerp=g,exports.random=D,exports.transformMat4=j,exports.transformQuat=N,exports.zero=Y,exports.str=_,exports.exactEquals=L,exports.equals=I,exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=a?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function o(r){var e=new t.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function a(r,e,n,o){var a=new t.ARRAY_TYPE(4);return a[0]=r,a[1]=e,a[2]=n,a[3]=o,a}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t,r,e,n,o){return t[0]=r,t[1]=e,t[2]=n,t[3]=o,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function p(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function l(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.hypot(e,n,o,a)}function O(t,r){var e=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+o*o+a*a}function y(t){var r=t[0],e=t[1],n=t[2],o=t[3];return Math.hypot(r,e,n,o)}function A(t){var r=t[0],e=t[1],n=t[2],o=t[3];return r*r+e*e+n*n+o*o}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function R(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function q(t,r){var e=r[0],n=r[1],o=r[2],a=r[3],u=e*e+n*n+o*o+a*a;return u>0&&(u=1/Math.sqrt(u)),t[0]=e*u,t[1]=n*u,t[2]=o*u,t[3]=a*u,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function w(t,r,e,n){var o=e[0]*n[1]-e[1]*n[0],a=e[0]*n[2]-e[2]*n[0],u=e[0]*n[3]-e[3]*n[0],s=e[1]*n[2]-e[2]*n[1],i=e[1]*n[3]-e[3]*n[1],p=e[2]*n[3]-e[3]*n[2],c=r[0],f=r[1],x=r[2],h=r[3];return t[0]=f*p-x*i+h*s,t[1]=-c*p+x*u-h*a,t[2]=c*i-f*u+h*o,t[3]=-c*s+f*a-x*o,t}function g(t,r,e,n){var o=r[0],a=r[1],u=r[2],s=r[3];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t[2]=u+n*(e[2]-u),t[3]=s+n*(e[3]-s),t}function D(r,e){var n,o,a,u,s,i;e=e||1;do{s=(n=2*t.RANDOM()-1)*n+(o=2*t.RANDOM()-1)*o}while(s>=1);do{i=(a=2*t.RANDOM()-1)*a+(u=2*t.RANDOM()-1)*u}while(i>=1);var p=Math.sqrt((1-s)/i);return r[0]=e*n,r[1]=e*o,r[2]=e*a*p,r[3]=e*u*p,r}function j(t,r,e){var n=r[0],o=r[1],a=r[2],u=r[3];return t[0]=e[0]*n+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*n+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*n+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*n+e[7]*o+e[11]*a+e[15]*u,t}function N(t,r,e){var n=r[0],o=r[1],a=r[2],u=e[0],s=e[1],i=e[2],p=e[3],c=p*n+s*a-i*o,f=p*o+i*n-u*a,x=p*a+u*o-s*n,h=-u*n-s*o-i*a;return t[0]=c*p+h*-u+f*-i-x*-s,t[1]=f*p+h*-s+x*-u-c*-i,t[2]=x*p+h*-i+c*-s-f*-u,t[3]=r[3],t}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function _(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function L(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function I(r,e){var n=r[0],o=r[1],a=r[2],u=r[3],s=e[0],i=e[1],p=e[2],c=e[3];return Math.abs(n-s)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(o-i)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(a-p)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(u-c)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))}var S=p;exports.sub=S;var T=c;exports.mul=T;var k=f;exports.div=k;var W=b;exports.dist=W;var z=O;exports.sqrDist=z;var F=y;exports.len=F;var Q=A;exports.sqrLen=Q;var V=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=4),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],t[2]=r[s+2],t[3]=r[s+3],a(t,t,u),r[s]=t[0],r[s+1]=t[1],r[s+2]=t[2],r[s+3]=t[3];return r}}();exports.forEach=V;
},{"./common.js":"XJqx"}],"KdRW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=s,exports.identity=u,exports.setAxisAngle=p,exports.getAxisAngle=c,exports.getAngle=i,exports.multiply=x,exports.rotateX=l,exports.rotateY=f,exports.rotateZ=v,exports.calculateW=M,exports.exp=h,exports.ln=q,exports.pow=d,exports.slerp=m,exports.random=g,exports.invert=y,exports.conjugate=P,exports.fromMat3=A,exports.fromEuler=O,exports.str=j,exports.setAxes=exports.sqlerp=exports.rotationTo=exports.equals=exports.exactEquals=exports.normalize=exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.lerp=exports.dot=exports.scale=exports.mul=exports.add=exports.set=exports.copy=exports.fromValues=exports.clone=void 0;var t=n(require("./common.js")),r=n(require("./mat3.js")),e=n(require("./vec3.js")),o=n(require("./vec4.js"));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(a=function(t){return t?e:r})(t)}function n(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a(r);if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=n?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}return o.default=t,e&&e.set(t,o),o}function s(){var r=new t.ARRAY_TYPE(4);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function p(t,r,e){e*=.5;var o=Math.sin(e);return t[0]=o*r[0],t[1]=o*r[1],t[2]=o*r[2],t[3]=Math.cos(e),t}function c(r,e){var o=2*Math.acos(e[3]),a=Math.sin(o/2);return a>t.EPSILON?(r[0]=e[0]/a,r[1]=e[1]/a,r[2]=e[2]/a):(r[0]=1,r[1]=0,r[2]=0),o}function i(t,r){var e=D(t,r);return Math.acos(2*e*e-1)}function x(t,r,e){var o=r[0],a=r[1],n=r[2],s=r[3],u=e[0],p=e[1],c=e[2],i=e[3];return t[0]=o*i+s*u+a*c-n*p,t[1]=a*i+s*p+n*u-o*c,t[2]=n*i+s*c+o*p-a*u,t[3]=s*i-o*u-a*p-n*c,t}function l(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+s*u,t[1]=a*p+n*u,t[2]=n*p-a*u,t[3]=s*p-o*u,t}function f(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p-n*u,t[1]=a*p+s*u,t[2]=n*p+o*u,t[3]=s*p-a*u,t}function v(t,r,e){e*=.5;var o=r[0],a=r[1],n=r[2],s=r[3],u=Math.sin(e),p=Math.cos(e);return t[0]=o*p+a*u,t[1]=a*p-o*u,t[2]=n*p+s*u,t[3]=s*p-n*u,t}function M(t,r){var e=r[0],o=r[1],a=r[2];return t[0]=e,t[1]=o,t[2]=a,t[3]=Math.sqrt(Math.abs(1-e*e-o*o-a*a)),t}function h(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=Math.exp(n),p=s>0?u*Math.sin(s)/s:0;return t[0]=e*p,t[1]=o*p,t[2]=a*p,t[3]=u*Math.cos(s),t}function q(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=Math.sqrt(e*e+o*o+a*a),u=s>0?Math.atan2(s,n)/s:0;return t[0]=e*u,t[1]=o*u,t[2]=a*u,t[3]=.5*Math.log(e*e+o*o+a*a+n*n),t}function d(t,r,e){return q(t,r),_(t,t,e),h(t,t),t}function m(r,e,o,a){var n,s,u,p,c,i=e[0],x=e[1],l=e[2],f=e[3],v=o[0],M=o[1],h=o[2],q=o[3];return(s=i*v+x*M+l*h+f*q)<0&&(s=-s,v=-v,M=-M,h=-h,q=-q),1-s>t.EPSILON?(n=Math.acos(s),u=Math.sin(n),p=Math.sin((1-a)*n)/u,c=Math.sin(a*n)/u):(p=1-a,c=a),r[0]=p*i+c*v,r[1]=p*x+c*M,r[2]=p*l+c*h,r[3]=p*f+c*q,r}function g(r){var e=t.RANDOM(),o=t.RANDOM(),a=t.RANDOM(),n=Math.sqrt(1-e),s=Math.sqrt(e);return r[0]=n*Math.sin(2*Math.PI*o),r[1]=n*Math.cos(2*Math.PI*o),r[2]=s*Math.sin(2*Math.PI*a),r[3]=s*Math.cos(2*Math.PI*a),r}function y(t,r){var e=r[0],o=r[1],a=r[2],n=r[3],s=e*e+o*o+a*a+n*n,u=s?1/s:0;return t[0]=-e*u,t[1]=-o*u,t[2]=-a*u,t[3]=n*u,t}function P(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function A(t,r){var e,o=r[0]+r[4]+r[8];if(o>0)e=Math.sqrt(o+1),t[3]=.5*e,e=.5/e,t[0]=(r[5]-r[7])*e,t[1]=(r[6]-r[2])*e,t[2]=(r[1]-r[3])*e;else{var a=0;r[4]>r[0]&&(a=1),r[8]>r[3*a+a]&&(a=2);var n=(a+1)%3,s=(a+2)%3;e=Math.sqrt(r[3*a+a]-r[3*n+n]-r[3*s+s]+1),t[a]=.5*e,e=.5/e,t[3]=(r[3*n+s]-r[3*s+n])*e,t[n]=(r[3*n+a]+r[3*a+n])*e,t[s]=(r[3*s+a]+r[3*a+s])*e}return t}function O(t,r,e,o){var a=.5*Math.PI/180;r*=a,e*=a,o*=a;var n=Math.sin(r),s=Math.cos(r),u=Math.sin(e),p=Math.cos(e),c=Math.sin(o),i=Math.cos(o);return t[0]=n*p*i-s*u*c,t[1]=s*u*i+n*p*c,t[2]=s*p*c-n*u*i,t[3]=s*p*i+n*u*c,t}function j(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var b=o.clone;exports.clone=b;var E=o.fromValues;exports.fromValues=E;var I=o.copy;exports.copy=I;var w=o.set;exports.set=w;var L=o.add;exports.add=L;var R=x;exports.mul=R;var _=o.scale;exports.scale=_;var D=o.dot;exports.dot=D;var N=o.lerp;exports.lerp=N;var V=o.length;exports.length=V;var Y=V;exports.len=Y;var z=o.squaredLength;exports.squaredLength=z;var T=z;exports.sqrLen=T;var W=o.normalize;exports.normalize=W;var k=o.exactEquals;exports.exactEquals=k;var S=o.equals;exports.equals=S;var F=function(){var t=e.create(),r=e.fromValues(1,0,0),o=e.fromValues(0,1,0);return function(a,n,s){var u=e.dot(n,s);return u<-.999999?(e.cross(t,r,n),e.len(t)<1e-6&&e.cross(t,o,n),e.normalize(t,t),p(a,t,Math.PI),a):u>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(e.cross(t,n,s),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1+u,W(a,a))}}();exports.rotationTo=F;var X=function(){var t=s(),r=s();return function(e,o,a,n,s,u){return m(t,o,s,u),m(r,a,n,u),m(e,t,r,2*u*(1-u)),e}}();exports.sqlerp=X;var Z=function(){var t=r.create();return function(r,e,o,a){return t[0]=o[0],t[3]=o[1],t[6]=o[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],W(r,A(r,t))}}();exports.setAxes=Z;
},{"./common.js":"XJqx","./mat3.js":"vtQf","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"buGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=o,exports.clone=s,exports.fromValues=u,exports.fromRotationTranslationValues=p,exports.fromRotationTranslation=i,exports.fromTranslation=f,exports.fromRotation=c,exports.fromMat4=x,exports.copy=h,exports.identity=l,exports.set=M,exports.getDual=b,exports.setDual=d,exports.getTranslation=m,exports.translate=R,exports.rotateX=y,exports.rotateY=O,exports.rotateZ=g,exports.rotateByQuatAppend=A,exports.rotateByQuatPrepend=E,exports.rotateAroundAxis=L,exports.add=Y,exports.multiply=q,exports.scale=T,exports.lerp=_,exports.invert=I,exports.conjugate=N,exports.normalize=B,exports.str=Q,exports.exactEquals=V,exports.equals=X,exports.sqrLen=exports.squaredLength=exports.len=exports.length=exports.dot=exports.mul=exports.setReal=exports.getReal=void 0;var t=n(require("./common.js")),r=n(require("./quat.js")),e=n(require("./mat4.js"));function a(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(a=function(t){return t?e:r})(t)}function n(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a(r);if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}function o(){var r=new t.ARRAY_TYPE(8);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function s(r){var e=new t.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function u(r,e,a,n,o,s,u,p){var i=new t.ARRAY_TYPE(8);return i[0]=r,i[1]=e,i[2]=a,i[3]=n,i[4]=o,i[5]=s,i[6]=u,i[7]=p,i}function p(r,e,a,n,o,s,u){var p=new t.ARRAY_TYPE(8);p[0]=r,p[1]=e,p[2]=a,p[3]=n;var i=.5*o,f=.5*s,c=.5*u;return p[4]=i*n+f*a-c*e,p[5]=f*n+c*r-i*a,p[6]=c*n+i*e-f*r,p[7]=-i*r-f*e-c*a,p}function i(t,r,e){var a=.5*e[0],n=.5*e[1],o=.5*e[2],s=r[0],u=r[1],p=r[2],i=r[3];return t[0]=s,t[1]=u,t[2]=p,t[3]=i,t[4]=a*i+n*p-o*u,t[5]=n*i+o*s-a*p,t[6]=o*i+a*u-n*s,t[7]=-a*s-n*u-o*p,t}function f(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t}function c(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function x(a,n){var o=r.create();e.getRotation(o,n);var s=new t.ARRAY_TYPE(3);return e.getTranslation(s,n),i(a,o,s),a}function h(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}function l(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function M(t,r,e,a,n,o,s,u,p){return t[0]=r,t[1]=e,t[2]=a,t[3]=n,t[4]=o,t[5]=s,t[6]=u,t[7]=p,t}var v=r.copy;function b(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t}exports.getReal=v;var P=r.copy;function d(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t}function m(t,r){var e=r[4],a=r[5],n=r[6],o=r[7],s=-r[0],u=-r[1],p=-r[2],i=r[3];return t[0]=2*(e*i+o*s+a*p-n*u),t[1]=2*(a*i+o*u+n*s-e*p),t[2]=2*(n*i+o*p+e*u-a*s),t}function R(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=.5*e[0],p=.5*e[1],i=.5*e[2],f=r[4],c=r[5],x=r[6],h=r[7];return t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=s*u+n*i-o*p+f,t[5]=s*p+o*u-a*i+c,t[6]=s*i+a*p-n*u+x,t[7]=-a*u-n*p-o*i+h,t}function y(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],f=e[6],c=e[7],x=p*u+c*n+i*s-f*o,h=i*u+c*o+f*n-p*s,l=f*u+c*s+p*o-i*n,M=c*u-p*n-i*o-f*s;return r.rotateX(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function O(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],f=e[6],c=e[7],x=p*u+c*n+i*s-f*o,h=i*u+c*o+f*n-p*s,l=f*u+c*s+p*o-i*n,M=c*u-p*n-i*o-f*s;return r.rotateY(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function g(t,e,a){var n=-e[0],o=-e[1],s=-e[2],u=e[3],p=e[4],i=e[5],f=e[6],c=e[7],x=p*u+c*n+i*s-f*o,h=i*u+c*o+f*n-p*s,l=f*u+c*s+p*o-i*n,M=c*u-p*n-i*o-f*s;return r.rotateZ(t,e,a),n=t[0],o=t[1],s=t[2],u=t[3],t[4]=x*u+M*n+h*s-l*o,t[5]=h*u+M*o+l*n-x*s,t[6]=l*u+M*s+x*o-h*n,t[7]=M*u-x*n-h*o-l*s,t}function A(t,r,e){var a=e[0],n=e[1],o=e[2],s=e[3],u=r[0],p=r[1],i=r[2],f=r[3];return t[0]=u*s+f*a+p*o-i*n,t[1]=p*s+f*n+i*a-u*o,t[2]=i*s+f*o+u*n-p*a,t[3]=f*s-u*a-p*n-i*o,u=r[4],p=r[5],i=r[6],f=r[7],t[4]=u*s+f*a+p*o-i*n,t[5]=p*s+f*n+i*a-u*o,t[6]=i*s+f*o+u*n-p*a,t[7]=f*s-u*a-p*n-i*o,t}function E(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[0],p=e[1],i=e[2],f=e[3];return t[0]=a*f+s*u+n*i-o*p,t[1]=n*f+s*p+o*u-a*i,t[2]=o*f+s*i+a*p-n*u,t[3]=s*f-a*u-n*p-o*i,u=e[4],p=e[5],i=e[6],f=e[7],t[4]=a*f+s*u+n*i-o*p,t[5]=n*f+s*p+o*u-a*i,t[6]=o*f+s*i+a*p-n*u,t[7]=s*f-a*u-n*p-o*i,t}function L(r,e,a,n){if(Math.abs(n)<t.EPSILON)return h(r,e);var o=Math.hypot(a[0],a[1],a[2]);n*=.5;var s=Math.sin(n),u=s*a[0]/o,p=s*a[1]/o,i=s*a[2]/o,f=Math.cos(n),c=e[0],x=e[1],l=e[2],M=e[3];r[0]=c*f+M*u+x*i-l*p,r[1]=x*f+M*p+l*u-c*i,r[2]=l*f+M*i+c*p-x*u,r[3]=M*f-c*u-x*p-l*i;var v=e[4],b=e[5],P=e[6],d=e[7];return r[4]=v*f+d*u+b*i-P*p,r[5]=b*f+d*p+P*u-v*i,r[6]=P*f+d*i+v*p-b*u,r[7]=d*f-v*u-b*p-P*i,r}function Y(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t}function q(t,r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=e[4],p=e[5],i=e[6],f=e[7],c=r[4],x=r[5],h=r[6],l=r[7],M=e[0],v=e[1],b=e[2],P=e[3];return t[0]=a*P+s*M+n*b-o*v,t[1]=n*P+s*v+o*M-a*b,t[2]=o*P+s*b+a*v-n*M,t[3]=s*P-a*M-n*v-o*b,t[4]=a*f+s*u+n*i-o*p+c*P+l*M+x*b-h*v,t[5]=n*f+s*p+o*u-a*i+x*P+l*v+h*M-c*b,t[6]=o*f+s*i+a*p-n*u+h*P+l*b+c*v-x*M,t[7]=s*f-a*u-n*p-o*i+l*P-c*M-x*v-h*b,t}exports.setReal=P;var j=q;function T(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t}exports.mul=j;var w=r.dot;function _(t,r,e,a){var n=1-a;return w(r,e)<0&&(a=-a),t[0]=r[0]*n+e[0]*a,t[1]=r[1]*n+e[1]*a,t[2]=r[2]*n+e[2]*a,t[3]=r[3]*n+e[3]*a,t[4]=r[4]*n+e[4]*a,t[5]=r[5]*n+e[5]*a,t[6]=r[6]*n+e[6]*a,t[7]=r[7]*n+e[7]*a,t}function I(t,r){var e=k(r);return t[0]=-r[0]/e,t[1]=-r[1]/e,t[2]=-r[2]/e,t[3]=r[3]/e,t[4]=-r[4]/e,t[5]=-r[5]/e,t[6]=-r[6]/e,t[7]=r[7]/e,t}function N(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t}exports.dot=w;var S=r.length;exports.length=S;var D=S;exports.len=D;var k=r.squaredLength;exports.squaredLength=k;var W=k;function B(t,r){var e=k(r);if(e>0){e=Math.sqrt(e);var a=r[0]/e,n=r[1]/e,o=r[2]/e,s=r[3]/e,u=r[4],p=r[5],i=r[6],f=r[7],c=a*u+n*p+o*i+s*f;t[0]=a,t[1]=n,t[2]=o,t[3]=s,t[4]=(u-a*c)/e,t[5]=(p-n*c)/e,t[6]=(i-o*c)/e,t[7]=(f-s*c)/e}return t}function Q(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function V(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]}function X(r,e){var a=r[0],n=r[1],o=r[2],s=r[3],u=r[4],p=r[5],i=r[6],f=r[7],c=e[0],x=e[1],h=e[2],l=e[3],M=e[4],v=e[5],b=e[6],P=e[7];return Math.abs(a-c)<=t.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(n-x)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-h)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-l)<=t.EPSILON*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(u-M)<=t.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(p-v)<=t.EPSILON*Math.max(1,Math.abs(p),Math.abs(v))&&Math.abs(i-b)<=t.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(f-P)<=t.EPSILON*Math.max(1,Math.abs(f),Math.abs(P))}exports.sqrLen=W;
},{"./common.js":"XJqx","./quat.js":"KdRW","./mat4.js":"w3aR"}],"XSo1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=n,exports.clone=o,exports.fromValues=a,exports.copy=u,exports.set=s,exports.add=i,exports.subtract=c,exports.multiply=p,exports.divide=f,exports.ceil=x,exports.floor=h,exports.min=M,exports.max=v,exports.round=l,exports.scale=d,exports.scaleAndAdd=m,exports.distance=b,exports.squaredDistance=y,exports.length=P,exports.squaredLength=q,exports.negate=A,exports.inverse=O,exports.normalize=g,exports.dot=E,exports.cross=R,exports.lerp=j,exports.random=w,exports.transformMat2=Y,exports.transformMat2d=_,exports.transformMat3=D,exports.transformMat4=L,exports.rotate=T,exports.angle=k,exports.zero=I,exports.str=N,exports.exactEquals=W,exports.equals=z,exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0;var t=e(require("./common.js"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function e(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=a?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function n(){var r=new t.ARRAY_TYPE(2);return t.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0),r}function o(r){var e=new t.ARRAY_TYPE(2);return e[0]=r[0],e[1]=r[1],e}function a(r,e){var n=new t.ARRAY_TYPE(2);return n[0]=r,n[1]=e,n}function u(t,r){return t[0]=r[0],t[1]=r[1],t}function s(t,r,e){return t[0]=r,t[1]=e,t}function i(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function p(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function x(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function h(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function M(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function v(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function l(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function d(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function m(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.hypot(e,n)}function y(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function P(t){var r=t[0],e=t[1];return Math.hypot(r,e)}function q(t){var r=t[0],e=t[1];return r*r+e*e}function A(t,r){return t[0]=-r[0],t[1]=-r[1],t}function O(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function g(t,r){var e=r[0],n=r[1],o=e*e+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t}function E(t,r){return t[0]*r[0]+t[1]*r[1]}function R(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function j(t,r,e,n){var o=r[0],a=r[1];return t[0]=o+n*(e[0]-o),t[1]=a+n*(e[1]-a),t}function w(r,e){e=e||1;var n=2*t.RANDOM()*Math.PI;return r[0]=Math.cos(n)*e,r[1]=Math.sin(n)*e,r}function Y(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o,t[1]=e[1]*n+e[3]*o,t}function _(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[2]*o+e[4],t[1]=e[1]*n+e[3]*o+e[5],t}function D(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[3]*o+e[6],t[1]=e[1]*n+e[4]*o+e[7],t}function L(t,r,e){var n=r[0],o=r[1];return t[0]=e[0]*n+e[4]*o+e[12],t[1]=e[1]*n+e[5]*o+e[13],t}function T(t,r,e,n){var o=r[0]-e[0],a=r[1]-e[1],u=Math.sin(n),s=Math.cos(n);return t[0]=o*s-a*u+e[0],t[1]=o*u+a*s+e[1],t}function k(t,r){var e=t[0],n=t[1],o=r[0],a=r[1],u=Math.sqrt(e*e+n*n)*Math.sqrt(o*o+a*a),s=u&&(e*o+n*a)/u;return Math.acos(Math.min(Math.max(s,-1),1))}function I(t){return t[0]=0,t[1]=0,t}function N(t){return"vec2("+t[0]+", "+t[1]+")"}function W(t,r){return t[0]===r[0]&&t[1]===r[1]}function z(r,e){var n=r[0],o=r[1],a=e[0],u=e[1];return Math.abs(n-a)<=t.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-u)<=t.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))}var S=P;exports.len=S;var F=c;exports.sub=F;var V=p;exports.mul=V;var B=f;exports.div=B;var C=b;exports.dist=C;var G=y;exports.sqrDist=G;var H=q;exports.sqrLen=H;var J=function(){var t=n();return function(r,e,n,o,a,u){var s,i;for(e||(e=2),n||(n=0),i=o?Math.min(o*e+n,r.length):r.length,s=n;s<i;s+=e)t[0]=r[s],t[1]=r[s+1],a(t,t,u),r[s]=t[0],r[s+1]=t[1];return r}}();exports.forEach=J;
},{"./common.js":"XJqx"}],"IF0X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vec4=exports.vec3=exports.vec2=exports.quat2=exports.quat=exports.mat4=exports.mat3=exports.mat2d=exports.mat2=exports.glMatrix=void 0;var e=v(require("./common.js"));exports.glMatrix=e;var r=v(require("./mat2.js"));exports.mat2=r;var t=v(require("./mat2d.js"));exports.mat2d=t;var a=v(require("./mat3.js"));exports.mat3=a;var o=v(require("./mat4.js"));exports.mat4=o;var s=v(require("./quat.js"));exports.quat=s;var u=v(require("./quat2.js"));exports.quat2=u;var p=v(require("./vec2.js"));exports.vec2=p;var i=v(require("./vec3.js"));exports.vec3=i;var n=v(require("./vec4.js"));function c(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(c=function(e){return e?t:r})(e)}function v(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c(r);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(a,s,u):a[s]=e[s]}return a.default=e,t&&t.set(e,a),a}exports.vec4=n;
},{"./common.js":"XJqx","./mat2.js":"eN7R","./mat2d.js":"M21d","./mat3.js":"vtQf","./mat4.js":"w3aR","./quat.js":"KdRW","./quat2.js":"buGF","./vec2.js":"XSo1","./vec3.js":"AWBd","./vec4.js":"zWbG"}],"qqzv":[function(require,module,exports) {
"use strict";function t(t,e,n){return Math.min(Math.max(t,e),n)}module.exports=t;
},{}],"sO46":[function(require,module,exports) {
"use strict";var r=256,e=256,t=require("../util/clamp"),a=require("gl-matrix").vec4,i=require("gl-matrix").vec3,o=require("gl-matrix").mat4;function n(r,e,t){var a=r.createShader(e);if(r.shaderSource(a,t),r.compileShader(a),!r.getShaderParameter(a,r.COMPILE_STATUS))throw r.getShaderInfoLog(a);return a}function f(r,e,t,a,i){var o=n(r,r.VERTEX_SHADER,e),f=n(r,r.FRAGMENT_SHADER,t),u=r.createProgram();if(r.attachShader(u,o),r.attachShader(u,f),r.linkProgram(u),!r.getProgramParameter(u,r.LINK_STATUS))throw r.getProgramInfoLog(u);for(var d=0;d<a.length;d++){var h=a[d];if(u[h]=r.getAttribLocation(u,h),-1===u[h])throw new Error("Shader program has no "+h+" attribute")}for(var c=0;c<i.length;c++){var g=i[c];if(u[g]=r.getUniformLocation(u,g),-1===u[g])throw new Error("Shader program has no "+g+" uniform")}return u}function u(r,e){for(var t=r.getAttachedShaders(e),a=0;a<t.length;a++){var i=t[a];r.detachShader(e,i),r.deleteShader(i)}r.deleteProgram(e)}function d(r,e,t,a){var i=r.createBuffer();return r.bindBuffer(e,i),r.bufferData(e,a,t),i}function h(r,e,t,a){return{vertexIndices:d(r,r.ELEMENT_ARRAY_BUFFER,r.STATIC_DRAW,new Uint16Array(e)),vertexPositions:d(r,r.ARRAY_BUFFER,r.STATIC_DRAW,new Float32Array(t)),textureCoords:d(r,r.ARRAY_BUFFER,r.STATIC_DRAW,new Float32Array(a))}}function c(r,e){r.deleteBuffer(e.vertexIndices),r.deleteBuffer(e.vertexPositions),r.deleteBuffer(e.textureCoords)}function g(r,e){for(var t=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),a=0;a<t;a++)r.enableVertexAttribArray(a)}function s(r,e){for(var t=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES),a=0;a<t;a++)r.disableVertexAttribArray(a)}function l(r,e,t){r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t._texture),r.uniform1i(e.uSampler,0)}function A(t,a,i,o){var n=((i+1)*e-o)/(e*r);t.uniform1f(a.uDepth,n)}var m=1,v=a.create(),T=o.create();function S(r,e,t){var a=m;e&&null!=e.opacity&&(a=e.opacity),r.uniform1f(t.opacity,a);var i=v;e&&e.colorOffset&&(i=e.colorOffset),r.uniform4fv(t.colorOffset,i);var o=T;e&&e.colorMatrix&&(o=e.colorMatrix),r.uniformMatrix4fv(t.colorMatrix,!1,o)}o.identity(T);var x=i.create(),E=i.create();function w(r,e,a,n){if(0===a.x&&1===a.width&&0===a.y&&1===a.height)return r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),void o.identity(n);var f=a.x,u=t(f,0,1),d=u-f,h=1-u,c=t(a.width-d,0,h),g=a.width-c,s=1-a.height-a.y,l=t(s,0,1),A=l-s,m=1-l,v=t(a.height-A,0,m),T=a.height-v;i.set(E,a.width/c,a.height/v,1),i.set(x,(g-d)/c,(T-A)/v,0),o.identity(n),o.translate(n,n,x),o.scale(n,n,E),r.viewport(r.drawingBufferWidth*u,r.drawingBufferHeight*l,r.drawingBufferWidth*c,r.drawingBufferHeight*v)}module.exports={createShaderProgram:f,destroyShaderProgram:u,createConstantBuffers:h,destroyConstantBuffers:c,enableAttributes:g,disableAttributes:s,setTexture:l,setDepth:A,setViewport:w,setupPixelEffectUniforms:S};
},{"../util/clamp":"qqzv","gl-matrix":"IF0X"}],"aKvv":[function(require,module,exports) {
"use strict";module.exports=["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uProjMatrix;","varying vec2 vTextureCoord;","void main(void) {","  gl_Position = uViewportMatrix * uProjMatrix * vec4(aVertexPosition.xy, 0.0, 1.0);","  gl_Position.z = uDepth * gl_Position.w;","  vTextureCoord = aTextureCoord;","}"].join("\n");
},{}],"H2a0":[function(require,module,exports) {
"use strict";module.exports=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec2 vTextureCoord;","void main(void) {","  vec4 color = texture2D(uSampler, vTextureCoord) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n");
},{}],"a2IN":[function(require,module,exports) {
"use strict";var t=require("gl-matrix").mat4,r=require("gl-matrix").vec3,e=require("../util/clearOwnProperties"),o=require("./WebGlCommon"),i=o.createConstantBuffers,s=o.destroyConstantBuffers,a=o.createShaderProgram,n=o.destroyShaderProgram,u=o.enableAttributes,c=o.disableAttributes,f=o.setViewport,h=o.setupPixelEffectUniforms,l=o.setDepth,x=o.setTexture,p=require("../shaders/vertexNormal"),d=require("../shaders/fragmentNormal"),m=[0,1,2,0,2,3],g=[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],P=[0,0,1,0,1,1,0,1],v=["aVertexPosition","aTextureCoord"],A=["uDepth","uOpacity","uSampler","uProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix"];function M(e){this.gl=e,this.projMatrix=t.create(),this.viewportMatrix=t.create(),this.translateVector=r.create(),this.scaleVector=r.create(),this.constantBuffers=i(e,m,g,P),this.shaderProgram=a(e,p,d,v,A)}M.prototype.destroy=function(){s(this.gl,this.constantBuffers),n(this.gl,this.shaderProgram),e(this)},M.prototype.startLayer=function(t,r){var e=this.gl,o=this.shaderProgram,i=this.constantBuffers,s=this.viewportMatrix;e.useProgram(o),u(e,o),f(e,t,r,s),e.uniformMatrix4fv(o.uViewportMatrix,!1,s),e.bindBuffer(e.ARRAY_BUFFER,i.vertexPositions),e.vertexAttribPointer(o.aVertexPosition,3,e.FLOAT,e.FALSE,0,0),e.bindBuffer(e.ARRAY_BUFFER,i.textureCoords),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,e.FALSE,0,0),h(e,t.effects(),{opacity:o.uOpacity,colorOffset:o.uColorOffset,colorMatrix:o.uColorMatrix})},M.prototype.endLayer=function(t,r){var e=this.gl,o=this.shaderProgram;c(e,o)},M.prototype.renderTile=function(r,e,o,i){var s=this.gl,a=this.shaderProgram,n=this.constantBuffers,u=this.projMatrix,c=this.translateVector,f=this.scaleVector;c[0]=r.centerX(),c[1]=r.centerY(),c[2]=-.5,f[0]=r.scaleX(),f[1]=r.scaleY(),f[2]=1,t.copy(u,o.view().projection()),t.rotateX(u,u,r.rotX()),t.rotateY(u,u,r.rotY()),t.translate(u,u,c),t.scale(u,u,f),s.uniformMatrix4fv(a.uProjMatrix,!1,u),l(s,a,i,r.z),x(s,a,e),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,n.vertexIndices),s.drawElements(s.TRIANGLES,m.length,s.UNSIGNED_SHORT,0)},module.exports=M;
},{"gl-matrix":"IF0X","../util/clearOwnProperties":"lrIP","./WebGlCommon":"sO46","../shaders/vertexNormal":"aKvv","../shaders/fragmentNormal":"H2a0"}],"WZBv":[function(require,module,exports) {
"use strict";var e=require("./WebGlBase"),r=require("../util/inherits");function t(){this.constructor.super_.apply(this,arguments)}r(t,e),module.exports=t;
},{"./WebGlBase":"a2IN","../util/inherits":"W3pH"}],"mrQn":[function(require,module,exports) {
"use strict";module.exports=["attribute vec3 aVertexPosition;","uniform float uDepth;","uniform mat4 uViewportMatrix;","uniform mat4 uInvProjMatrix;","varying vec4 vRay;","void main(void) {","  vRay = uInvProjMatrix * vec4(aVertexPosition.xy, 1.0, 1.0);","  gl_Position = uViewportMatrix * vec4(aVertexPosition.xy, uDepth, 1.0);","}"].join("\n");
},{}],"onbI":[function(require,module,exports) {
"use strict";module.exports=["#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float","#endif","uniform sampler2D uSampler;","uniform float uOpacity;","uniform float uTextureX;","uniform float uTextureY;","uniform float uTextureWidth;","uniform float uTextureHeight;","uniform vec4 uColorOffset;","uniform mat4 uColorMatrix;","varying vec4 vRay;","const float PI = 3.14159265358979323846264;","void main(void) {","  float r = inversesqrt(vRay.x * vRay.x + vRay.y * vRay.y + vRay.z * vRay.z);","  float phi  = acos(vRay.y * r);","  float theta = atan(vRay.x, -1.0*vRay.z);","  float s = 0.5 + 0.5 * theta / PI;","  float t = 1.0 - phi / PI;","  s = s * uTextureWidth + uTextureX;","  t = t * uTextureHeight + uTextureY;","  vec4 color = texture2D(uSampler, vec2(s, t)) * uColorMatrix + uColorOffset;","  gl_FragColor = vec4(color.rgba * uOpacity);","}"].join("\n");
},{}],"jXcL":[function(require,module,exports) {
"use strict";var t=require("gl-matrix").mat4,r=require("../util/clearOwnProperties"),e=require("./WebGlCommon"),i=e.createConstantBuffers,o=e.destroyConstantBuffers,s=e.createShaderProgram,u=e.destroyShaderProgram,a=e.enableAttributes,n=e.disableAttributes,f=e.setViewport,h=e.setupPixelEffectUniforms,x=e.setDepth,l=e.setTexture,c=require("../shaders/vertexEquirect"),d=require("../shaders/fragmentEquirect"),p=[0,1,2,0,2,3],m=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],g=[0,0,1,0,1,1,0,1],v=["aVertexPosition"],P=["uDepth","uOpacity","uSampler","uInvProjMatrix","uViewportMatrix","uColorOffset","uColorMatrix","uTextureX","uTextureY","uTextureWidth","uTextureHeight"];function y(r){this.gl=r,this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.constantBuffers=i(r,p,m,g),this.shaderProgram=s(r,c,d,v,P)}y.prototype.destroy=function(){o(this.gl,this.constantBuffers),u(this.gl,this.shaderProgram),r(this)},y.prototype.startLayer=function(r,e){var i=this.gl,o=this.shaderProgram,s=this.constantBuffers,u=this.invProjMatrix,n=this.viewportMatrix;i.useProgram(o),a(i,o),f(i,r,e,n),i.uniformMatrix4fv(o.uViewportMatrix,!1,n),i.bindBuffer(i.ARRAY_BUFFER,s.vertexPositions),i.vertexAttribPointer(o.aVertexPosition,3,i.FLOAT,i.FALSE,0,0),i.bindBuffer(i.ARRAY_BUFFER,s.textureCoords),t.copy(u,r.view().projection()),t.invert(u,u),i.uniformMatrix4fv(o.uInvProjMatrix,!1,u);var x=r.effects().textureCrop||{},l=null!=x.x?x.x:0,c=null!=x.y?x.y:0,d=null!=x.width?x.width:1,p=null!=x.height?x.height:1;i.uniform1f(o.uTextureX,l),i.uniform1f(o.uTextureY,c),i.uniform1f(o.uTextureWidth,d),i.uniform1f(o.uTextureHeight,p),h(i,r.effects(),{opacity:o.uOpacity,colorOffset:o.uColorOffset,colorMatrix:o.uColorMatrix})},y.prototype.endLayer=function(t,r){var e=this.gl,i=this.shaderProgram;n(e,i)},y.prototype.renderTile=function(t,r,e,i){var o=this.gl,s=this.shaderProgram,u=this.constantBuffers;x(o,s,i,t.z),l(o,s,r),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,u.vertexIndices),o.drawElements(o.TRIANGLES,p.length,o.UNSIGNED_SHORT,0)},module.exports=y;
},{"gl-matrix":"IF0X","../util/clearOwnProperties":"lrIP","./WebGlCommon":"sO46","../shaders/vertexEquirect":"mrQn","../shaders/fragmentEquirect":"onbI"}],"BE7j":[function(require,module,exports) {
"use strict";var e=require("./WebGlCube"),r=require("./WebGlFlat"),t=require("./WebGlEquirect");function i(i){switch(i.type){case"webgl":i.registerRenderer("flat","flat",r),i.registerRenderer("cube","rectilinear",e),i.registerRenderer("equirect","rectilinear",t);break;default:throw new Error("Unknown stage type: "+i.type)}}module.exports=i;
},{"./WebGlCube":"WZBv","./WebGlFlat":"WZBv","./WebGlEquirect":"jXcL"}],"ja5q":[function(require,module,exports) {
"use strict";function r(){for(var r=0,t=0;t<arguments.length;t++){var e=arguments[t];r+=e,r+=e<<10,r^=e>>6}return r+=r<<3,r^=r>>11,(r+=r<<15)>=0?r:-r}module.exports=r;
},{}],"iEu3":[function(require,module,exports) {
"use strict";function t(t,e){return(+t%(e=+e)+e)%e}module.exports=t;
},{}],"NjuQ":[function(require,module,exports) {
"use strict";var t=require("../util/mod"),i=64;function r(t){if(null!=t&&(!isFinite(t)||Math.floor(t)!==t||t<1))throw new Error("Set: invalid capacity");this._capacity=this._capacity||i,this._buckets=[];for(var r=0;r<this._capacity;r++)this._buckets.push([]);this._size=0}r.prototype.add=function(i){for(var r=t(i.hash(),this._capacity),e=this._buckets[r],s=0;s<e.length;s++){var a=e[s];if(i.equals(a))return e[s]=i,a}return e.push(i),this._size++,null},r.prototype.remove=function(i){for(var r=t(i.hash(),this._capacity),e=this._buckets[r],s=0;s<e.length;s++){var a=e[s];if(i.equals(a)){for(var h=s;h<e.length-1;h++)e[h]=e[h+1];return e.length=e.length-1,this._size--,a}}return null},r.prototype.has=function(i){for(var r=t(i.hash(),this._capacity),e=this._buckets[r],s=0;s<e.length;s++){var a=e[s];if(i.equals(a))return!0}return!1},r.prototype.size=function(){return this._size},r.prototype.clear=function(){for(var t=0;t<this._capacity;t++)this._buckets[t].length=0;this._size=0},r.prototype.forEach=function(t){for(var i=0,r=0;r<this._capacity;r++)for(var e=this._buckets[r],s=0;s<e.length;s++)t(e[s]),i+=1;return i},module.exports=r;
},{"../util/mod":"iEu3"}],"nxci":[function(require,module,exports) {
"use strict";var t=require("./collections/Set");function e(){this._stack=[],this._visited=new t,this._vertices=null}e.prototype.search=function(t,e,s){var i=this._stack,r=this._visited,h=this._vertices,c=0;for(this._clear(),i.push(e);i.length>0;){var n=i.pop();if(!r.has(n)&&t.intersects(n.vertices(h))){r.add(n);for(var o=n.neighbors(),a=0;a<o.length;a++)i.push(o[a]);s.push(n),c++}}return this._vertices=h,this._clear(),c},e.prototype._clear=function(){this._stack.length=0,this._visited.clear()},module.exports=e;
},{"./collections/Set":"NjuQ"}],"dWxv":[function(require,module,exports) {
"use strict";var t=require("../util/mod");function i(t){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new Error("LruMap: invalid capacity");this._capacity=t,this._keys=new Array(this._capacity),this._values=new Array(this._capacity),this._start=0,this._size=0}i.prototype._index=function(i){return t(this._start+i,this._capacity)},i.prototype.get=function(t){for(var i=0;i<this._size;i++){var s=this._keys[this._index(i)];if(t.equals(s))return this._values[this._index(i)]}return null},i.prototype.set=function(t,i){if(0===this._capacity)return t;this.del(t);var s=this._size===this._capacity?this._keys[this._index(0)]:null;return this._keys[this._index(this._size)]=t,this._values[this._index(this._size)]=i,this._size<this._capacity?this._size++:this._start=this._index(1),s},i.prototype.del=function(t){for(var i=0;i<this._size;i++)if(t.equals(this._keys[this._index(i)])){for(var s=this._values[this._index(i)],e=i;e<this._size-1;e++)this._keys[this._index(e)]=this._keys[this._index(e+1)],this._values[this._index(e)]=this._values[this._index(e+1)];return this._size--,s}return null},i.prototype.has=function(t){for(var i=0;i<this._size;i++)if(t.equals(this._keys[this._index(i)]))return!0;return!1},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._start=0,this._size=0},i.prototype.forEach=function(t){for(var i=0,s=0;s<this._size;s++)t(this._keys[this._index(s)],this._values[this._index(s)]),i+=1;return i},module.exports=i;
},{"../util/mod":"iEu3"}],"FevE":[function(require,module,exports) {
"use strict";function t(t){this._fallbackOnly=!!t.fallbackOnly}t.prototype.numHorizontalTiles=function(){return Math.ceil(this.width()/this.tileWidth())},t.prototype.numVerticalTiles=function(){return Math.ceil(this.height()/this.tileHeight())},t.prototype.fallbackOnly=function(){return this._fallbackOnly},module.exports=t;
},{}],"DMww":[function(require,module,exports) {
"use strict";function t(t,e){return t<e?-1:t>e?1:0}module.exports=t;
},{}],"TOoo":[function(require,module,exports) {
"use strict";var e=require("../util/cmp");function t(t,r){for(var l=[],n=0;n<t.length;n++)l.push(new r(t[n]));return l.sort(function(t,r){return e(t.width(),r.width())}),l}function r(e){for(var t=[],r=0;r<e.length;r++)e[r]._fallbackOnly||t.push(e[r]);if(!t.length)throw new Error("No selectable levels in list");return t}module.exports={makeLevelList:t,makeSelectableLevelList:r};
},{"../util/cmp":"DMww"}],"HgvH":[function(require,module,exports) {
"use strict";function t(t){var r=typeof t;if("object"===r){if(null===t)return"null";if("[object Array]"===Object.prototype.toString.call(t))return"array";if("[object RegExp]"===Object.prototype.toString.call(t))return"regexp"}return r}module.exports=t;
},{}],"hMCd":[function(require,module,exports) {
"use strict";var e=require("../util/inherits"),t=require("../util/hash"),i=require("../TileSearcher"),r=require("../collections/LruMap"),l=require("./Level"),s=require("./common").makeLevelList,o=require("./common").makeSelectableLevelList,n=require("../util/clamp"),h=require("../util/cmp"),a=require("../util/type"),u=require("gl-matrix").vec3,c=require("gl-matrix").vec4,f=64,v="fudlrb",p={f:{x:0,y:0},b:{x:0,y:Math.PI},l:{x:0,y:Math.PI/2},r:{x:0,y:-Math.PI/2},u:{x:Math.PI/2,y:0},d:{x:-Math.PI/2,y:0}},y=u.create();function m(e,t,i,r){t&&u.rotateZ(e,e,y,t),i&&u.rotateX(e,e,y,i),r&&u.rotateY(e,e,y,r)}for(var z={},_=0;_<v.length;_++){var x=v[_],T=p[x],g=u.fromValues(0,0,-1);m(g,0,T.x,T.y),z[x]=g}var L={f:["l","r","u","d"],b:["r","l","u","d"],l:["b","f","u","d"],r:["f","b","u","d"],u:["l","r","b","f"],d:["l","r","f","b"]},w=[[0,1],[1,0],[0,-1],[-1,0]];function b(e,t,i,r,l){this.face=e,this.x=t,this.y=i,this.z=r,this._geometry=l,this._level=l.levelList[r]}function d(e){if(this.constructor.super_.call(this,e),this._size=e.size,this._tileSize=e.tileSize,this._size%this._tileSize!=0)throw new Error("Level size is not multiple of tile size: "+this._size+" "+this._tileSize)}function M(e){if("array"!==a(e))throw new Error("Level list must be an array");this.levelList=s(e,d),this.selectableLevelList=o(this.levelList);for(var t=1;t<this.levelList.length;t++)this.levelList[t]._validateWithParentLevel(this.levelList[t-1]);this._tileSearcher=new i(this),this._neighborsCache=new r(f),this._vec=c.create(),this._viewSize={}}b.prototype.rotX=function(){return p[this.face].x},b.prototype.rotY=function(){return p[this.face].y},b.prototype.centerX=function(){return(this.x+.5)/this._level.numHorizontalTiles()-.5},b.prototype.centerY=function(){return.5-(this.y+.5)/this._level.numVerticalTiles()},b.prototype.scaleX=function(){return 1/this._level.numHorizontalTiles()},b.prototype.scaleY=function(){return 1/this._level.numVerticalTiles()},b.prototype.vertices=function(e){e||(e=[u.create(),u.create(),u.create(),u.create()]);var t=p[this.face];function i(e,i,r){u.set(e,i,r,-.5),m(e,0,t.x,t.y)}var r=this.centerX()-this.scaleX()/2,l=this.centerX()+this.scaleX()/2,s=this.centerY()-this.scaleY()/2,o=this.centerY()+this.scaleY()/2;return i(e[0],r,o),i(e[1],l,o),i(e[2],l,s),i(e[3],r,s),e},b.prototype.parent=function(){if(0===this.z)return null;var e=this.face,t=this.z,i=this.x,r=this.y,l=this._geometry,s=l.levelList[t],o=l.levelList[t-1];return new b(e,Math.floor(i/s.numHorizontalTiles()*o.numHorizontalTiles()),Math.floor(r/s.numVerticalTiles()*o.numVerticalTiles()),t-1,l)},b.prototype.children=function(e){if(this.z===this._geometry.levelList.length-1)return null;var t=this.face,i=this.z,r=this.x,l=this.y,s=this._geometry,o=s.levelList[i],n=s.levelList[i+1],h=n.numHorizontalTiles()/o.numHorizontalTiles(),a=n.numVerticalTiles()/o.numVerticalTiles();e=e||[];for(var u=0;u<h;u++)for(var c=0;c<a;c++){var f=h*r+u,v=a*l+c,p=i+1;e.push(new b(t,f,v,p,s))}return e},b.prototype.neighbors=function(){var e=this._geometry,t=e._neighborsCache,i=t.get(this);if(i)return i;for(var r=e._vec,l=this.face,s=this.x,o=this.y,h=this.z,a=this._level,c=a.numHorizontalTiles(),f=a.numVerticalTiles(),v=[],y=0;y<w.length;y++){var z=s+w[y][0],_=o+w[y][1],x=h,T=l;if(z<0||z>=c||_<0||_>=f){var g,d=this.centerX(),M=this.centerY();z<0?(u.set(r,-.5,M,-.5),T=L[l][0]):z>=c?(u.set(r,.5,M,-.5),T=L[l][1]):_<0?(u.set(r,d,.5,-.5),T=L[l][2]):_>=f&&(u.set(r,d,-.5,-.5),T=L[l][3]),m(r,0,(g=p[l]).x,g.y),m(r,0,-(g=p[T]).x,-g.y),z=n(Math.floor((.5+r[0])*c),0,c-1),_=n(Math.floor((.5-r[1])*f),0,f-1)}v.push(new b(T,z,_,x,e))}return t.set(this,v),v},b.prototype.hash=function(){return t(v.indexOf(this.face),this.z,this.y,this.x)},b.prototype.equals=function(e){return this._geometry===e._geometry&&this.face===e.face&&this.z===e.z&&this.y===e.y&&this.x===e.x},b.prototype.cmp=function(e){return h(this.z,e.z)||h(v.indexOf(this.face),v.indexOf(e.face))||h(this.y,e.y)||h(this.x,e.x)},b.prototype.str=function(){return"CubeTile("+tile.face+", "+tile.x+", "+tile.y+", "+tile.z+")"},e(d,l),d.prototype.width=function(){return this._size},d.prototype.height=function(){return this._size},d.prototype.tileWidth=function(){return this._tileSize},d.prototype.tileHeight=function(){return this._tileSize},d.prototype._validateWithParentLevel=function(e){var t=this.width(),i=this.height(),r=this.tileWidth(),l=this.tileHeight(),s=this.numHorizontalTiles(),o=this.numVerticalTiles(),n=e.width(),h=e.height(),a=e.tileWidth(),u=e.tileHeight(),c=e.numHorizontalTiles(),f=e.numVerticalTiles();if(t%n!=0)throw new Error("Level width must be multiple of parent level: "+t+" vs. "+n);if(i%h!=0)throw new Error("Level height must be multiple of parent level: "+i+" vs. "+h);if(s%c!=0)throw new Error("Number of horizontal tiles must be multiple of parent level: "+s+" ("+t+"/"+r+") vs. "+c+" ("+n+"/"+a+")");if(o%f!=0)throw new Error("Number of vertical tiles must be multiple of parent level: "+o+" ("+i+"/"+l+") vs. "+f+" ("+h+"/"+u+")")},M.prototype.maxTileSize=function(){for(var e=0,t=0;t<this.levelList.length;t++){var i=this.levelList[t];e=Math.max(e,i.tileWidth,i.tileHeight)}return e},M.prototype.levelTiles=function(e,t){var i=this.levelList.indexOf(e),r=e.numHorizontalTiles()-1,l=e.numVerticalTiles()-1;t=t||[];for(var s=0;s<v.length;s++)for(var o=v[s],n=0;n<=r;n++)for(var h=0;h<=l;h++)t.push(new b(o,n,h,i,this));return t},M.prototype._closestTile=function(e,t){var i=this._vec;c.set(i,0,0,1,1),c.transformMat4(i,i,e.inverseProjection());var r=1/0,l=null;for(var s in z){var o=z[s],h=1-u.dot(o,i);h<r&&(r=h,l=s)}for(var a=Math.max(Math.abs(i[0]),Math.abs(i[1]),Math.abs(i[2]))/.5,f=0;f<3;f++)i[f]=i[f]/a;var v=p[l];m(i,0,-v.x,-v.y);var y=this.levelList.indexOf(t),_=t.numHorizontalTiles(),x=t.numVerticalTiles();return new b(l,n(Math.floor((.5+i[0])*_),0,_-1),n(Math.floor((.5-i[1])*x),0,x-1),y,this)},M.prototype.visibleTiles=function(e,t,i){var r=this._viewSize,l=this._tileSearcher;if(i=i||[],e.size(r),0===r.width||0===r.height)return i;var s=this._closestTile(e,t);if(!l.search(e,s,i))throw new Error("Starting tile is not visible");return i},M.Tile=M.prototype.Tile=b,M.type=M.prototype.type="cube",b.type=b.prototype.type="cube",module.exports=M;
},{"../util/inherits":"W3pH","../util/hash":"ja5q","../TileSearcher":"nxci","../collections/LruMap":"dWxv","./Level":"FevE","./common":"TOoo","../util/clamp":"qqzv","../util/cmp":"DMww","../util/type":"HgvH","gl-matrix":"IF0X"}],"uFqj":[function(require,module,exports) {
"use strict";var t=require("../util/inherits"),e=require("../util/hash"),i=require("../TileSearcher"),r=require("../collections/LruMap"),h=require("./Level"),l=require("./common").makeLevelList,s=require("./common").makeSelectableLevelList,n=require("../util/clamp"),o=require("../util/mod"),u=require("../util/cmp"),a=require("../util/type"),p=require("gl-matrix").vec2,v=require("gl-matrix").vec4,c=64,y=[[0,1],[1,0],[0,-1],[-1,0]];function f(t,e,i,r){this.x=t,this.y=e,this.z=i,this._geometry=r,this._level=r.levelList[i]}function g(t){this.constructor.super_.call(this,t),this._width=t.width,this._height=t.height,this._tileWidth=t.tileWidth,this._tileHeight=t.tileHeight}function _(t){if("array"!==a(t))throw new Error("Level list must be an array");this.levelList=l(t,g),this.selectableLevelList=s(this.levelList);for(var e=1;e<this.levelList.length;e++)this.levelList[e]._validateWithParentLevel(this.levelList[e-1]);this._tileSearcher=new i(this),this._neighborsCache=new r(c),this._vec=v.create(),this._viewSize={}}f.prototype.rotX=function(){return 0},f.prototype.rotY=function(){return 0},f.prototype.centerX=function(){var t=this._level.width(),e=this._level.tileWidth();return(this.x*e+.5*this.width())/t-.5},f.prototype.centerY=function(){var t=this._level.height(),e=this._level.tileHeight();return.5-(this.y*e+.5*this.height())/t},f.prototype.scaleX=function(){var t=this._level.width();return this.width()/t},f.prototype.scaleY=function(){var t=this._level.height();return this.height()/t},f.prototype.width=function(){var t=this._level.width(),e=this._level.tileWidth();return this.x===this._level.numHorizontalTiles()-1&&o(t,e)||e},f.prototype.height=function(){var t=this._level.height(),e=this._level.tileHeight();return this.y===this._level.numVerticalTiles()-1&&o(t,e)||e},f.prototype.levelWidth=function(){return this._level.width()},f.prototype.levelHeight=function(){return this._level.height()},f.prototype.vertices=function(t){t||(t=[p.create(),p.create(),p.create(),p.create()]);var e=this.centerX()-this.scaleX()/2,i=this.centerX()+this.scaleX()/2,r=this.centerY()-this.scaleY()/2,h=this.centerY()+this.scaleY()/2;return p.set(t[0],e,h),p.set(t[1],i,h),p.set(t[2],i,r),p.set(t[3],e,r),t},f.prototype.parent=function(){if(0===this.z)return null;var t=this._geometry,e=this.z-1;return new f(Math.floor(this.x/2),Math.floor(this.y/2),e,t)},f.prototype.children=function(t){if(this.z===this._geometry.levelList.length-1)return null;var e=this._geometry,i=this.z+1;return(t=t||[]).push(new f(2*this.x,2*this.y,i,e)),t.push(new f(2*this.x,2*this.y+1,i,e)),t.push(new f(2*this.x+1,2*this.y,i,e)),t.push(new f(2*this.x+1,2*this.y+1,i,e)),t},f.prototype.neighbors=function(){var t=this._geometry,e=t._neighborsCache,i=e.get(this);if(i)return i;for(var r=this.x,h=this.y,l=this.z,s=this._level,n=s.numHorizontalTiles()-1,o=s.numVerticalTiles()-1,u=[],a=0;a<y.length;a++){var p=r+y[a][0],v=h+y[a][1],c=l;0<=p&&p<=n&&0<=v&&v<=o&&u.push(new f(p,v,c,t))}return e.set(this,u),u},f.prototype.hash=function(){return e(this.z,this.y,this.x)},f.prototype.equals=function(t){return this._geometry===t._geometry&&this.z===t.z&&this.y===t.y&&this.x===t.x},f.prototype.cmp=function(t){return u(this.z,t.z)||u(this.y,t.y)||u(this.x,t.x)},f.prototype.str=function(){return"FlatTile("+tile.x+", "+tile.y+", "+tile.z+")"},t(g,h),g.prototype.width=function(){return this._width},g.prototype.height=function(){return this._height},g.prototype.tileWidth=function(){return this._tileWidth},g.prototype.tileHeight=function(){return this._tileHeight},g.prototype._validateWithParentLevel=function(t){var e=this.width(),i=this.height(),r=this.tileWidth(),h=this.tileHeight(),l=t.width(),s=t.height(),n=t.tileWidth(),o=t.tileHeight();return e%l!=0?new Error("Level width must be multiple of parent level: "+e+" vs. "+l):i%s!=0?new Error("Level height must be multiple of parent level: "+i+" vs. "+s):r%n!=0?new Error("Level tile width must be multiple of parent level: "+r+" vs. "+n):h%o!=0?new Error("Level tile height must be multiple of parent level: "+h+" vs. "+o):void 0},_.prototype.maxTileSize=function(){for(var t=0,e=0;e<this.levelList.length;e++){var i=this.levelList[e];t=Math.max(t,i.tileWidth,i.tileHeight)}return t},_.prototype.levelTiles=function(t,e){var i=this.levelList.indexOf(t),r=t.numHorizontalTiles()-1,h=t.numVerticalTiles()-1;e||(e=[]);for(var l=0;l<=r;l++)for(var s=0;s<=h;s++)e.push(new f(l,s,i,this));return e},_.prototype._closestTile=function(t,e){var i=this._vec;v.set(i,0,0,1,1),v.transformMat4(i,i,t.inverseProjection());var r=.5+i[0],h=.5-i[1],l=this.levelList.indexOf(e),s=e.width(),o=e.height(),u=e.tileWidth(),a=e.tileHeight(),p=e.numHorizontalTiles(),c=e.numVerticalTiles();return new f(n(Math.floor(r*s/u),0,p-1),n(Math.floor(h*o/a),0,c-1),l,this)},_.prototype.visibleTiles=function(t,e,i){var r=this._viewSize,h=this._tileSearcher;if(i=i||[],t.size(r),0===r.width||0===r.height)return i;var l=this._closestTile(t,e);if(!h.search(t,l,i))throw new Error("Starting tile is not visible");return i},_.Tile=_.prototype.Tile=f,_.type=_.prototype.type="flat",f.type=f.prototype.type="flat",module.exports=_;
},{"../util/inherits":"W3pH","../util/hash":"ja5q","../TileSearcher":"nxci","../collections/LruMap":"dWxv","./Level":"FevE","./common":"TOoo","../util/clamp":"qqzv","../util/mod":"iEu3","../util/cmp":"DMww","../util/type":"HgvH","gl-matrix":"IF0X"}],"Dcnk":[function(require,module,exports) {
"use strict";var t=require("../util/inherits"),e=require("../util/hash"),i=require("../util/cmp"),r=require("./common"),o=require("./Level"),n=require("../util/type");function u(t,e){this.z=t,this._geometry=e,this._level=e.levelList[t]}function s(t){this.constructor.super_.call(this,t),this._width=t.width}function l(t){if("array"!==n(t))throw new Error("Level list must be an array");this.levelList=r.makeLevelList(t,s),this.selectableLevelList=r.makeSelectableLevelList(this.levelList)}u.prototype.rotX=function(){return 0},u.prototype.rotY=function(){return 0},u.prototype.centerX=function(){return.5},u.prototype.centerY=function(){return.5},u.prototype.scaleX=function(){return 1},u.prototype.scaleY=function(){return 1},u.prototype.parent=function(){return 0===this.z?null:new u(this.z-1,this._geometry)},u.prototype.children=function(t){return this.z===this._geometry.levelList.length-1?null:((t=t||[]).push(new u(this.z+1,this._geometry)),t)},u.prototype.neighbors=function(){return[]},u.prototype.hash=function(){return e(this.z)},u.prototype.equals=function(t){return this._geometry===t._geometry&&this.z===t.z},u.prototype.cmp=function(t){return i(this.z,t.z)},u.prototype.str=function(){return"EquirectTile("+tile.z+")"},t(s,o),s.prototype.width=function(){return this._width},s.prototype.height=function(){return this._width/2},s.prototype.tileWidth=function(){return this._width},s.prototype.tileHeight=function(){return this._width/2},l.prototype.maxTileSize=function(){for(var t=0,e=0;e<this.levelList.length;e++){var i=this.levelList[e];t=Math.max(t,i.tileWidth,i.tileHeight)}return t},l.prototype.levelTiles=function(t,e){var i=this.levelList.indexOf(t);return(e=e||[]).push(new u(i,this)),e},l.prototype.visibleTiles=function(t,e,i){var r=new u(this.levelList.indexOf(e),this);(i=i||[]).length=0,i.push(r)},l.Tile=l.prototype.Tile=u,l.type=l.prototype.type="equirect",u.type=u.prototype.type="equirect",module.exports=l;
},{"../util/inherits":"W3pH","../util/hash":"ja5q","../util/cmp":"DMww","./common":"TOoo","./Level":"FevE","../util/type":"HgvH"}],"d8NZ":[function(require,module,exports) {
"use strict";function t(t,n,r){return 2*Math.atan(r*Math.tan(t/2)/n)}function n(n,r,o){return t(n,r,o)}function r(n,r,o){return t(n,r,Math.sqrt(r*r+o*o))}function o(n,r,o){return t(n,o,r)}function u(n,r,o){return t(n,o,Math.sqrt(r*r+o*o))}function e(n,r,o){return t(n,Math.sqrt(r*r+o*o),r)}function h(n,r,o){return t(n,Math.sqrt(r*r+o*o),o)}module.exports={convert:t,htov:n,htod:r,vtoh:o,vtod:u,dtoh:e,dtov:h};
},{}],"bQI0":[function(require,module,exports) {
"use strict";function e(e){return"number"==typeof e&&isFinite(e)}module.exports=e;
},{}],"NsFD":[function(require,module,exports) {
"use strict";function t(t){return t.toPrecision(15)}module.exports=t;
},{}],"Ejq7":[function(require,module,exports) {
"use strict";function r(){var r=arguments;return function(n){for(var t=n,u=0;u<r.length;u++){t=r[u].call(null,t)}return t}}module.exports=r;
},{}],"Q7EF":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),i=require("gl-matrix").mat4,e=require("gl-matrix").vec4,r=require("../util/pixelRatio"),o=require("../util/convertFov"),h=require("../util/mod"),n=require("../util/real"),a=require("../util/clamp"),s=require("../util/decimal"),p=require("../util/compose"),l=require("../util/clearOwnProperties"),c=0,u=0,_=0,f=0,v=0,m=Math.PI/4,y=0,w=0,d=1e-6;function M(t,r){this._yaw=t&&null!=t.yaw?t.yaw:_,this._pitch=t&&null!=t.pitch?t.pitch:f,this._roll=t&&null!=t.roll?t.roll:v,this._fov=t&&null!=t.fov?t.fov:m,this._width=t&&null!=t.width?t.width:c,this._height=t&&null!=t.height?t.height:u,this._projectionCenterX=t&&null!=t.projectionCenterX?t.projectionCenterX:y,this._projectionCenterY=t&&null!=t.projectionCenterY?t.projectionCenterY:w,this._limiter=r||null,this._projMatrix=i.create(),this._invProjMatrix=i.create(),this._frustum=[e.create(),e.create(),e.create(),e.create(),e.create()],this._projectionChanged=!0,this._params={},this._fovs={},this._tmpVec=e.create(),this._update()}t(M),M.prototype.destroy=function(){l(this)},M.prototype.yaw=function(){return this._yaw},M.prototype.pitch=function(){return this._pitch},M.prototype.roll=function(){return this._roll},M.prototype.projectionCenterX=function(){return this._projectionCenterX},M.prototype.projectionCenterY=function(){return this._projectionCenterY},M.prototype.fov=function(){return this._fov},M.prototype.width=function(){return this._width},M.prototype.height=function(){return this._height},M.prototype.size=function(t){return(t=t||{}).width=this._width,t.height=this._height,t},M.prototype.parameters=function(t){return(t=t||{}).yaw=this._yaw,t.pitch=this._pitch,t.roll=this._roll,t.fov=this._fov,t},M.prototype.limiter=function(){return this._limiter},M.prototype.setYaw=function(t){this._resetParams(),this._params.yaw=t,this._update(this._params)},M.prototype.setPitch=function(t){this._resetParams(),this._params.pitch=t,this._update(this._params)},M.prototype.setRoll=function(t){this._resetParams(),this._params.roll=t,this._update(this._params)},M.prototype.setFov=function(t){this._resetParams(),this._params.fov=t,this._update(this._params)},M.prototype.setProjectionCenterX=function(t){this._resetParams(),this._params.projectionCenterX=t,this._update(this._params)},M.prototype.setProjectionCenterY=function(t){this._resetParams(),this._params.projectionCenterY=t,this._update(this._params)},M.prototype.offsetYaw=function(t){this.setYaw(this._yaw+t)},M.prototype.offsetPitch=function(t){this.setPitch(this._pitch+t)},M.prototype.offsetRoll=function(t){this.setRoll(this._roll+t)},M.prototype.offsetFov=function(t){this.setFov(this._fov+t)},M.prototype.setSize=function(t){this._resetParams(),this._params.width=t.width,this._params.height=t.height,this._update(this._params)},M.prototype.setParameters=function(t){this._resetParams(),this._params.yaw=t.yaw,this._params.pitch=t.pitch,this._params.roll=t.roll,this._params.fov=t.fov,this._params.projectionCenterX=t.projectionCenterX,this._params.projectionCenterY=t.projectionCenterY,this._update(this._params)},M.prototype.setLimiter=function(t){this._limiter=t||null,this._update()},M.prototype._resetParams=function(){var t=this._params;t.yaw=null,t.pitch=null,t.roll=null,t.fov=null,t.width=null,t.height=null},M.prototype._update=function(t){null==t&&(this._resetParams(),t=this._params);var i=this._yaw,e=this._pitch,r=this._roll,o=this._fov,h=this._projectionCenterX,a=this._projectionCenterY,s=this._width,p=this._height;if(t.yaw=null!=t.yaw?t.yaw:i,t.pitch=null!=t.pitch?t.pitch:e,t.roll=null!=t.roll?t.roll:r,t.fov=null!=t.fov?t.fov:o,t.width=null!=t.width?t.width:s,t.height=null!=t.height?t.height:p,t.projectionCenterX=null!=t.projectionCenterX?t.projectionCenterX:h,t.projectionCenterY=null!=t.projectionCenterY?t.projectionCenterY:a,this._limiter&&!(t=this._limiter(t)))throw new Error("Bad view limiter");var l=(t=this._normalize(t)).yaw,c=t.pitch,u=t.roll,_=t.fov,f=t.width,v=t.height,m=t.projectionCenterX,y=t.projectionCenterY;if(!(n(l)&&n(c)&&n(u)&&n(_)&&n(f)&&n(v)&&n(m)&&n(y)))throw new Error("Bad view - suspect a broken limiter");this._yaw=l,this._pitch=c,this._roll=u,this._fov=_,this._width=f,this._height=v,this._projectionCenterX=m,this._projectionCenterY=y,l===i&&c===e&&u===r&&_===o&&f===s&&v===p&&m===h&&y===a||(this._projectionChanged=!0,this.emit("change")),f===s&&v===p||this.emit("resize")},M.prototype._normalize=function(t){this._normalizeCoordinates(t);var i=o.htov(Math.PI,t.width,t.height),e=isNaN(i)?Math.PI:Math.min(Math.PI,i);return t.fov=a(t.fov,d,e-d),t},M.prototype._normalizeCoordinates=function(t){return"yaw"in t&&(t.yaw=h(t.yaw-Math.PI,-2*Math.PI)+Math.PI),"pitch"in t&&(t.pitch=h(t.pitch-Math.PI,-2*Math.PI)+Math.PI),"roll"in t&&(t.roll=h(t.roll-Math.PI,-2*Math.PI)+Math.PI),t},M.prototype.normalizeToClosest=function(t,i){var e=this._yaw,r=this._pitch,o=t.yaw,h=t.pitch,n=o-2*Math.PI,a=o+2*Math.PI;Math.abs(n-e)<Math.abs(o-e)?o=n:Math.abs(a-e)<Math.abs(o-e)&&(o=a);var s=h-2*Math.PI,p=h+2*Math.PI;return Math.abs(s-r)<Math.abs(h-r)?h=s:Math.abs(s-r)<Math.abs(h-r)&&(h=p),(i=i||{}).yaw=o,i.pitch=h,i},M.prototype.updateWithControlParameters=function(t){var i=this._fov,e=o.vtoh(i,this._width,this._height);isNaN(e)&&(e=i),this.offsetYaw(t.axisScaledX*e+2*t.x*e+t.yaw),this.offsetPitch(t.axisScaledY*i+2*t.y*e+t.pitch),this.offsetRoll(-t.roll),this.offsetFov(t.zoom*i)},M.prototype._updateProjection=function(){var t=this._projMatrix,e=this._invProjMatrix,r=this._frustum;if(this._projectionChanged){var h=this._width,n=this._height,a=this._fov,s=o.vtoh(a,h,n),p=h/n,l=this._projectionCenterX,c=this._projectionCenterY;if(0!==l||0!==c){var u=Math.atan(2*l*Math.tan(s/2)),_=Math.atan(2*c*Math.tan(a/2)),f=this._fovs;f.leftDegrees=180*(s/2+u)/Math.PI,f.rightDegrees=180*(s/2-u)/Math.PI,f.upDegrees=180*(a/2+_)/Math.PI,f.downDegrees=180*(a/2-_)/Math.PI,i.perspectiveFromFieldOfView(t,f,-1,1)}else i.perspective(t,a,p,-1,1);i.rotateZ(t,t,this._roll),i.rotateX(t,t,this._pitch),i.rotateY(t,t,this._yaw),i.invert(e,t),this._matrixToFrustum(t,r),this._projectionChanged=!1}},M.prototype._matrixToFrustum=function(t,i){e.set(i[0],t[3]+t[0],t[7]+t[4],t[11]+t[8],0),e.set(i[1],t[3]-t[0],t[7]-t[4],t[11]-t[8],0),e.set(i[2],t[3]+t[1],t[7]+t[5],t[11]+t[9],0),e.set(i[3],t[3]-t[1],t[7]-t[5],t[11]-t[9],0),e.set(i[4],t[3]+t[2],t[7]+t[6],t[11]+t[10],0)},M.prototype.projection=function(){return this._updateProjection(),this._projMatrix},M.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},M.prototype.intersects=function(t){this._updateProjection();for(var i=this._frustum,r=this._tmpVec,o=0;o<i.length;o++){for(var h=i[o],n=!1,a=0;a<t.length;a++){var s=t[a];e.set(r,s[0],s[1],s[2],0),e.dot(h,r)>=0&&(n=!0)}if(!n)return!1}return!0},M.prototype.selectLevel=function(t){for(var i=r()*this._height,e=Math.tan(.5*this._fov),o=0;o<t.length;o++){var h=t[o];if(e*h.height()>=i)return h}return t[t.length-1]},M.prototype.coordinatesToScreen=function(t,i){var r=this._tmpVec;i||(i={});var o=this._width,h=this._height;if(o<=0||h<=0)return i.x=null,i.y=null,null;var n=t.yaw,a=t.pitch,s=Math.sin(n)*Math.cos(a),p=-Math.sin(a),l=-Math.cos(n)*Math.cos(a);return e.set(r,s,p,l,1),e.transformMat4(r,r,this.projection()),r[3]>=0?(i.x=o*(r[0]/r[3]+1)/2,i.y=h*(1-r[1]/r[3])/2,i):(i.x=null,i.y=null,null)},M.prototype.screenToCoordinates=function(t,i){var r=this._tmpVec;i||(i={});var o=this._width,h=this._height,n=2*t.x/o-1,a=1-2*t.y/h;e.set(r,n,a,1,1),e.transformMat4(r,r,this.inverseProjection());var s=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return i.yaw=Math.atan2(r[0],-r[2]),i.pitch=Math.acos(r[1]/s)-Math.PI/2,this._normalizeCoordinates(i),i},M.prototype.coordinatesToPerspectiveTransform=function(t,i,e){e=e||"";var r=this._height,o=this._width,h=this._fov,n=.5*r/Math.tan(h/2),a="";return a+="translateX("+s(o/2)+"px) ",a+="translateY("+s(r/2)+"px) ",a+="translateX(-50%) translateY(-50%) ",a+="perspective("+s(n)+"px) ",a+="translateZ("+s(n)+"px) ",a+="rotateZ("+s(-this._roll)+"rad) ",a+="rotateX("+s(-this._pitch)+"rad) ",a+="rotateY("+s(this._yaw)+"rad) ",a+="rotateY("+s(-t.yaw)+"rad) ",a+="rotateX("+s(t.pitch)+"rad) ",a+="translateZ("+s(-i)+"px) ",a+=e+" "},M.limit={yaw:function(t,i){return function(e){return e.yaw=a(e.yaw,t,i),e}},pitch:function(t,i){return function(e){return e.pitch=a(e.pitch,t,i),e}},roll:function(t,i){return function(e){return e.roll=a(e.roll,t,i),e}},hfov:function(t,i){return function(e){var r=e.width,h=e.height;if(r>0&&h>0){var n=o.htov(t,r,h),s=o.htov(i,r,h);e.fov=a(e.fov,n,s)}return e}},vfov:function(t,i){return function(e){return e.fov=a(e.fov,t,i),e}},resolution:function(t){return function(i){var e=i.height;if(e){var o=r()*e,h=2*Math.atan(o/t);i.fov=a(i.fov,h,1/0)}return i}},traditional:function(t,i,e){return e=null!=e?e:i,p(M.limit.resolution(t),M.limit.vfov(0,i),M.limit.hfov(0,e),M.limit.pitch(-Math.PI/2,Math.PI/2))}},M.type=M.prototype.type="rectilinear",module.exports=M;
},{"minimal-event-emitter":"lNC2","gl-matrix":"IF0X","../util/pixelRatio":"AQTT","../util/convertFov":"d8NZ","../util/mod":"iEu3","../util/real":"bQI0","../util/clamp":"qqzv","../util/decimal":"NsFD","../util/compose":"Ejq7","../util/clearOwnProperties":"lrIP"}],"p35M":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),i=require("gl-matrix").mat4,o=require("gl-matrix").vec4,e=require("../util/pixelRatio"),r=require("../util/real"),s=require("../util/clamp"),h=require("../util/clearOwnProperties"),n=0,a=0,u=.5,p=.5,m=1,_=[1,0,1,0],c=[-1,-1,1,1],l=1e-6;function f(t,e){if(!t||null==t.mediaAspectRatio)throw new Error("mediaAspectRatio must be defined");this._x=t&&null!=t.x?t.x:u,this._y=t&&null!=t.y?t.y:p,this._zoom=t&&null!=t.zoom?t.zoom:m,this._mediaAspectRatio=t.mediaAspectRatio,this._width=t&&null!=t.width?t.width:n,this._height=t&&null!=t.height?t.height:a,this._limiter=e||null,this._projMatrix=i.create(),this._invProjMatrix=i.create(),this._frustum=[0,0,0,0],this._projectionChanged=!0,this._params={},this._vec=o.create(),this._update()}t(f),f.prototype.destroy=function(){h(this)},f.prototype.x=function(){return this._x},f.prototype.y=function(){return this._y},f.prototype.zoom=function(){return this._zoom},f.prototype.mediaAspectRatio=function(){return this._mediaAspectRatio},f.prototype.width=function(){return this._width},f.prototype.height=function(){return this._height},f.prototype.size=function(t){return(t=t||{}).width=this._width,t.height=this._height,t},f.prototype.parameters=function(t){return(t=t||{}).x=this._x,t.y=this._y,t.zoom=this._zoom,t.mediaAspectRatio=this._mediaAspectRatio,t},f.prototype.limiter=function(){return this._limiter},f.prototype.setX=function(t){this._resetParams(),this._params.x=t,this._update(this._params)},f.prototype.setY=function(t){this._resetParams(),this._params.y=t,this._update(this._params)},f.prototype.setZoom=function(t){this._resetParams(),this._params.zoom=t,this._update(this._params)},f.prototype.offsetX=function(t){this.setX(this._x+t)},f.prototype.offsetY=function(t){this.setY(this._y+t)},f.prototype.offsetZoom=function(t){this.setZoom(this._zoom+t)},f.prototype.setMediaAspectRatio=function(t){this._resetParams(),this._params.mediaAspectRatio=t,this._update(this._params)},f.prototype.setSize=function(t){this._resetParams(),this._params.width=t.width,this._params.height=t.height,this._update(this._params)},f.prototype.setParameters=function(t){this._resetParams(),this._params.x=t.x,this._params.y=t.y,this._params.zoom=t.zoom,this._params.mediaAspectRatio=t.mediaAspectRatio,this._update(this._params)},f.prototype.setLimiter=function(t){this._limiter=t||null,this._update()},f.prototype._resetParams=function(){var t=this._params;t.x=null,t.y=null,t.zoom=null,t.mediaAspectRatio=null,t.width=null,t.height=null},f.prototype._update=function(t){null==t&&(this._resetParams(),t=this._params);var i=this._x,o=this._y,e=this._zoom,h=this._mediaAspectRatio,n=this._width,a=this._height;if(t.x=null!=t.x?t.x:i,t.y=null!=t.y?t.y:o,t.zoom=null!=t.zoom?t.zoom:e,t.mediaAspectRatio=null!=t.mediaAspectRatio?t.mediaAspectRatio:h,t.width=null!=t.width?t.width:n,t.height=null!=t.height?t.height:a,this._limiter&&!(t=this._limiter(t)))throw new Error("Bad view limiter");var u=t.x,p=t.y,m=t.zoom,_=t.mediaAspectRatio,c=t.width,f=t.height;if(!(r(u)&&r(p)&&r(m)&&r(_)&&r(c)&&r(f)))throw new Error("Bad view - suspect a broken limiter");m=s(m,l,1/0),this._x=u,this._y=p,this._zoom=m,this._mediaAspectRatio=_,this._width=c,this._height=f,u===i&&p===o&&m===e&&_===h&&c===n&&f===a||(this._projectionChanged=!0,this.emit("change")),c===n&&f===a||this.emit("resize")},f.prototype._zoomX=function(){return this._zoom},f.prototype._zoomY=function(){var t=this._mediaAspectRatio,i=this._width/this._height,o=this._zoom,e=o*t/i;return isNaN(e)&&(e=o),e},f.prototype.updateWithControlParameters=function(t){var i=this.zoom(),o=this._zoomX(),e=this._zoomY();this.offsetX(t.axisScaledX*o+t.x*i),this.offsetY(t.axisScaledY*e+t.y*i),this.offsetZoom(t.zoom*i)},f.prototype._updateProjection=function(){var t=this._projMatrix,o=this._invProjMatrix,e=this._frustum;if(this._projectionChanged){var r=this._x,s=this._y,h=this._zoomX(),n=this._zoomY(),a=e[0]=.5-s+.5*n,u=e[1]=r-.5+.5*h,p=e[2]=.5-s-.5*n,m=e[3]=r-.5-.5*h;i.ortho(t,m,u,p,a,-1,1),i.invert(o,t),this._projectionChanged=!1}},f.prototype.projection=function(){return this._updateProjection(),this._projMatrix},f.prototype.inverseProjection=function(){return this._updateProjection(),this._invProjMatrix},f.prototype.intersects=function(t){this._updateProjection();for(var i=this._frustum,o=0;o<i.length;o++){for(var e=i[o],r=_[o],s=c[o],h=!1,n=0;n<t.length;n++){var a=t[n];if(s<0&&a[r]<e||s>0&&a[r]>e){h=!0;break}}if(!h)return!1}return!0},f.prototype.selectLevel=function(t){for(var i=e()*this.width(),o=this._zoom,r=0;r<t.length;r++){var s=t[r];if(o*s.width()>=i)return s}return t[t.length-1]},f.prototype.coordinatesToScreen=function(t,i){var e=this._vec;i||(i={});var r=this._width,s=this._height;if(r<=0||s<=0)return i.x=null,i.y=null,null;var h=t&&null!=t.x?t.x:u,n=t&&null!=t.y?t.y:p;o.set(e,h-.5,.5-n,-1,1),o.transformMat4(e,e,this.projection());for(var a=0;a<3;a++)e[a]/=e[3];return i.x=r*(e[0]+1)/2,i.y=s*(1-e[1])/2,i},f.prototype.screenToCoordinates=function(t,i){var e=this._vec;i||(i={});var r=this._width,s=this._height,h=2*t.x/r-1,n=1-2*t.y/s;return o.set(e,h,n,1,1),o.transformMat4(e,e,this.inverseProjection()),i.x=.5+e[0],i.y=.5-e[1],i},f.limit={x:function(t,i){return function(o){return o.x=s(o.x,t,i),o}},y:function(t,i){return function(o){return o.y=s(o.y,t,i),o}},zoom:function(t,i){return function(o){return o.zoom=s(o.zoom,t,i),o}},resolution:function(t){return function(i){if(i.width<=0||i.height<=0)return i;var o=i.width,r=e()*o/t;return i.zoom=s(i.zoom,r,1/0),i}},visibleX:function(t,i){return function(o){var e=i-t;o.zoom>e&&(o.zoom=e);var r=t+.5*o.zoom,h=i-.5*o.zoom;return o.x=s(o.x,r,h),o}},visibleY:function(t,i){return function(o){if(o.width<=0||o.height<=0)return o;var e=o.width/o.height/o.mediaAspectRatio,r=(i-t)*e;o.zoom>r&&(o.zoom=r);var h=t+.5*o.zoom/e,n=i-.5*o.zoom/e;return o.y=s(o.y,h,n),o}},letterbox:function(){return function(t){if(t.width<=0||t.height<=0)return t;var i,o,e,r,h=t.width/t.height,n=h/t.mediaAspectRatio;return t.mediaAspectRatio>=h&&(t.zoom=Math.min(t.zoom,1)),t.mediaAspectRatio<=h&&(t.zoom=Math.min(t.zoom,n)),t.zoom>1?i=o=.5:(i=0+.5*t.zoom/1,o=1-.5*t.zoom/1),t.zoom>n?e=r=.5:(e=0+.5*t.zoom/n,r=1-.5*t.zoom/n),t.x=s(t.x,i,o),t.y=s(t.y,e,r),t}}},f.type=f.prototype.type="flat",module.exports=f;
},{"minimal-event-emitter":"lNC2","gl-matrix":"IF0X","../util/pixelRatio":"AQTT","../util/real":"bQI0","../util/clamp":"qqzv","../util/clearOwnProperties":"lrIP"}],"BtbP":[function(require,module,exports) {
"use strict";var t=require("./WorkQueue"),e=require("../util/mod");function o(e){this._concurrency=e&&e.concurrency||1,this._paused=e&&!!e.paused||!1,this._pool=[];for(var o=0;o<this._concurrency;o++)this._pool.push(new t(e));this._next=0}o.prototype.length=function(){for(var t=0,e=0;e<this._pool.length;e++)t+=this._pool[e].length();return t},o.prototype.push=function(t,o){var r=this._next,s=this._pool[r].push(t,o);return this._next=e(this._next+1,this._concurrency),s},o.prototype.pause=function(){if(!this._paused){this._paused=!0;for(var t=0;t<this._concurrency;t++)this._pool[t].pause()}},o.prototype.resume=function(){if(this._paused){this._paused=!1;for(var t=0;t<this._concurrency;t++)this._pool[t].resume()}},module.exports=o;
},{"./WorkQueue":"fanG","../util/mod":"iEu3"}],"Sw6I":[function(require,module,exports) {
"use strict";function t(){}module.exports=t;
},{}],"XUgy":[function(require,module,exports) {
"use strict";var l=require("./noop");function n(){var n=Array.prototype.slice.call(arguments,0);return function(){var r=n.slice(0),t=null,e=null,u=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],i=arguments.length?arguments[arguments.length-1]:l;return u.unshift(null),function l(){if(arguments[0])return t=e=null,void i.apply(null,arguments);if(!r.length)return t=e=null,void i.apply(null,arguments);var n=t=r.shift(),u=Array.prototype.slice.call(arguments,1);u.push(l);var o=t.apply(null,u);if(n===t){if("function"!=typeof o)throw new Error("chain: chaining on non-cancellable function");e=o}}.apply(null,u),function(){e&&e.apply(null,arguments)}}}module.exports=n;
},{"./noop":"Sw6I"}],"MjRO":[function(require,module,exports) {
"use strict";function l(l,u){var n=null;return n=setTimeout(function(){null!=n&&(n=null,u(null))},l),function(){null!=n&&(clearTimeout(n),n=null,u.apply(null,arguments))}}module.exports=l;
},{}],"rSzd":[function(require,module,exports) {
"use strict";var r=require("minimal-event-emitter"),e=require("../NetworkError"),t=require("../collections/WorkPool"),n=require("../util/chain"),i=require("../util/delay"),u=require("../util/now"),o={x:"x",y:"y",z:"z",f:"face"},l="bdflru",a=4,c=1e4;function s(r,e){e=e||{},this._loadPool=new t({concurrency:e.concurrency||a}),this._retryDelay=e.retryDelay||c,this._retryMap={},this._sourceFromTile=r}function f(r){return new RegExp("\\{("+r+")\\}","g")}r(s),s.prototype.loadAsset=function(r,t,o){var l,a=this,c=this._retryDelay,s=this._retryMap,f=this._sourceFromTile(t),y=f.url,d=f.rect,h=r.loadImage.bind(r,y,d),v=s[y];if(null!=v){var p=u()-v;p<c?l=c-p:(l=0,delete s[y])}var w=i.bind(null,l);return n(w,function(r){return a._loadPool.push(h,function(n,i){n?(n instanceof e&&(s[y]=u(),a.emit("networkError",n,t)),r(n,t)):(delete s[y],r(null,t,i))})})(o)},s.fromString=function(r,e){var t=(e=e||{})&&e.cubeMapPreviewFaceOrder||l;return new s(e.cubeMapPreviewUrl?function(r){return 0===r.z?function(r){var n=t.indexOf(r.face)/6;return{url:e.cubeMapPreviewUrl,rect:{x:0,y:n,width:1,height:1/6}}}(r):n(r)}:n,e);function n(e){var t=r;for(var n in o){var i=o[n],u=f(n),l=e.hasOwnProperty(i)?e[i]:"";t=t.replace(u,l)}return{url:t}}},module.exports=s;
},{"minimal-event-emitter":"lNC2","../NetworkError":"WkWV","../collections/WorkPool":"BtbP","../util/chain":"XUgy","../util/delay":"MjRO","../util/now":"fllL"}],"oQsd":[function(require,module,exports) {
"use strict";function t(t){this._asset=t}t.prototype.asset=function(){return this._asset},t.prototype.loadAsset=function(t,s,e){var n=this,o=setTimeout(function(){e(null,s,n._asset)},0);return function(){clearTimeout(o),e.apply(null,arguments)}},module.exports=t;
},{}],"RMLf":[function(require,module,exports) {
"use strict";var t=require("./Static"),i=require("../util/inherits"),e=require("minimal-event-emitter"),r=require("../util/clearOwnProperties");function s(t){this.constructor.super_.call(this,t),this._timestamp=0}i(s,t),e(s),s.prototype.destroy=function(){r(this)},s.prototype.timestamp=function(){return this._timestamp},s.prototype.isDynamic=function(){return!0},s.prototype.markDirty=function(){this._timestamp++,this.emit("change")},module.exports=s;
},{"./Static":"rzhm","../util/inherits":"W3pH","minimal-event-emitter":"lNC2","../util/clearOwnProperties":"lrIP"}],"tgQa":[function(require,module,exports) {
"use strict";var t=require("../util/mod"),e=64;function s(t){if(null!=t&&(!isFinite(t)||Math.floor(t)!==t||t<1))throw new Error("Map: invalid capacity");this._capacity=t||e,this._keyBuckets=[],this._valBuckets=[];for(var s=0;s<this._capacity;s++)this._keyBuckets.push([]),this._valBuckets.push([]);this._size=0}s.prototype.get=function(e){for(var s=t(e.hash(),this._capacity),i=this._keyBuckets[s],r=0;r<i.length;r++){var h=i[r];if(e.equals(h))return this._valBuckets[s][r]}return null},s.prototype.set=function(e,s){for(var i=t(e.hash(),this._capacity),r=this._keyBuckets[i],h=this._valBuckets[i],a=0;a<r.length;a++){var u=r[a];if(e.equals(u)){var n=h[a];return r[a]=e,h[a]=s,n}}return r.push(e),h.push(s),this._size++,null},s.prototype.del=function(e){for(var s=t(e.hash(),this._capacity),i=this._keyBuckets[s],r=this._valBuckets[s],h=0;h<i.length;h++){var a=i[h];if(e.equals(a)){for(var u=r[h],n=h;n<i.length-1;n++)i[n]=i[n+1],r[n]=r[n+1];return i.length=i.length-1,r.length=r.length-1,this._size--,u}}return null},s.prototype.has=function(e){for(var s=t(e.hash(),this._capacity),i=this._keyBuckets[s],r=0;r<i.length;r++){var h=i[r];if(e.equals(h))return!0}return!1},s.prototype.size=function(){return this._size},s.prototype.clear=function(){for(var t=0;t<this._capacity;t++)this._keyBuckets[t].length=0,this._valBuckets[t].length=0;this._size=0},s.prototype.forEach=function(t){for(var e=0,s=0;s<this._capacity;s++)for(var i=this._keyBuckets[s],r=this._valBuckets[s],h=0;h<i.length;h++)t(i[h],r[h]),e+=1;return e},module.exports=s;
},{"../util/mod":"iEu3"}],"IVzu":[function(require,module,exports) {
"use strict";var t=require("../util/mod");function i(t){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new Error("LruSet: invalid capacity");this._capacity=t,this._elements=new Array(this._capacity),this._start=0,this._size=0}i.prototype._index=function(i){return t(this._start+i,this._capacity)},i.prototype.add=function(t){if(0===this._capacity)return t;this.remove(t);var i=this._size===this._capacity?this._elements[this._index(0)]:null;return this._elements[this._index(this._size)]=t,this._size<this._capacity?this._size++:this._start=this._index(1),i},i.prototype.remove=function(t){for(var i=0;i<this._size;i++){var e=this._elements[this._index(i)];if(t.equals(e)){for(var s=i;s<this._size-1;s++)this._elements[this._index(s)]=this._elements[this._index(s+1)];return this._size--,e}}return null},i.prototype.has=function(t){for(var i=0;i<this._size;i++)if(t.equals(this._elements[this._index(i)]))return!0;return!1},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._elements.length=0,this._start=0,this._size=0},i.prototype.forEach=function(t){for(var i=0,e=0;e<this._size;e++)t(this._elements[this._index(e)]),i+=1;return i},module.exports=i;
},{"../util/mod":"iEu3"}],"IcBt":[function(require,module,exports) {
"use strict";function r(r,n){for(var t in n)t in r||(r[t]=n[t]);return r}module.exports=r;
},{}],"rngS":[function(require,module,exports) {
"use strict";var l=require("./noop");function n(n){return function(){var t=arguments.length?Array.prototype.slice.call(arguments,0,arguments.length-1):[],u=arguments.length?arguments[arguments.length-1]:l,e=null,r=!1;function p(){!arguments[0]||r?u.apply(null,arguments):e=n.apply(null,t)}return t.push(p),p(!0),function(){r=!0,e.apply(null,arguments)}}}module.exports=n;
},{"./noop":"Sw6I"}],"oEpT":[function(require,module,exports) {
"use strict";var e=require("./collections/Map"),t=require("./collections/Set"),i=require("./collections/LruSet"),n=require("minimal-event-emitter"),r=require("./util/defaults"),s=require("./util/retry"),o=require("./util/chain"),l=require("./util/inherits"),a=require("./util/clearOwnProperties"),u="undefined"!=typeof MARZIPANODEBUG&&MARZIPANODEBUG.textureStore,h={IDLE:0,START:1,MARK:2,END:3},_={previouslyVisibleCacheSize:512},c=0;function p(){}function d(e,t){var i=this,n=c++;i._id=n,i._store=e,i._tile=t,i._asset=null,i._texture=null,i._changeHandler=function(){e.emit("textureInvalid",t)};var r=e.source(),l=e.stage(),a=r.loadAsset.bind(r),h=l.createTexture.bind(l),_=o(s(a),h);e.emit("textureStartLoad",t),u&&console.log("loading",n,t),i._cancel=_(l,t,function(r,s,o,l){if(i._cancel=null,r)return o&&o.destroy(),l&&l.destroy(),void(r instanceof p?(e.emit("textureCancel",t),u&&console.log("cancel",n,t)):(e.emit("textureError",t,r),u&&console.log("error",n,t)));i._texture=l,o.isDynamic()?(i._asset=o,o.addEventListener("change",i._changeHandler)):o.destroy(),e.emit("textureLoad",t),u&&console.log("load",n,t)})}function v(n,s,o){o=r(o||{},_),this._source=n,this._stage=s,this._state=h.IDLE,this._delimCount=0,this._itemMap=new e,this._visible=new t,this._previouslyVisible=new i(o.previouslyVisibleCacheSize),this._pinMap=new e,this._newVisible=new t,this._noLongerVisible=[],this._visibleAgain=[],this._evicted=[]}l(p,Error),d.prototype.asset=function(){return this._asset},d.prototype.texture=function(){return this._texture},d.prototype.destroy=function(){var e=this._id,t=this._store,i=this._tile,n=this._asset,r=this._texture,s=this._cancel;s?s(new p("Texture load cancelled")):(n&&(n.removeEventListener("change",this._changeHandler),n.destroy()),r&&r.destroy(),t.emit("textureUnload",i),u&&console.log("unload",e,i),a(this))},n(d),n(v),v.prototype.destroy=function(){this.clear(),a(this)},v.prototype.stage=function(){return this._stage},v.prototype.source=function(){return this._source},v.prototype.clear=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._itemMap.clear(),e._visible.clear(),e._previouslyVisible.clear(),e._pinMap.clear(),e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0},v.prototype.clearNotPinned=function(){var e=this;e._evicted.length=0,e._itemMap.forEach(function(t){e._pinMap.has(t)||e._evicted.push(t)}),e._evicted.forEach(function(t){e._unloadTile(t)}),e._visible.clear(),e._previouslyVisible.clear(),e._evicted.length=0},v.prototype.startFrame=function(){if(this._state!==h.IDLE&&this._state!==h.START)throw new Error("TextureStore: startFrame called out of sequence");this._state=h.START,this._delimCount++},v.prototype.markTile=function(e){if(this._state!==h.START&&this._state!==h.MARK)throw new Error("TextureStore: markTile called out of sequence");this._state=h.MARK;var t=this._itemMap.get(e),i=t&&t.texture(),n=t&&t.asset();i&&n&&i.refresh(e,n),this._newVisible.add(e)},v.prototype.endFrame=function(){if(this._state!==h.START&&this._state!==h.MARK&&this._state!==h.END)throw new Error("TextureStore: endFrame called out of sequence");this._state=h.END,this._delimCount--,this._delimCount||(this._update(),this._state=h.IDLE)},v.prototype._update=function(){var e=this;e._noLongerVisible.length=0,e._visible.forEach(function(t){e._newVisible.has(t)||e._noLongerVisible.push(t)}),e._visibleAgain.length=0,e._newVisible.forEach(function(t){e._previouslyVisible.has(t)&&e._visibleAgain.push(t)}),e._visibleAgain.forEach(function(t){e._previouslyVisible.remove(t)}),e._evicted.length=0,e._noLongerVisible.forEach(function(t){var i=e._itemMap.get(t);if(i&&i.texture()){var n=e._previouslyVisible.add(t);null!=n&&e._evicted.push(n)}else i&&e._unloadTile(t)}),e._evicted.forEach(function(t){e._pinMap.has(t)||e._unloadTile(t)}),e._newVisible.forEach(function(t){e._itemMap.get(t)||e._loadTile(t)});var t=e._visible;e._visible=e._newVisible,e._newVisible=t,e._newVisible.clear(),e._noLongerVisible.length=0,e._visibleAgain.length=0,e._evicted.length=0},v.prototype._loadTile=function(e){if(this._itemMap.has(e))throw new Error("TextureStore: loading texture already in cache");var t=new d(this,e);this._itemMap.set(e,t)},v.prototype._unloadTile=function(e){var t=this._itemMap.del(e);if(!t)throw new Error("TextureStore: unloading texture not in cache");t.destroy()},v.prototype.asset=function(e){var t=this._itemMap.get(e);return t?t.asset():null},v.prototype.texture=function(e){var t=this._itemMap.get(e);return t?t.texture():null},v.prototype.pin=function(e){var t=(this._pinMap.get(e)||0)+1;return this._pinMap.set(e,t),this._itemMap.has(e)||this._loadTile(e),t},v.prototype.unpin=function(e){var t=this._pinMap.get(e);if(!t)throw new Error("TextureStore: unpin when not pinned");return--t>0?this._pinMap.set(e,t):(this._pinMap.del(e),this._visible.has(e)||this._previouslyVisible.has(e)||this._unloadTile(e)),t},v.prototype.query=function(e){var t=this._itemMap.get(e),i=this._pinMap.get(e)||0;return{visible:this._visible.has(e),previouslyVisible:this._previouslyVisible.has(e),hasAsset:null!=t&&null!=t.asset(),hasTexture:null!=t&&null!=t.texture(),pinned:0!==i,pinCount:i}},module.exports=v;
},{"./collections/Map":"tgQa","./collections/Set":"NjuQ","./collections/LruSet":"IVzu","minimal-event-emitter":"lNC2","./util/defaults":"IcBt","./util/retry":"rngS","./util/chain":"XUgy","./util/inherits":"W3pH","./util/clearOwnProperties":"lrIP"}],"o5ow":[function(require,module,exports) {
"use strict";function r(r,t){for(var e in t)r[e]=t[e];return r}module.exports=r;
},{}],"mzUT":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./util/extend"),r=require("./util/clearOwnProperties");function i(e,t,r,i,n){n=n||{};var s=this;this._source=e,this._geometry=t,this._view=r,this._textureStore=i,this._effects=n.effects||{},this._fixedLevelIndex=null,this._viewChangeHandler=function(){s.emit("viewChange",s.view())},this._view.addEventListener("change",this._viewChangeHandler),this._textureStoreChangeHandler=function(){s.emit("textureStoreChange",s.textureStore())},this._textureStore.addEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.addEventListener("textureInvalid",this._textureStoreChangeHandler)}e(i),i.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._textureStore.removeEventListener("textureLoad",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureError",this._textureStoreChangeHandler),this._textureStore.removeEventListener("textureInvalid",this._textureStoreChangeHandler),r(this)},i.prototype.source=function(){return this._source},i.prototype.geometry=function(){return this._geometry},i.prototype.view=function(){return this._view},i.prototype.textureStore=function(){return this._textureStore},i.prototype.effects=function(){return this._effects},i.prototype.setEffects=function(e){this._effects=e,this.emit("effectsChange",this._effects)},i.prototype.mergeEffects=function(e){t(this._effects,e),this.emit("effectsChange",this._effects)},i.prototype.fixedLevel=function(){return this._fixedLevelIndex},i.prototype.setFixedLevel=function(e){if(e!==this._fixedLevelIndex){if(null!=e&&(e>=this._geometry.levelList.length||e<0))throw new Error("Level index out of range: "+e);this._fixedLevelIndex=e,this.emit("fixedLevelChange",this._fixedLevelIndex)}},i.prototype._selectLevel=function(){return null!=this._fixedLevelIndex?this._geometry.levelList[this._fixedLevelIndex]:this._view.selectLevel(this._geometry.selectableLevelList)},i.prototype.visibleTiles=function(e){var t=this._selectLevel();return this._geometry.visibleTiles(this._view,t,e)},i.prototype.pinLevel=function(e){for(var t=this._geometry.levelList[e],r=this._geometry.levelTiles(t),i=0;i<r.length;i++)this._textureStore.pin(r[i])},i.prototype.unpinLevel=function(e){for(var t=this._geometry.levelList[e],r=this._geometry.levelTiles(t),i=0;i<r.length;i++)this._textureStore.unpin(r[i])},i.prototype.pinFirstLevel=function(){return this.pinLevel(0)},i.prototype.unpinFirstLevel=function(){return this.unpinLevel(0)},module.exports=i;
},{"minimal-event-emitter":"lNC2","./util/extend":"o5ow","./util/clearOwnProperties":"lrIP"}],"M9KN":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./util/clearOwnProperties");function n(e){var t=this;this._stage=e,this._running=!1,this._rendering=!1,this._requestHandle=null,this._boundLoop=this._loop.bind(this),this._renderInvalidHandler=function(){t._rendering||t.renderOnNextFrame()},this._stage.addEventListener("renderInvalid",this._renderInvalidHandler)}e(n),n.prototype.destroy=function(){this.stop(),this._stage.removeEventListener("renderInvalid",this._renderInvalidHandler),t(this)},n.prototype.stage=function(){return this._stage},n.prototype.start=function(){this._running=!0,this.renderOnNextFrame()},n.prototype.stop=function(){this._requestHandle&&(window.cancelAnimationFrame(this._requestHandle),this._requestHandle=null),this._running=!1},n.prototype.renderOnNextFrame=function(){this._running&&!this._requestHandle&&(this._requestHandle=window.requestAnimationFrame(this._boundLoop))},n.prototype._loop=function(){if(!this._running)throw new Error("Render loop running while in stopped state");this._requestHandle=null,this._rendering=!0,this.emit("beforeRender"),this._rendering=!1,this._stage.render(),this.emit("afterRender")},module.exports=n;
},{"minimal-event-emitter":"lNC2","./util/clearOwnProperties":"lrIP"}],"CzyW":[function(require,module,exports) {
"use strict";function t(){this.velocity=null,this.friction=null,this.offset=null}function i(t,i){return t<0?Math.min(0,t+i):t>0?Math.max(0,t-i):0}t.equals=function(t,i){return t.velocity===i.velocity&&t.friction===i.friction&&t.offset===i.offset},t.prototype.equals=function(i){return t.equals(this,i)},t.prototype.update=function(t,i){t.offset&&(this.offset=this.offset||0,this.offset+=t.offset);var o=this.offsetFromVelocity(i);o&&(this.offset=this.offset||0,this.offset+=o),this.velocity=t.velocity,this.friction=t.friction},t.prototype.reset=function(){this.velocity=null,this.friction=null,this.offset=null},t.prototype.velocityAfter=function(t){return this.velocity?this.friction?i(this.velocity,this.friction*t):this.velocity:null},t.prototype.offsetFromVelocity=function(t){t=Math.min(t,this.nullVelocityTime());var i=this.velocityAfter(t);return(this.velocity+i)/2*t},t.prototype.nullVelocityTime=function(){return null==this.velocity?0:this.velocity&&!this.friction?1/0:Math.abs(this.velocity/this.friction)},module.exports=t;
},{}],"x80R":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./Dynamics"),i=require("../util/clearOwnProperties");function s(e,i,s,n,r){if(!e)throw new Error("KeyControlMethod: keyCode must be defined");if(!i)throw new Error("KeyControlMethod: parameter must be defined");if(!s)throw new Error("KeyControlMethod: velocity must be defined");if(!n)throw new Error("KeyControlMethod: friction must be defined");r=r||document,this._keyCode=e,this._parameter=i,this._velocity=s,this._friction=n,this._element=r,this._keydownHandler=this._handlePress.bind(this),this._keyupHandler=this._handleRelease.bind(this),this._blurHandler=this._handleBlur.bind(this),this._element.addEventListener("keydown",this._keydownHandler),this._element.addEventListener("keyup",this._keyupHandler),window.addEventListener("blur",this._blurHandler),this._dynamics=new t,this._pressing=!1}e(s),s.prototype.destroy=function(){this._element.removeEventListener("keydown",this._keydownHandler),this._element.removeEventListener("keyup",this._keyupHandler),window.removeEventListener("blur",this._blurHandler),i(this)},s.prototype._handlePress=function(e){e.keyCode===this._keyCode&&(this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active"))},s.prototype._handleRelease=function(e){e.keyCode===this._keyCode&&(this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1)},s.prototype._handleBlur=function(){this._dynamics.velocity=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive"),this._pressing=!1},module.exports=s;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","../util/clearOwnProperties":"lrIP"}],"K0KY":[function(require,module,exports) {
var define;
var t;!function(e,i,n,r){"use strict";var s=["","webkit","moz","MS","ms","o"],o=i.createElement("div"),a="function",h=Math.round,u=Math.abs,c=Date.now;function l(t,e,i){return setTimeout(g(t,i),e)}function p(t,e,i){return!!Array.isArray(t)&&(f(t,i[e],i),!0)}function f(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function d(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===r)&&(t[n[s]]=e[n[s]]),s++;return t}function v(t,e){return d(t,e,!0)}function m(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&d(n,i)}function g(t,e){return function(){return t.apply(e,arguments)}}function T(t,e){return typeof t==a?t.apply(e&&e[0]||r,e):t}function y(t,e){return t===r?e:t}function E(t,e,i){f(D(e),function(e){t.addEventListener(e,i,!1)})}function I(t,e,i){f(D(e),function(e){t.removeEventListener(e,i,!1)})}function A(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function D(t){return t.trim().split(/\s+/g)}function S(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];S(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function C(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),a=0;a<s.length;){if((n=(i=s[a])?i+o:e)in t)return n;a++}return r}var R=1;function z(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}var N="ontouchstart"in e,P=C(e,"PointerEvent")!==r,M=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),O=25,x=1,X=2,Y=4,F=8,W=1,q=2,L=4,H=8,k=16,U=q|L,G=H|k,V=U|G,j=["x","y"],Z=["clientX","clientY"];function B(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){T(t.options.enable,[t])&&i.handler(e)},this.init()}function J(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&x&&n-s==0,a=e&(Y|F)&&n-s==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=K(e));s>1&&!i.firstMultiple?i.firstMultiple=K(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,h=a?a.center:o.center,l=e.center=Q(n);e.timeStamp=c(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=et(h,l),e.distance=tt(h,l),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==x&&s.eventType!==Y||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=$(e.deltaX,e.deltaY),e.scale=a?(p=a.pointers,f=n,tt(f[0],f[1],Z)/tt(p[0],p[1],Z)):1,e.rotation=a?function(t,e){return et(e[1],e[0],Z)-et(t[1],t[0],Z)}(a.pointers,n):0,function(t,e){var i,n,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=F&&(h>O||a.velocity===r)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,p=function(t,e,i){return{x:e/t||0,y:i/t||0}}(h,c,l);n=p.x,s=p.y,i=u(p.x)>u(p.y)?p.x:p.y,o=$(c,l),t.lastInterval=e}else i=a.velocity,n=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=o}(i,e);var p,f;var d=t.element;A(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function K(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:h(t.pointers[i].clientX),clientY:h(t.pointers[i].clientY)},i++;return{timeStamp:c(),pointers:e,center:Q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Q(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:h(i/e),y:h(n/e)}}function $(t,e){return t===e?W:u(t)>=u(e)?t>0?q:L:e>0?H:k}function tt(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function et(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(z(this.element),this.evWin,this.domHandler)}};var it={mousedown:x,mousemove:X,mouseup:Y},nt="mousedown",rt="mousemove mouseup";function st(){this.evEl=nt,this.evWin=rt,this.allow=!0,this.pressed=!1,B.apply(this,arguments)}m(st,B,{handler:function(t){var e=it[t.type];e&x&&0===t.button&&(this.pressed=!0),e&X&&1!==t.which&&(e=Y),this.pressed&&this.allow&&(e&Y&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ot={pointerdown:x,pointermove:X,pointerup:Y,pointercancel:F,pointerout:F},at={2:"touch",3:"pen",4:"mouse",5:"kinect"},ht="pointerdown",ut="pointermove pointerup pointercancel";function ct(){this.evEl=ht,this.evWin=ut,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&(ht="MSPointerDown",ut="MSPointerMove MSPointerUp MSPointerCancel"),m(ct,B,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=ot[n],s=at[t.pointerType]||t.pointerType,o="touch"==s,a=S(e,t.pointerId,"pointerId");r&x&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(Y|F)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var lt={touchstart:x,touchmove:X,touchend:Y,touchcancel:F},pt="touchstart",ft="touchstart touchmove touchend touchcancel";function dt(){this.evTarget=pt,this.evWin=ft,this.started=!1,B.apply(this,arguments)}m(dt,B,{handler:function(t){var e=lt[t.type];if(e===x&&(this.started=!0),this.started){var i=function(t,e){var i=w(t.touches),n=w(t.changedTouches);e&(Y|F)&&(i=b(i.concat(n),"identifier",!0));return[i,n]}.call(this,t,e);e&(Y|F)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var vt={touchstart:x,touchmove:X,touchend:Y,touchcancel:F},mt="touchstart touchmove touchend touchcancel";function gt(){this.evTarget=mt,this.targetIds={},B.apply(this,arguments)}function Tt(){B.apply(this,arguments);var t=g(this.handler,this);this.touch=new gt(this.manager,t),this.mouse=new st(this.manager,t)}m(gt,B,{handler:function(t){var e=vt[t.type],i=function(t,e){var i=w(t.touches),n=this.targetIds;if(e&(x|X)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=w(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return A(t.target,h)}),e===x)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;r=0;for(;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(Y|F)&&delete n[o[r].identifier],r++;if(!a.length)return;return[b(s.concat(a),"identifier",!0),a]}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),m(Tt,B,{handler:function(t,e,i){var n="touch"==i.pointerType,r="mouse"==i.pointerType;if(n)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Y|F)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var yt=C(o.style,"touchAction"),Et=yt!==r,It="auto",At="manipulation",_t="none",Dt="pan-x",St="pan-y";function wt(t,e){this.manager=t,this.set(e)}wt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Et&&(this.manager.element.style[yt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return f(this.manager.recognizers,function(e){T(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(_(t,_t))return _t;var e=_(t,Dt),i=_(t,St);if(e&&i)return Dt+" "+St;if(e||i)return e?Dt:St;if(_(t,At))return At;return It}(t.join(" "))},preventDefaults:function(t){if(!Et){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=_(n,_t),s=_(n,St),o=_(n,Dt);return r||s&&i&U||o&&i&G?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var bt=1,Ct=2,Rt=4,zt=8,Nt=zt,Pt=16;function Mt(t){this.id=R++,this.manager=null,this.options=v(t||{},this.defaults),this.options.enable=y(this.options.enable,!0),this.state=bt,this.simultaneous={},this.requireFail=[]}function Ot(t){return t==k?"down":t==H?"up":t==q?"left":t==L?"right":""}function xt(t,e){var i=e.manager;return i?i.get(t):t}function Xt(){Mt.apply(this,arguments)}function Yt(){Xt.apply(this,arguments),this.pX=null,this.pY=null}function Ft(){Xt.apply(this,arguments)}function Wt(){Mt.apply(this,arguments),this._timer=null,this._input=null}function qt(){Xt.apply(this,arguments)}function Lt(){Xt.apply(this,arguments)}function Ht(){Mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function kt(t,e){return(e=e||{}).recognizers=y(e.recognizers,kt.defaults.preset),new Ut(t,e)}Mt.prototype={defaults:{},set:function(t){return d(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(p(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=xt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return p(t,"dropRecognizeWith",this)?this:(t=xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(p(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=xt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(p(t,"dropRequireFailure",this))return this;t=xt(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(n){e.manager.emit(e.options.event+(n?function(t){if(t&Pt)return"cancel";if(t&zt)return"end";if(t&Rt)return"move";if(t&Ct)return"start";return""}(i):""),t)}i<zt&&n(!0),n(),i>=zt&&n(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|bt)))return!1;t++}return!0},recognize:function(t){var e=d({},t);if(!T(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Nt|Pt|32)&&(this.state=bt),this.state=this.process(e),this.state&(Ct|Rt|zt|Pt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},m(Xt,Mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(Ct|Rt),r=this.attrTest(t);return n&&(i&F||!r)?e|Pt:n||r?i&Y?e|zt:e&Ct?e|Rt:Ct:32}}),m(Yt,Xt,{defaults:{event:"pan",threshold:10,pointers:1,direction:V},getTouchAction:function(){var t=this.options.direction,e=[];return t&U&&e.push(St),t&G&&e.push(Dt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&U?(r=0===s?W:s<0?q:L,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?W:o<0?H:k,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return Xt.prototype.attrTest.call(this,t)&&(this.state&Ct||!(this.state&Ct)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ot(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),m(Ft,Xt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Ct)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),m(Wt,Mt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[It]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Y|F)&&!r)this.reset();else if(t.eventType&x)this.reset(),this._timer=l(function(){this.state=Nt,this.tryEmit()},e.time,this);else if(t.eventType&Y)return Nt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Nt&&(t&&t.eventType&Y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}),m(qt,Xt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Ct)}}),m(Lt,Xt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:U|G,pointers:1},getTouchAction:function(){return Yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(U|G)?e=t.velocity:i&U?e=t.velocityX:i&G&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&u(e)>this.options.velocity&&t.eventType&Y},emit:function(t){var e=Ot(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),m(Ht,Mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[At]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&x&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=Y)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||tt(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=Nt,this.tryEmit()},e.interval,this),Ct):Nt}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),kt.VERSION="2.0.4",kt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[qt,{enable:!1}],[Ft,{enable:!1},["rotate"]],[Lt,{direction:U}],[Yt,{direction:U},["swipe"]],[Ht],[Ht,{event:"doubletap",taps:2},["tap"]],[Wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ut(t,e){var i;e=e||{},this.options=v(e,kt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new((i=this).options.inputClass||(P?ct:M?gt:N?Tt:st))(i,J),this.touchAction=new wt(this,this.options.touchAction),Gt(this,!0),f(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Gt(t,e){var i=t.element;f(t.options.cssProps,function(t,n){i.style[C(i.style,n)]=e?t:""})}Ut.prototype={set:function(t){return d(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Nt)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(Ct|Rt|zt)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof Mt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(p(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(p(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(S(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return f(D(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return f(D(t),function(t){e?i[t].splice(S(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Gt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},d(kt,{INPUT_START:x,INPUT_MOVE:X,INPUT_END:Y,INPUT_CANCEL:F,STATE_POSSIBLE:bt,STATE_BEGAN:Ct,STATE_CHANGED:Rt,STATE_ENDED:zt,STATE_RECOGNIZED:Nt,STATE_CANCELLED:Pt,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:q,DIRECTION_RIGHT:L,DIRECTION_UP:H,DIRECTION_DOWN:k,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:G,DIRECTION_ALL:V,Manager:Ut,Input:B,TouchAction:wt,TouchInput:gt,MouseInput:st,PointerEventInput:ct,TouchMouseInput:Tt,SingleTouchInput:dt,Recognizer:Mt,AttrRecognizer:Xt,Tap:Ht,Pan:Yt,Swipe:Lt,Pinch:Ft,Rotate:qt,Press:Wt,on:E,off:I,each:f,merge:v,extend:d,inherit:m,bindFn:g,prefixed:C}),typeof t==a&&t.amd?t(function(){return kt}):"undefined"!=typeof module&&module.exports?module.exports=kt:e.Hammer=kt}(window,document);
},{}],"wUQV":[function(require,module,exports) {
"use strict";var e=require("hammerjs"),t=1,n="MarzipanoHammerElementId";function r(e,r){return e[n]||(e[n]=t++),r+e[n]}function s(){this._managers={},this._refCount={}}function a(e,t,n,r){this._manager=t,this._element=n,this._type=r,this._hammerGestures=e,this._eventHandlers=[]}s.prototype.get=function(e,t){var n=r(e,t);return this._managers[n]||(this._managers[n]=this._createManager(e,t),this._refCount[n]=0),this._refCount[n]++,new a(this,this._managers[n],e,t)},s.prototype._createManager=function(t,n){var r=new e.Manager(t);return"mouse"===n?r.add(new e.Pan({direction:e.DIRECTION_ALL,threshold:0})):"touch"!==n&&"pen"!==n&&"kinect"!==n||(r.add(new e.Pan({direction:e.DIRECTION_ALL,threshold:20,pointers:1})),r.add(new e.Pinch)),r},s.prototype._releaseHandle=function(e,t){var n=r(e,t);this._refCount[n]&&(this._refCount[n]--,this._refCount[n]||(this._managers[n].destroy(),delete this._managers[n],delete this._refCount[n]))},a.prototype.on=function(e,t){var n=this._type,r=function(e){n===e.pointerType&&t(e)};this._eventHandlers.push({events:e,handler:r}),this._manager.on(e,r)},a.prototype.release=function(){for(var e=0;e<this._eventHandlers.length;e++){var t=this._eventHandlers[e];this._manager.off(t.events,t.handler)}this._hammerGestures._releaseHandle(this._element,this._type),this._manager=null,this._element=null,this._type=null,this._hammerGestures=null},a.prototype.manager=function(){return this._manager},module.exports=new s;
},{"hammerjs":"K0KY"}],"JgBV":[function(require,module,exports) {
"use strict";function a(a,h,o,M,n){var r=Math.sqrt(Math.pow(h,2)+Math.pow(o,2));t(h,o,a=Math.max(a,r/M),n),n[0]=Math.abs(n[0]),n[1]=Math.abs(n[1])}function t(a,t,h,o){var M=Math.atan(t/a);o[0]=h*Math.cos(M),o[1]=h*Math.sin(M)}module.exports={maxFriction:a,changeVectorNorm:t};
},{}],"pTkP":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./Dynamics"),i=require("./HammerGestures"),s=require("../util/defaults"),n=require("./util").maxFriction,a=require("../util/clearOwnProperties"),h={friction:6,maxFrictionTime:.3,hammerEvent:"pan"},r="undefined"!=typeof MARZIPANODEBUG&&MARZIPANODEBUG.controls;function m(t,n,a){if(this._element=t,this._opts=s(a||{},h),this._startEvent=null,this._lastEvent=null,this._active=!1,this._dynamics={x:new e,y:new e},this._hammer=i.get(t,n),this._hammer.on("hammer.input",this._handleHammerEvent.bind(this)),"pan"!=this._opts.hammerEvent&&"pinch"!=this._opts.hammerEvent)throw new Error(this._opts.hammerEvent+" is not a hammerEvent managed in DragControlMethod");this._hammer.on(this._opts.hammerEvent+"start",this._handleStart.bind(this)),this._hammer.on(this._opts.hammerEvent+"move",this._handleMove.bind(this)),this._hammer.on(this._opts.hammerEvent+"end",this._handleEnd.bind(this)),this._hammer.on(this._opts.hammerEvent+"cancel",this._handleEnd.bind(this))}t(m),m.prototype.destroy=function(){this._hammer.release(),a(this)},m.prototype._handleHammerEvent=function(t){if(t.isFirst){if(r&&this._active)throw new Error("DragControlMethod active detected when already active");this._active=!0,this.emit("active")}if(t.isFinal){if(r&&!this._active)throw new Error("DragControlMethod inactive detected when already inactive");this._active=!1,this.emit("inactive")}},m.prototype._handleStart=function(t){t.preventDefault(),this._startEvent=t},m.prototype._handleMove=function(t){t.preventDefault(),this._startEvent&&(this._updateDynamicsMove(t),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y))},m.prototype._handleEnd=function(t){t.preventDefault(),this._startEvent&&(this._updateDynamicsRelease(t),this.emit("parameterDynamics","axisScaledX",this._dynamics.x),this.emit("parameterDynamics","axisScaledY",this._dynamics.y)),this._startEvent=!1,this._lastEvent=!1},m.prototype._updateDynamicsMove=function(t){var e=t.deltaX,i=t.deltaY,s=this._lastEvent||this._startEvent;s&&(e-=s.deltaX,i-=s.deltaY);var n=this._element.getBoundingClientRect();e/=n.right-n.left,i/=n.bottom-n.top,this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.offset=-e,this._dynamics.y.offset=-i,this._lastEvent=t};var o=[null,null];m.prototype._updateDynamicsRelease=function(t){var e=this._element.getBoundingClientRect(),i=e.right-e.left,s=e.bottom-e.top,a=1e3*t.velocityX/i,h=1e3*t.velocityY/s;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=a,this._dynamics.y.velocity=h,n(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,o),this._dynamics.x.friction=o[0],this._dynamics.y.friction=o[1]},module.exports=m;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","./HammerGestures":"wUQV","../util/defaults":"IcBt","./util":"JgBV","../util/clearOwnProperties":"lrIP"}],"qnVO":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./Dynamics"),i=require("./HammerGestures"),s=require("../util/defaults"),a=require("./util").maxFriction,n=require("../util/clearOwnProperties"),h={speed:8,friction:6,maxFrictionTime:.3};function r(t,a,n){this._element=t,this._opts=s(n||{},h),this._active=!1,this._hammer=i.get(t,a),this._dynamics={x:new e,y:new e},this._hammer.on("panstart",this._handleStart.bind(this)),this._hammer.on("panmove",this._handleMove.bind(this)),this._hammer.on("panend",this._handleRelease.bind(this)),this._hammer.on("pancancel",this._handleRelease.bind(this))}t(r),r.prototype.destroy=function(){this._hammer.release(),n(this)},r.prototype._handleStart=function(t){t.preventDefault(),this._active||(this._active=!0,this.emit("active"))},r.prototype._handleMove=function(t){t.preventDefault(),this._updateDynamics(t,!1)},r.prototype._handleRelease=function(t){t.preventDefault(),this._updateDynamics(t,!0),this._active&&(this._active=!1,this.emit("inactive"))};var m=[null,null];r.prototype._updateDynamics=function(t,e){var i=this._element.getBoundingClientRect(),s=i.right-i.left,n=i.bottom-i.top,h=Math.max(s,n),r=t.deltaX/h*this._opts.speed,o=t.deltaY/h*this._opts.speed;this._dynamics.x.reset(),this._dynamics.y.reset(),this._dynamics.x.velocity=r,this._dynamics.y.velocity=o,e&&(a(this._opts.friction,this._dynamics.x.velocity,this._dynamics.y.velocity,this._opts.maxFrictionTime,m),this._dynamics.x.friction=m[0],this._dynamics.y.friction=m[1]),this.emit("parameterDynamics","x",this._dynamics.x),this.emit("parameterDynamics","y",this._dynamics.y)},module.exports=r;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","./HammerGestures":"wUQV","../util/defaults":"IcBt","./util":"JgBV","../util/clearOwnProperties":"lrIP"}],"W6zF":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),i=require("./Dynamics"),e=require("../util/defaults"),s=require("../util/clearOwnProperties"),n={frictionTime:.2,zoomDelta:.001};function o(t,s){this._element=t,this._opts=e(s||{},n),this._dynamics=new i,this._eventList=[];var o=this._opts.frictionTime?this.withSmoothing:this.withoutSmoothing;this._wheelListener=o.bind(this),t.addEventListener("wheel",this._wheelListener)}function h(t){var i=1==t.deltaMode?20:1;return t.deltaY*i}t(o),o.prototype.destroy=function(){this._element.removeEventListener("wheel",this._wheelListener),s(this)},o.prototype.withoutSmoothing=function(t){this._dynamics.offset=h(t)*this._opts.zoomDelta,this.emit("parameterDynamics","zoom",this._dynamics),t.preventDefault(),this.emit("active"),this.emit("inactive")},o.prototype.withSmoothing=function(t){var i=t.timeStamp;for(this._eventList.push(t);this._eventList[0].timeStamp<i-1e3*this._opts.frictionTime;)this._eventList.shift(0);for(var e=0,s=0;s<this._eventList.length;s++){e+=h(this._eventList[s])*this._opts.zoomDelta/this._opts.frictionTime}this._dynamics.velocity=e,this._dynamics.friction=Math.abs(e)/this._opts.frictionTime,this.emit("parameterDynamics","zoom",this._dynamics),t.preventDefault(),this.emit("active"),this.emit("inactive")},module.exports=o;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","../util/defaults":"IcBt","../util/clearOwnProperties":"lrIP"}],"Zl1s":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),i=require("./Dynamics"),e=require("./HammerGestures"),n=require("../util/clearOwnProperties");function s(t,n,s){this._hammer=e.get(t,n),this._lastEvent=null,this._active=!1,this._dynamics=new i,this._hammer.on("pinchstart",this._handleStart.bind(this)),this._hammer.on("pinch",this._handleEvent.bind(this)),this._hammer.on("pinchend",this._handleEnd.bind(this)),this._hammer.on("pinchcancel",this._handleEnd.bind(this))}t(s),s.prototype.destroy=function(){this._hammer.release(),n(this)},s.prototype._handleStart=function(){this._active||(this._active=!0,this.emit("active"))},s.prototype._handleEnd=function(){this._lastEvent=null,this._active&&(this._active=!1,this.emit("inactive"))},s.prototype._handleEvent=function(t){var i=t.scale;this._lastEvent&&(i/=this._lastEvent.scale),this._dynamics.offset=-1*(i-1),this.emit("parameterDynamics","zoom",this._dynamics),this._lastEvent=t},module.exports=s;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","./HammerGestures":"wUQV","../util/clearOwnProperties":"lrIP"}],"tHhx":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./Dynamics"),i=require("../util/clearOwnProperties");function r(t){if(!t)throw new Error("VelocityControlMethod: parameter must be defined");this._parameter=t,this._dynamics=new e}t(r),r.prototype.destroy=function(){i(this)},r.prototype.setVelocity=function(t){this._dynamics.velocity=t,this.emit("parameterDynamics",this._parameter,this._dynamics)},r.prototype.setFriction=function(t){this._dynamics.friction=t,this.emit("parameterDynamics",this._parameter,this._dynamics)},module.exports=r;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","../util/clearOwnProperties":"lrIP"}],"Kjuf":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./Dynamics"),s=require("../util/clearOwnProperties");function i(e,s,i,r){if(!e)throw new Error("ElementPressControlMethod: element must be defined");if(!s)throw new Error("ElementPressControlMethod: parameter must be defined");if(!i)throw new Error("ElementPressControlMethod: velocity must be defined");if(!r)throw new Error("ElementPressControlMethod: friction must be defined");this._element=e,this._pressHandler=this._handlePress.bind(this),this._releaseHandler=this._handleRelease.bind(this),e.addEventListener("mousedown",this._pressHandler),e.addEventListener("mouseup",this._releaseHandler),e.addEventListener("mouseleave",this._releaseHandler),e.addEventListener("touchstart",this._pressHandler),e.addEventListener("touchmove",this._releaseHandler),e.addEventListener("touchend",this._releaseHandler),this._parameter=s,this._velocity=i,this._friction=r,this._dynamics=new t,this._pressing=!1}e(i),i.prototype.destroy=function(){this._element.removeEventListener("mousedown",this._pressHandler),this._element.removeEventListener("mouseup",this._releaseHandler),this._element.removeEventListener("mouseleave",this._releaseHandler),this._element.removeEventListener("touchstart",this._pressHandler),this._element.removeEventListener("touchmove",this._releaseHandler),this._element.removeEventListener("touchend",this._releaseHandler),s(this)},i.prototype._handlePress=function(){this._pressing=!0,this._dynamics.velocity=this._velocity,this._dynamics.friction=0,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("active")},i.prototype._handleRelease=function(){this._pressing&&(this._dynamics.friction=this._friction,this.emit("parameterDynamics",this._parameter,this._dynamics),this.emit("inactive")),this._pressing=!1},module.exports=i;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","../util/clearOwnProperties":"lrIP"}],"M1N0":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./Dynamics"),s=require("../util/now"),i=require("../util/clearOwnProperties");function r(t){t=t||{},this._methods=[],this._parameters=["x","y","axisScaledX","axisScaledY","zoom","yaw","pitch","roll"],this._now=t.nowForTesting||s,this._composedOffsets={},this._composeReturn={offsets:this._composedOffsets,changing:null}}t(r),r.prototype.add=function(t){if(!this.has(t)){var s={};this._parameters.forEach(function(t){s[t]={dynamics:new e,time:null}});var i=this._updateDynamics.bind(this,s),r={instance:t,dynamics:s,parameterDynamicsHandler:i};t.addEventListener("parameterDynamics",i),this._methods.push(r)}},r.prototype.remove=function(t){var e=this._indexOfInstance(t);if(e>=0){var s=this._methods.splice(e,1)[0];s.instance.removeEventListener("parameterDynamics",s.parameterDynamicsHandler)}},r.prototype.has=function(t){return this._indexOfInstance(t)>=0},r.prototype._indexOfInstance=function(t){for(var e=0;e<this._methods.length;e++)if(this._methods[e].instance===t)return e;return-1},r.prototype.list=function(){for(var t=[],e=0;e<this._methods.length;e++)t.push(this._methods[e].instance);return t},r.prototype._updateDynamics=function(t,e,s){var i=t[e];if(!i)throw new Error("Unknown control parameter "+e);var r=this._now();i.dynamics.update(s,(r-i.time)/1e3),i.time=r,this.emit("change")},r.prototype._resetComposedOffsets=function(){for(var t=0;t<this._parameters.length;t++)this._composedOffsets[this._parameters[t]]=0},r.prototype.offsets=function(){var t,e=!1,s=this._now();this._resetComposedOffsets();for(var i=0;i<this._methods.length;i++)for(var r=this._methods[i].dynamics,n=0;n<this._parameters.length;n++){var o=r[t=this._parameters[n]],a=o.dynamics;null!=a.offset&&(this._composedOffsets[t]+=a.offset,a.offset=null);var h=(s-o.time)/1e3,m=a.offsetFromVelocity(h);m&&(this._composedOffsets[t]+=m);var c=a.velocityAfter(h);a.velocity=c,c&&(e=!0),o.time=s}return this._composeReturn.changing=e,this._composeReturn},r.prototype.destroy=function(){for(var t=this.list(),e=0;e<t.length;e++)this.remove(t[e]);i(this)},module.exports=r;
},{"minimal-event-emitter":"lNC2","./Dynamics":"CzyW","../util/now":"fllL","../util/clearOwnProperties":"lrIP"}],"aEXo":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./Composer"),o=require("../util/clearOwnProperties"),i="undefined"!=typeof MARZIPANODEBUG&&MARZIPANODEBUG.controls;function n(e){e=e||{},this._methods={},this._methodGroups={},this._composer=new t,this._enabled=!e||!e.enabled||!!e.enabled,this._activeCount=0,this.updatedViews_=[],this._attachedRenderLoop=null}e(n),n.prototype.destroy=function(){this.detach(),this._composer.destroy(),o(this)},n.prototype.methods=function(){var e={};for(var t in this._methods)e[t]=this._methods[t];return e},n.prototype.method=function(e){return this._methods[e]},n.prototype.registerMethod=function(e,t,o){if(this._methods[e])throw new Error("Control method already registered with id "+e);this._methods[e]={instance:t,enabled:!1,active:!1,activeHandler:this._handleActive.bind(this,e),inactiveHandler:this._handleInactive.bind(this,e)},o&&this.enableMethod(e,t)},n.prototype.unregisterMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&this.disableMethod(e),delete this._methods[e]},n.prototype.enableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled||(t.enabled=!0,t.active&&this._incrementActiveCount(),this._listen(e),this._updateComposer(),this.emit("methodEnabled",e))},n.prototype.disableMethod=function(e){var t=this._methods[e];if(!t)throw new Error("No control method registered with id "+e);t.enabled&&(t.enabled=!1,t.active&&this._decrementActiveCount(),this._unlisten(e),this._updateComposer(),this.emit("methodDisabled",e))},n.prototype.addMethodGroup=function(e,t){this._methodGroups[e]=t},n.prototype.removeMethodGroup=function(e){delete this._methodGroups[e]},n.prototype.methodGroups=function(){var e={};for(var t in this._methodGroups)e[t]=this._methodGroups[t];return e},n.prototype.enableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(e){t.enableMethod(e)})},n.prototype.disableMethodGroup=function(e){var t=this;t._methodGroups[e].forEach(function(e){t.disableMethod(e)})},n.prototype.enabled=function(){return this._enabled},n.prototype.enable=function(){this._enabled||(this._enabled=!0,this._activeCount>0&&this.emit("active"),this.emit("enabled"),this._updateComposer())},n.prototype.disable=function(){this._enabled&&(this._enabled=!1,this._activeCount>0&&this.emit("inactive"),this.emit("disabled"),this._updateComposer())},n.prototype.attach=function(e){this._attachedRenderLoop&&this.detach(),this._attachedRenderLoop=e,this._beforeRenderHandler=this._updateViewsWithControls.bind(this),this._changeHandler=e.renderOnNextFrame.bind(e),this._attachedRenderLoop.addEventListener("beforeRender",this._beforeRenderHandler),this._composer.addEventListener("change",this._changeHandler)},n.prototype.detach=function(){this._attachedRenderLoop&&(this._attachedRenderLoop.removeEventListener("beforeRender",this._beforeRenderHandler),this._composer.removeEventListener("change",this._changeHandler),this._beforeRenderHandler=null,this._changeHandler=null,this._attachedRenderLoop=null)},n.prototype.attached=function(){return null!=this._attachedRenderLoop},n.prototype._listen=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.addEventListener("active",t.activeHandler),t.instance.addEventListener("inactive",t.inactiveHandler)},n.prototype._unlisten=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");t.instance.removeEventListener("active",t.activeHandler),t.instance.removeEventListener("inactive",t.inactiveHandler)},n.prototype._handleActive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active||(t.active=!0,this._incrementActiveCount())},n.prototype._handleInactive=function(e){var t=this._methods[e];if(!t)throw new Error("Bad method id");if(!t.enabled)throw new Error("Should not receive event from disabled control method");t.active&&(t.active=!1,this._decrementActiveCount())},n.prototype._incrementActiveCount=function(){this._activeCount++,i&&this._checkActiveCount(),this._enabled&&1===this._activeCount&&this.emit("active")},n.prototype._decrementActiveCount=function(){this._activeCount--,i&&this._checkActiveCount(),this._enabled&&0===this._activeCount&&this.emit("inactive")},n.prototype._checkActiveCount=function(){var e=0;for(var t in this._methods){var o=this._methods[t];o.enabled&&o.active&&e++}if(e!=this._activeCount)throw new Error("Bad control state")},n.prototype._updateComposer=function(){var e=this._composer;for(var t in this._methods){var o=this._methods[t],i=this._enabled&&o.enabled;i&&!e.has(o.instance)&&e.add(o.instance),!i&&e.has(o.instance)&&e.remove(o.instance)}},n.prototype._updateViewsWithControls=function(){var e=this._composer.offsets();e.changing&&this._attachedRenderLoop.renderOnNextFrame(),this.updatedViews_.length=0;for(var t=this._attachedRenderLoop.stage().listLayers(),o=0;o<t.length;o++){var i=t[o].view();this.updatedViews_.indexOf(i)<0&&(t[o].view().updateWithControlParameters(e.offsets),this.updatedViews_.push(i))}},module.exports=n;
},{"minimal-event-emitter":"lNC2","./Composer":"M1N0","../util/clearOwnProperties":"lrIP"}],"AA1V":[function(require,module,exports) {
"use strict";var r=require("./dom").setTransform,e=require("./decimal");function t(t,a,s,n){n=n||"";var i="translateX("+e(a)+"px) translateY("+e(s)+"px) translateZ(0) "+n;r(t,i)}module.exports=t;
},{"./dom":"Dw5L","./decimal":"NsFD"}],"wXOZ":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./util/positionAbsolutely"),i=require("./util/dom").setTransform,s=require("./util/clearOwnProperties");function o(t,e,i,s,o){(o=o||{}).perspective=o.perspective||{},o.perspective.extraTransforms=null!=o.perspective.extraTransforms?o.perspective.extraTransforms:"",this._domElement=t,this._parentDomElement=e,this._view=i,this._coords={},this._perspective={},this.setPosition(s),this._parentDomElement.appendChild(this._domElement),this.setPerspective(o.perspective),this._visible=!0,this._position={x:0,y:0}}t(o),o.prototype.destroy=function(){this._parentDomElement.removeChild(this._domElement),s(this)},o.prototype.domElement=function(){return this._domElement},o.prototype.position=function(){return this._coords},o.prototype.setPosition=function(t){for(var e in t)this._coords[e]=t[e];this._update()},o.prototype.perspective=function(){return this._perspective},o.prototype.setPerspective=function(t){for(var e in t)this._perspective[e]=t[e];this._update()},o.prototype.show=function(){this._visible||(this._visible=!0,this._update())},o.prototype.hide=function(){this._visible&&(this._visible=!1,this._update())},o.prototype._update=function(){var t,e,i=this._domElement,s=this._coords,o=this._position,r=!1;if(this._visible){var n=this._view;this._perspective.radius?(r=!0,this._setEmbeddedPosition(n,s)):(n.coordinatesToScreen(s,o),t=o.x,e=o.y,null!=t&&null!=e&&(r=!0,this._setPosition(t,e)))}r?(i.style.display="block",i.style.position="absolute"):(i.style.display="none",i.style.position="")},o.prototype._setEmbeddedPosition=function(t,e){var s=t.coordinatesToPerspectiveTransform(e,this._perspective.radius,this._perspective.extraTransforms);i(this._domElement,s)},o.prototype._setPosition=function(t,i){e(this._domElement,t,i,this._perspective.extraTransforms)},module.exports=o;
},{"minimal-event-emitter":"lNC2","./util/positionAbsolutely":"AA1V","./util/dom":"Dw5L","./util/clearOwnProperties":"lrIP"}],"pIYi":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),e=require("./Hotspot"),i=require("./util/calcRect"),s=require("./util/positionAbsolutely"),o=require("./util/dom").setAbsolute,r=require("./util/dom").setOverflowHidden,h=require("./util/dom").setOverflowVisible,n=require("./util/dom").setNullSize,p=require("./util/dom").setPixelSize,a=require("./util/dom").setWithVendorPrefix("pointer-events"),_=require("./util/clearOwnProperties");function d(t,e,i,s,r){r=r||{},this._parentDomElement=t,this._stage=e,this._view=i,this._renderLoop=s,this._hotspots=[],this._visible=!0,this._rect=r.rect,this._visibilityOrRectChanged=!0,this._stageWidth=null,this._stageHeight=null,this._tmpRect={},this._hotspotContainerWrapper=document.createElement("div"),o(this._hotspotContainerWrapper),a(this._hotspotContainerWrapper,"none"),this._parentDomElement.appendChild(this._hotspotContainerWrapper),this._hotspotContainer=document.createElement("div"),o(this._hotspotContainer),a(this._hotspotContainer,"all"),this._hotspotContainerWrapper.appendChild(this._hotspotContainer),this._updateHandler=this._update.bind(this),this._renderLoop.addEventListener("afterRender",this._updateHandler)}t(d),d.prototype.destroy=function(){for(;this._hotspots.length;)this.destroyHotspot(this._hotspots[0]);this._parentDomElement.removeChild(this._hotspotContainerWrapper),this._renderLoop.removeEventListener("afterRender",this._updateHandler),_(this)},d.prototype.domElement=function(){return this._hotspotContainer},d.prototype.setRect=function(t){this._rect=t,this._visibilityOrRectChanged=!0},d.prototype.rect=function(){return this._rect},d.prototype.createHotspot=function(t,i,s){i=i||{};var o=new e(t,this._hotspotContainer,this._view,i,s);return this._hotspots.push(o),o._update(),this.emit("hotspotsChange"),o},d.prototype.hasHotspot=function(t){return this._hotspots.indexOf(t)>=0},d.prototype.listHotspots=function(){return[].concat(this._hotspots)},d.prototype.destroyHotspot=function(t){var e=this._hotspots.indexOf(t);if(e<0)throw new Error("No such hotspot");this._hotspots.splice(e,1),t.destroy(),this.emit("hotspotsChange")},d.prototype.hide=function(){this._visible&&(this._visible=!1,this._visibilityOrRectChanged=!0,this._update())},d.prototype.show=function(){this._visible||(this._visible=!0,this._visibilityOrRectChanged=!0,this._update())},d.prototype._update=function(){var t=this._hotspotContainerWrapper,e=this._stage.width(),o=this._stage.height(),a=this._tmpRect;if(this._visibilityOrRectChanged||this._rect&&(e!==this._stageWidth||o!==this._stageHeight)){var _=this._visible;t.style.display=_?"block":"none",_&&(this._rect?(i(e,o,this._rect,a),s(t,e*a.x,o*a.y),p(t,e*a.width,o*a.height),r(t)):(s(t,0,0),n(t),h(t))),this._stageWidth=e,this._stageHeight=o,this._visibilityOrRectChanged=!1}for(var d=0;d<this._hotspots.length;d++)this._hotspots[d]._update()},module.exports=d;
},{"minimal-event-emitter":"lNC2","./Hotspot":"wXOZ","./util/calcRect":"kJmJ","./util/positionAbsolutely":"AA1V","./util/dom":"Dw5L","./util/clearOwnProperties":"lrIP"}],"dm4L":[function(require,module,exports) {
"use strict";var e=require("./Layer"),t=require("./TextureStore"),r=require("./HotspotContainer"),n=require("minimal-event-emitter"),i=require("./util/now"),o=require("./util/noop"),s=require("./util/type"),a=require("./util/defaults"),h=require("./util/clearOwnProperties");function l(e,t){this._viewer=e,this._view=t,this._layers=[],this._hotspotContainer=new r(e._controlContainer,e.stage(),this._view,e.renderLoop()),this._movement=null,this._movementStartTime=null,this._movementStep=null,this._movementParams=null,this._movementCallback=null,this._updateMovementHandler=this._updateMovement.bind(this),this._updateHotspotContainerHandler=this._updateHotspotContainer.bind(this),this._viewer.addEventListener("sceneChange",this._updateHotspotContainerHandler),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._view.addEventListener("change",this._viewChangeHandler),this._updateHotspotContainer()}n(l),l.prototype.destroy=function(){this._view.removeEventListener("change",this._viewChangeHandler),this._viewer.removeEventListener("sceneChange",this._updateHotspotContainerHandler),this._movement&&this.stopMovement(),this._hotspotContainer.destroy(),this.destroyAllLayers(),h(this)},l.prototype.hotspotContainer=function(){return this._hotspotContainer},l.prototype.layer=function(){return this._layers[0]},l.prototype.listLayers=function(){return[].concat(this._layers)},l.prototype.view=function(){return this._view},l.prototype.viewer=function(){return this._viewer},l.prototype.visible=function(){return this._viewer.scene()===this},l.prototype.createLayer=function(r){var n=(r=r||{}).textureStoreOpts||{},i=r.layerOpts||{},o=r.source,s=r.geometry,a=this._view,h=this._viewer.stage(),l=new t(o,h,n),u=new e(o,s,a,l,i);return this._layers.push(u),r.pinFirstLevel&&u.pinFirstLevel(),this.emit("layerChange"),u},l.prototype.destroyLayer=function(e){var t=this._layers.indexOf(e);if(t<0)throw new Error("No such layer in scene");this._layers.splice(t,1),this.emit("layerChange"),e.textureStore().destroy(),e.destroy()},l.prototype.destroyAllLayers=function(){for(;this._layers.length>0;)this.destroyLayer(this._layers[0])},l.prototype.switchTo=function(e,t){return this._viewer.switchScene(this,e,t)},l.prototype.lookTo=function(e,t,r){var n=this;if(t=t||{},r=r||o,"object"!==s(e))throw new Error("Target view parameters must be an object");var i=null!=t.ease?t.ease:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},h=null!=t.controlsInterrupt&&t.controlsInterrupt,l=null!=t.transitionDuration?t.transitionDuration:1e3,u=null==t.shortest||t.shortest,v=this._view,m=v.parameters(),p={};a(p,e),a(p,m),u&&v.normalizeToClosest&&v.normalizeToClosest(p,p);var _=this._viewer.controls().enabled();h||this._viewer.controls().disable(),this.startMovement(function(){var e=!1;return function(t,r){if(r>=l&&e)return null;var n=Math.min(r/l,1);for(var o in t){var s=m[o],a=p[o];t[o]=s+i(n)*(a-s)}return e=r>=l,t}},function(){_&&n._viewer.controls().enable(),r()})},l.prototype.startMovement=function(e,t){var r=this._viewer.renderLoop();this._movement&&this.stopMovement();var n=e();if("function"!=typeof n)throw new Error("Bad movement");this._movement=e,this._movementStep=n,this._movementStartTime=i(),this._movementParams={},this._movementCallback=t,r.addEventListener("beforeRender",this._updateMovementHandler),r.renderOnNextFrame()},l.prototype.stopMovement=function(){var e=this._movementCallback,t=this._viewer.renderLoop();this._movement&&(this._movement=null,this._movementStep=null,this._movementStartTime=null,this._movementParams=null,this._movementCallback=null,t.removeEventListener("beforeRender",this._updateMovementHandler),e&&e())},l.prototype.movement=function(){return this._movement},l.prototype._updateMovement=function(){if(!this._movement)throw new Error("Should not call update");var e=this._viewer.renderLoop(),t=this._view,r=i()-this._movementStartTime,n=this._movementStep,o=this._movementParams;null==(o=n(o=t.parameters(o),r))?this.stopMovement():(t.setParameters(o),e.renderOnNextFrame())},l.prototype._updateHotspotContainer=function(){this.visible()?this._hotspotContainer.show():this._hotspotContainer.hide()},module.exports=l;
},{"./Layer":"mzUT","./TextureStore":"oEpT","./HotspotContainer":"pIYi","minimal-event-emitter":"lNC2","./util/now":"fllL","./util/noop":"Sw6I","./util/type":"HgvH","./util/defaults":"IcBt","./util/clearOwnProperties":"lrIP"}],"eKy6":[function(require,module,exports) {
"use strict";var t=require("minimal-event-emitter"),i=require("./util/defaults"),e=require("./util/now"),n={duration:1/0};function s(t){t=i(t||{},n),this._duration=t.duration,this._startTime=null,this._handle=null,this._check=this._check.bind(this)}t(s),s.prototype.start=function(){this._startTime=e(),null==this._handle&&this._duration<1/0&&this._setup(this._duration)},s.prototype.started=function(){return null!=this._startTime},s.prototype.stop=function(){this._startTime=null,null!=this._handle&&(clearTimeout(this._handle),this._handle=null)},s.prototype._setup=function(t){this._handle=setTimeout(this._check,t)},s.prototype._teardown=function(){clearTimeout(this._handle),this._handle=null},s.prototype._check=function(){var t=e()-this._startTime,i=this._duration-t;this._teardown(),i<=0?(this.emit("timeout"),this._startTime=null):i<1/0&&this._setup(i)},s.prototype.duration=function(){return this._duration},s.prototype.setDuration=function(t){this._duration=t,null!=this._startTime&&this._check()},module.exports=s;
},{"minimal-event-emitter":"lNC2","./util/defaults":"IcBt","./util/now":"fllL"}],"lTz2":[function(require,module,exports) {
"use strict";var t=require("../util/defaults"),e=require("../util/clearOwnProperties"),s={active:"move",inactive:"default",disabled:"default"};function i(e,i,n,r){r=t(r||{},s),this._element=n,this._controls=e,this._id=i,this._attached=!1,this._setActiveCursor=this._setCursor.bind(this,r.active),this._setInactiveCursor=this._setCursor.bind(this,r.inactive),this._setDisabledCursor=this._setCursor.bind(this,r.disabled),this._setOriginalCursor=this._setCursor.bind(this,this._element.style.cursor),this._updateAttachmentHandler=this._updateAttachment.bind(this),e.addEventListener("methodEnabled",this._updateAttachmentHandler),e.addEventListener("methodDisabled",this._updateAttachmentHandler),e.addEventListener("enabled",this._updateAttachmentHandler),e.addEventListener("disabled",this._updateAttachmentHandler),this._updateAttachment()}i.prototype.destroy=function(){this._detachFromControlMethod(this._controls.method(this._id)),this._setOriginalCursor(),this._controls.removeEventListener("methodEnabled",this._updateAttachmentHandler),this._controls.removeEventListener("methodDisabled",this._updateAttachmentHandler),this._controls.removeEventListener("enabled",this._updateAttachmentHandler),this._controls.removeEventListener("disabled",this._updateAttachmentHandler),e(this)},i.prototype._updateAttachment=function(){var t=this._controls,e=this._id;t.enabled()&&t.method(e).enabled?this._attachToControlMethod(t.method(e)):this._detachFromControlMethod(t.method(e))},i.prototype._attachToControlMethod=function(t){this._attached||(t.instance.addEventListener("active",this._setActiveCursor),t.instance.addEventListener("inactive",this._setInactiveCursor),t.active?this._setActiveCursor():this._setInactiveCursor(),this._attached=!0)},i.prototype._detachFromControlMethod=function(t){this._attached&&(t.instance.removeEventListener("active",this._setActiveCursor),t.instance.removeEventListener("inactive",this._setInactiveCursor),this._setDisabledCursor(),this._attached=!1)},i.prototype._setCursor=function(t){this._element.style.cursor=t},module.exports=i;
},{"../util/defaults":"IcBt","../util/clearOwnProperties":"lrIP"}],"yz0j":[function(require,module,exports) {
"use strict";var e=require("../util/defaults"),r=require("./Drag"),o=require("./Qtvr"),w=require("./ScrollZoom"),n=require("./PinchZoom"),u=require("./Key"),s={mouseViewMode:"drag",dragMode:"pan"};function a(a,i,y){y=e(y||{},s);var t={mouseViewDrag:new r(i,"mouse"),mouseViewQtvr:new o(i,"mouse"),leftArrowKey:new u(37,"x",-.7,3),rightArrowKey:new u(39,"x",.7,3),upArrowKey:new u(38,"y",-.7,3),downArrowKey:new u(40,"y",.7,3),plusKey:new u(107,"zoom",-.7,3),minusKey:new u(109,"zoom",.7,3),wKey:new u(87,"y",-.7,3),aKey:new u(65,"x",-.7,3),sKey:new u(83,"y",.7,3),dKey:new u(68,"x",.7,3),qKey:new u(81,"roll",.7,3),eKey:new u(69,"roll",-.7,3)},d=["scrollZoom","touchView","pinch"];!1!==y.scrollZoom&&(t.scrollZoom=new w(i));var K={arrowKeys:["leftArrowKey","rightArrowKey","upArrowKey","downArrowKey"],plusMinusKeys:["plusKey","minusKey"],wasdKeys:["wKey","aKey","sKey","dKey"],qeKeys:["qKey","eKey"]};switch(y.dragMode){case"pinch":t.pinch=new r(i,"touch",{hammerEvent:"pinch"});break;case"pan":t.touchView=new r(i,"touch"),t.pinch=new n(i,"touch");break;default:throw new Error("Unknown drag mode: "+y.dragMode)}switch(y.mouseViewMode){case"drag":d.push("mouseViewDrag");break;case"qtvr":d.push("mouseViewQtvr");break;default:throw new Error("Unknown mouse view mode: "+y.mouseViewMode)}for(var m in t){var c=t[m];a.registerMethod(m,c),d.indexOf(m)>=0&&a.enableMethod(m)}for(var h in K){var l=K[h];a.addMethodGroup(h,l)}return t}module.exports=a;
},{"../util/defaults":"IcBt","./Drag":"pTkP","./Qtvr":"qnVO","./ScrollZoom":"W6zF","./PinchZoom":"Zl1s","./Key":"x80R"}],"TMDN":[function(require,module,exports) {
"use strict";var n=require("./now");function r(r,e,t){var i=!1,u=n();return e(0),requestAnimationFrame(function a(){if(!i){var o=(n()-u)/r;o<1?(e(o),requestAnimationFrame(a)):(e(1),t())}}),function(){i=!0,t.apply(null,arguments)}}module.exports=r;
},{"./now":"fllL"}],"KTop":[function(require,module,exports) {
"use strict";var e=require("minimal-event-emitter"),t=require("./RenderLoop"),r=require("./controls/Controls"),n=require("./Scene"),i=require("./Timer"),s=require("./stages/WebGl"),o=require("./controls/ControlCursor"),h=require("./controls/HammerGestures"),a=require("./controls/registerDefaultControls"),c=require("./renderers/registerDefaultRenderers"),l=require("./util/dom").setOverflowHidden,d=require("./util/dom").setAbsolute,u=require("./util/dom").setFullSize,_=require("./util/tween"),p=require("./util/noop"),m=require("./util/clearOwnProperties");function v(e,n){n=n||{},this._domElement=e,l(e),this._stage=new s(n.stage),c(this._stage),this._domElement.appendChild(this._stage.domElement()),this._controlContainer=document.createElement("div"),d(this._controlContainer),u(this._controlContainer),e.appendChild(this._controlContainer),this._size={},this.updateSize(),this._updateSizeListener=this.updateSize.bind(this),window.addEventListener("resize",this._updateSizeListener),this._renderLoop=new t(this._stage),this._controls=new r,this._controlMethods=a(this._controls,this._controlContainer,n.controls),this._controls.attach(this._renderLoop),this._hammerManagerTouch=h.get(this._controlContainer,"touch"),this._hammerManagerMouse=h.get(this._controlContainer,"mouse"),this._dragCursor=new o(this._controls,"mouseViewDrag",e,n.cursors&&n.cursors.drag||{}),this._renderLoop.start(),this._scenes=[],this._currentScene=null,this._replacedScene=null,this._cancelCurrentTween=null,this._layerChangeHandler=this._updateSceneLayers.bind(this),this._viewChangeHandler=this.emit.bind(this,"viewChange"),this._idleTimer=new i,this._idleTimer.start(),this._resetIdleTimerHandler=this._resetIdleTimer.bind(this),this.addEventListener("viewChange",this._resetIdleTimerHandler),this._triggerIdleTimerHandler=this._triggerIdleTimer.bind(this),this._idleTimer.addEventListener("timeout",this._triggerIdleTimerHandler),this._stopMovementHandler=this.stopMovement.bind(this),this._controls.addEventListener("active",this._stopMovementHandler),this.addEventListener("sceneChange",this._stopMovementHandler),this._idleMovement=null}e(v),v.prototype.destroy=function(){for(var e in window.removeEventListener("resize",this._updateSizeListener),this._currentScene&&this._removeSceneEventListeners(this._currentScene),this._replacedScene&&this._removeSceneEventListeners(this._replacedScene),this._dragCursor.destroy(),this._controlMethods)this._controlMethods[e].destroy();for(;this._scenes.length;)this.destroyScene(this._scenes[0]);this._domElement.removeChild(this._stage.domElement()),this._stage.destroy(),this._renderLoop.destroy(),this._controls.destroy(),this._controls=null,this._cancelCurrentTween&&this._cancelCurrentTween(),m(this)},v.prototype.updateSize=function(){var e=this._size;e.width=this._domElement.clientWidth,e.height=this._domElement.clientHeight,this._stage.setSize(e)},v.prototype.stage=function(){return this._stage},v.prototype.renderLoop=function(){return this._renderLoop},v.prototype.controls=function(){return this._controls},v.prototype.domElement=function(){return this._domElement},v.prototype.createScene=function(e){e=e||{};var t=this.createEmptyScene({view:e.view});return t.createLayer({source:e.source,geometry:e.geometry,pinFirstLevel:e.pinFirstLevel,textureStoreOpts:e.textureStoreOpts,layerOpts:e.layerOpts}),t},v.prototype.createEmptyScene=function(e){var t=new n(this,(e=e||{}).view);return this._scenes.push(t),t},v.prototype._updateSceneLayers=function(){var e,t,r=this._stage,n=this._currentScene,i=this._replacedScene,s=r.listLayers(),o=[];if(i&&(o=o.concat(i.listLayers())),n&&(o=o.concat(n.listLayers())),1!==Math.abs(s.length-o.length))throw new Error("Stage and scene out of sync");if(o.length<s.length)for(e=0;e<s.length;e++)if(t=s[e],o.indexOf(t)<0){this._removeLayerFromStage(t);break}if(o.length>s.length)for(e=0;e<o.length;e++)t=o[e],s.indexOf(t)<0&&this._addLayerToStage(t,e)},v.prototype._addLayerToStage=function(e,t){e.pinFirstLevel(),this._stage.addLayer(e,t)},v.prototype._removeLayerFromStage=function(e){this._stage.removeLayer(e),e.unpinFirstLevel(),e.textureStore().clearNotPinned()},v.prototype._addSceneEventListeners=function(e){e.addEventListener("layerChange",this._layerChangeHandler),e.addEventListener("viewChange",this._viewChangeHandler)},v.prototype._removeSceneEventListeners=function(e){e.removeEventListener("layerChange",this._layerChangeHandler),e.removeEventListener("viewChange",this._viewChangeHandler)},v.prototype.destroyScene=function(e){var t,r,n=this._scenes.indexOf(e);if(n<0)throw new Error("No such scene in viewer");if(this._currentScene===e){for(this._removeSceneEventListeners(e),r=e.listLayers(),t=0;t<r.length;t++)this._removeLayerFromStage(r[t]);this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null),this._currentScene=null,this.emit("sceneChange")}if(this._replacedScene===e){for(this._removeSceneEventListeners(e),r=e.listLayers(),t=0;t<r.length;t++)this._removeLayerFromStage(r[t]);this._replacedScene=null}this._scenes.splice(n,1),e.destroy()},v.prototype.destroyAllScenes=function(){for(;this._scenes.length>0;)this.destroyScene(this._scenes[0])},v.prototype.hasScene=function(e){return this._scenes.indexOf(e)>=0},v.prototype.listScenes=function(){return[].concat(this._scenes)},v.prototype.scene=function(){return this._currentScene},v.prototype.view=function(){var e=this._currentScene;return e?e.view():null},v.prototype.lookTo=function(e,t,r){var n=this._currentScene;n&&n.lookTo(e,t,r)},v.prototype.startMovement=function(e,t){var r=this._currentScene;r&&r.startMovement(e,t)},v.prototype.stopMovement=function(){var e=this._currentScene;e&&e.stopMovement()},v.prototype.movement=function(){var e=this._currentScene;if(e)return e.movement()},v.prototype.setIdleMovement=function(e,t){this._idleTimer.setDuration(e),this._idleMovement=t},v.prototype.breakIdleMovement=function(){this.stopMovement(),this._resetIdleTimer()},v.prototype._resetIdleTimer=function(){this._idleTimer.start()},v.prototype._triggerIdleTimer=function(){var e=this._idleMovement;e&&this.startMovement(e)};var g=1e3;function y(e,t,r){t.listLayers().forEach(function(t){t.mergeEffects({opacity:e})}),t._hotspotContainer.domElement().style.opacity=e}v.prototype.switchScene=function(e,t,r){var n=this;t=t||{},r=r||p;var i=this._stage,s=this._currentScene;if(s!==e){if(this._scenes.indexOf(e)<0)throw new Error("No such scene in viewer");this._cancelCurrentTween&&(this._cancelCurrentTween(),this._cancelCurrentTween=null);var o=s?s.listLayers():[],h=e.listLayers(),a=i.listLayers();if(s&&(a.length!==o.length||a.length>1&&a[0]!=o[0]))throw new Error("Stage not in sync with viewer");for(var c=null!=t.transitionDuration?t.transitionDuration:g,l=null!=t.transitionUpdate?t.transitionUpdate:y,d=0;d<h.length;d++)this._addLayerToStage(h[d]);this._cancelCurrentTween=_(c,function(t){l(t,e,s)},function(){if(n._replacedScene){n._removeSceneEventListeners(n._replacedScene),o=n._replacedScene.listLayers();for(var e=0;e<o.length;e++)n._removeLayerFromStage(o[e]);n._replacedScene=null}n._cancelCurrentTween=null,r()}),this._currentScene=e,this._replacedScene=s,this.emit("sceneChange"),this.emit("viewChange"),this._addSceneEventListeners(e)}else r()},module.exports=v;
},{"minimal-event-emitter":"lNC2","./RenderLoop":"M9KN","./controls/Controls":"aEXo","./Scene":"dm4L","./Timer":"eKy6","./stages/WebGl":"bnPS","./controls/ControlCursor":"lTz2","./controls/HammerGestures":"wUQV","./controls/registerDefaultControls":"yz0j","./renderers/registerDefaultRenderers":"BE7j","./util/dom":"Dw5L","./util/tween":"TMDN","./util/noop":"Sw6I","./util/clearOwnProperties":"lrIP"}],"ivfL":[function(require,module,exports) {
"use strict";var r=require("gl-matrix").vec4,t=require("gl-matrix").mat4;function e(e){var a=e||{};return a.colorOffset=a.colorOffset||r.create(),a.colorMatrix=a.colorMatrix||t.create(),a}function a(t,e,a){o(a,t,e.colorMatrix),r.add(a,a,e.colorOffset)}function o(r,t,e){var a=t[0],o=t[1],i=t[2],c=t[3];return r[0]=e[0]*a+e[1]*o+e[2]*i+e[3]*c,r[1]=e[4]*a+e[5]*o+e[6]*i+e[7]*c,r[2]=e[8]*a+e[9]*o+e[10]*i+e[11]*c,r[3]=e[12]*a+e[13]*o+e[14]*i+e[15]*c,r}var i=r.create();function c(t,e){for(var o=t.width,c=t.height,l=t.data,f=0;f<o*c;f++)r.set(i,l[4*f+0]/255,l[4*f+1]/255,l[4*f+2]/255,l[4*f+3]/255),a(i,e,i),l[4*f+0]=255*i[0],l[4*f+1]=255*i[1],l[4*f+2]=255*i[2],l[4*f+3]=255*i[3]}module.exports={identity:e,applyToPixel:a,applyToImageData:c};
},{"gl-matrix":"IF0X"}],"Td3y":[function(require,module,exports) {
"use strict";var t=require("./util/defaults"),a=.1,e=.01,c={yawSpeed:a,pitchSpeed:a,fovSpeed:a,yawAccel:e,pitchAccel:e,fovAccel:e,targetPitch:0,targetFov:null};function i(a){var e=(a=t(a||{},c)).yawSpeed,i=a.pitchSpeed,h=a.fovSpeed,o=a.yawAccel,p=a.pitchAccel,r=a.fovAccel,v=a.targetPitch,f=a.targetFov;return function(){var t,a,c,n,l=0,u=0,M=0,m=0,d=0,s=0,w=0;return function(y,A){if(t=(A-l)/1e3,d=Math.min(u+t*o,e),a=d*t,y.yaw=y.yaw+a,null!=v&&y.pitch!==v){var S=.5*M*M/p;s=Math.abs(v-y.pitch)>S?Math.min(M+t*p,i):Math.max(M-t*p,0),c=s*t,v<y.pitch&&(y.pitch=Math.max(v,y.pitch-c)),v>y.pitch&&(y.pitch=Math.min(v,y.pitch+c))}if(null!=f&&y.fov!==v){var x=.5*m*m/r;w=Math.abs(f-y.fov)>x?Math.min(m+t*r,h):Math.max(m-t*r,0),n=w*t,f<y.fov&&(y.fov=Math.max(f,y.fov-n)),f>y.fov&&(y.fov=Math.min(f,y.fov+n))}return l=A,u=d,M=s,m=w,y}}}module.exports=i;
},{"./util/defaults":"IcBt"}],"MKvs":[function(require,module,exports) {
"use strict";function t(t,e){setTimeout(function(){e&&e.length>0?t.apply(null,e):t()},0)}module.exports=t;
},{}],"UljT":[function(require,module,exports) {
"use strict";function t(t){return t*Math.PI/180}module.exports=t;
},{}],"xiJL":[function(require,module,exports) {
"use strict";function t(t){return 180*t/Math.PI}module.exports=t;
},{}],"CTat":[function(require,module,exports) {
"use strict";module.exports={WebGlStage:require("./stages/WebGl"),WebGlCubeRenderer:require("./renderers/WebGlCube"),WebGlFlatRenderer:require("./renderers/WebGlFlat"),WebGlEquirectRenderer:require("./renderers/WebGlEquirect"),registerDefaultRenderers:require("./renderers/registerDefaultRenderers"),CubeGeometry:require("./geometries/Cube"),FlatGeometry:require("./geometries/Flat"),EquirectGeometry:require("./geometries/Equirect"),RectilinearView:require("./views/Rectilinear"),FlatView:require("./views/Flat"),ImageUrlSource:require("./sources/ImageUrl"),SingleAssetSource:require("./sources/SingleAsset"),StaticAsset:require("./assets/Static"),DynamicAsset:require("./assets/Dynamic"),TextureStore:require("./TextureStore"),Layer:require("./Layer"),RenderLoop:require("./RenderLoop"),KeyControlMethod:require("./controls/Key"),DragControlMethod:require("./controls/Drag"),QtvrControlMethod:require("./controls/Qtvr"),ScrollZoomControlMethod:require("./controls/ScrollZoom"),PinchZoomControlMethod:require("./controls/PinchZoom"),VelocityControlMethod:require("./controls/Velocity"),ElementPressControlMethod:require("./controls/ElementPress"),Controls:require("./controls/Controls"),Dynamics:require("./controls/Dynamics"),Viewer:require("./Viewer"),Scene:require("./Scene"),Hotspot:require("./Hotspot"),HotspotContainer:require("./HotspotContainer"),colorEffects:require("./colorEffects"),registerDefaultControls:require("./controls/registerDefaultControls"),autorotate:require("./autorotate"),util:{async:require("./util/async"),cancelize:require("./util/cancelize"),chain:require("./util/chain"),clamp:require("./util/clamp"),clearOwnProperties:require("./util/clearOwnProperties"),cmp:require("./util/cmp"),compose:require("./util/compose"),convertFov:require("./util/convertFov"),decimal:require("./util/decimal"),defaults:require("./util/defaults"),defer:require("./util/defer"),degToRad:require("./util/degToRad"),delay:require("./util/delay"),dom:require("./util/dom"),extend:require("./util/extend"),hash:require("./util/hash"),inherits:require("./util/inherits"),mod:require("./util/mod"),noop:require("./util/noop"),now:require("./util/now"),once:require("./util/once"),pixelRatio:require("./util/pixelRatio"),radToDeg:require("./util/radToDeg"),real:require("./util/real"),retry:require("./util/retry"),tween:require("./util/tween"),type:require("./util/type")},dependencies:{bowser:require("bowser"),glMatrix:require("gl-matrix"),eventEmitter:require("minimal-event-emitter"),hammerjs:require("hammerjs")}};
},{"./stages/WebGl":"bnPS","./renderers/WebGlCube":"WZBv","./renderers/WebGlFlat":"WZBv","./renderers/WebGlEquirect":"jXcL","./renderers/registerDefaultRenderers":"BE7j","./geometries/Cube":"hMCd","./geometries/Flat":"uFqj","./geometries/Equirect":"Dcnk","./views/Rectilinear":"Q7EF","./views/Flat":"p35M","./sources/ImageUrl":"rSzd","./sources/SingleAsset":"oQsd","./assets/Static":"rzhm","./assets/Dynamic":"RMLf","./TextureStore":"oEpT","./Layer":"mzUT","./RenderLoop":"M9KN","./controls/Key":"x80R","./controls/Drag":"pTkP","./controls/Qtvr":"qnVO","./controls/ScrollZoom":"W6zF","./controls/PinchZoom":"Zl1s","./controls/Velocity":"tHhx","./controls/ElementPress":"Kjuf","./controls/Controls":"aEXo","./controls/Dynamics":"CzyW","./Viewer":"KTop","./Scene":"dm4L","./Hotspot":"wXOZ","./HotspotContainer":"pIYi","./colorEffects":"ivfL","./controls/registerDefaultControls":"yz0j","./autorotate":"Td3y","./util/async":"ZYkB","./util/cancelize":"Kwxa","./util/chain":"XUgy","./util/clamp":"qqzv","./util/clearOwnProperties":"lrIP","./util/cmp":"DMww","./util/compose":"Ejq7","./util/convertFov":"d8NZ","./util/decimal":"NsFD","./util/defaults":"IcBt","./util/defer":"MKvs","./util/degToRad":"UljT","./util/delay":"MjRO","./util/dom":"Dw5L","./util/extend":"o5ow","./util/hash":"ja5q","./util/inherits":"W3pH","./util/mod":"iEu3","./util/noop":"Sw6I","./util/now":"fllL","./util/once":"LMqo","./util/pixelRatio":"AQTT","./util/radToDeg":"xiJL","./util/real":"bQI0","./util/retry":"rngS","./util/tween":"TMDN","./util/type":"HgvH","bowser":"JX1Q","gl-matrix":"IF0X","minimal-event-emitter":"lNC2","hammerjs":"K0KY"}],"paDP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;var e={scenes:[{id:"0-counter",name:"Counter",levels:[{tileSize:256,size:256,fallbackOnly:!0},{tileSize:512,size:512},{tileSize:512,size:1024},{tileSize:512,size:2048}],faceSize:2048,initialViewParameters:{yaw:-1.7305354528919654,pitch:.18810183577540407,fov:1.3848081938437478},linkHotspots:[{yaw:-1.600429731329104,pitch:.5002192152175962,rotation:13.351768777756625,target:"1-range",class:"second-tour-starter"},{yaw:-2.0067365901605037,pitch:.6455930272769592,rotation:5.497787143782138,target:"2-island"},{yaw:3.1144623360250305,pitch:.25626992303908835,rotation:25.918139392115812,target:"3-dining"}],infoHotspots:[{yaw:-1.1815019536187705,pitch:.21382602521738114,title:"MANUAL FOOD PROCESSOR",class:"intro-starter",videos:['<lite-youtube class="yt-embed" videoid="XdYZOHuvdhU" videotitle="Pampered Chef Manual Food Processor"></lite-youtube>'],images:["./images_min/foodprocessor/01-min.jpg","./images_min/foodprocessor/02-min.jpg","./images_min/foodprocessor/03-min.jpg",["@erica-ekman","./images_min/foodprocessor/04-min.jpg"],["@erica-ekman","./images_min/foodprocessor/05-min.jpg"]],subhead:"Manual Food Processor",text:"<p>Our Manual Food Processor can take care of nearly all your chopping and mincing needs, without needing an outlet. Just add your ingredients to the bowl and pump the handle for fast salsa, dip, cookie dough, baby food, tapenade. The more you pump, the finer it cuts! And when youâre done, the handle locks into the lid for easy storage in your cabinets.</p>",recipes:[{id:"Pico De Gallo",preview_image:"./modals/foodprocessor/post-recipe-pico-de-gallo-usca-min.jpg",link:"./modals/foodprocessor/post-recipe-pico-de-gallo-steps-usca.pdf"},{id:"Cucumber-Dill Guacamole",preview_image:"./modals/foodprocessor/post-recipe-cucumber-dill-guacamole-usca-min.jpg",link:"./modals/foodprocessor/post-recipe-cucumber-dill-guacamole-steps-usca.pdf"},{id:"Cranberry Salsa",preview_image:"./modals/foodprocessor/post-recipe-cranberry-salsa-usca-min.jpg",link:"./modals/foodprocessor/post-recipe-cranberry-salsa-steps-usca.pdf"}]},{yaw:-.9109833783616796,pitch:.27485461667772526,title:"PIZZA PEEL",videos:['<lite-youtube class="yt-embed" videoid="I_u050UNyf4" videotitle="Pampered Chef Pizza Peel"></lite-youtube>'],images:["./images_min/pizza/01-min.jpg",["@midwestLifeandStyle","./images_min/pizza/02-min.jpg"],"./images_min/pizza/03-min.jpg","./images_min/pizza/04-min.jpg",["@tictacseaux","./images_min/pizza/05-min.jpg"],["@mamazoeskitchen","./images_min/pizza/06-min.jpg"],["@tictacseaux","./images_min/pizza/07-min.jpg"]],subtitle:"PIZZA PEEL",subhead:"Pizza Peel",text:"<p>A pizza peel is a tool every pizza lover needs. It helps you get a pizza on and off a preheated pizza stone safely and with less mess. </p><br>This peel is made of durable acacia wood and has a tapered edge to help it slide easily under food. The hole at the end of the handle lets you hang it up for easy storage.</p>",recipes:[{id:"Homemade Pizza Dough",preview_image:"./modals/pizza/post-recipe-homemade-pizza-dough-min.jpg",link:"./modals/pizza/post-recipe-homemade-pizza-dough-steps.pdf"}]},{yaw:-.7506175698032482,pitch:.49199024725491114,title:"DELUXE ELECTRIC GRILL & GRIDDLE",videos:['<lite-youtube class="yt-embed" videoid="ztHdcO9j_ts" videotitle="Pampered Chef Deluxe Electric Grill & Griddle"></lite-youtube>'],images:["./images_min/grill/grill-1.jpg","./images_min/grill/grill-2.jpg","./images_min/grill/grill-3.jpg","./images_min/grill/grill-4.jpg"],subhead:"Deluxe Electric Grill & Griddle",text:"<p>Whether you're making breakfast, lunch, dinner, snacks, or apps, this multitasker is ready when you are. And when your day does a 180, so will this grill, turning out family favorites and inspiring something fresh and new.</p><br/><p>Youâll get four nonstick plates: two ridged grill plates and two smooth griddle plates that can be used in any combination and can be set to different temperatures for endless possibilities. For no-guess cooking, just set the included temperature probe to how you want your food cooked, and itâll let you know when itâs ready. And it comes with a cooking guide with handy charts and delicious recipes.</p><br/><p>There are three cooking positions for maximum versatility. You can cook with the lid closed to use as a contact press to grill meat and to turn out restaurant-style sandwiches, or you can open the grill flat on the counter to cook on both plates at the same time. There is also a Top Melt position so the top hovers over without touching the food to melt cheese. Plus, you can adjust the height of the top so it wonât smash thicker foods.</p>",recipes:[{id:"Banana Foster Sandwich",preview_image:"./modals/grill/banana_foster-img.jpg",link:"./modals/grill/post-bananas-foster-sandwich-steps.pdf"},{id:"Greek Zucchini Fritters",preview_image:"./modals/grill/greek_fritters-img.jpg",link:"./modals/grill/post-greek-zucchini-fritters-steps.pdf"},{id:"French Onion Sliders",preview_image:"./modals/grill/fr_onion_sliders-img.jpg",link:"./modals/grill/post-french-onion-sliders-steps.pdf"}]}]},{id:"1-range",name:"Range",levels:[{tileSize:256,size:256,fallbackOnly:!0},{tileSize:512,size:512},{tileSize:512,size:1024},{tileSize:512,size:2048}],faceSize:2048,initialViewParameters:{yaw:.15935469126256763,pitch:.47446732721544294,fov:1.3848081938437478},linkHotspots:[{yaw:1.54461620215851,pitch:.4545689203398311,rotation:10.995574287564278,target:"0-counter"},{yaw:1.9983218513556338,pitch:.6812157926345623,rotation:7.0685834705770345,target:"2-island"},{yaw:-3.0429579353509766,pitch:.17921049226157493,rotation:5.497787143782138,target:"3-dining"}],infoHotspots:[{yaw:-.6429950241920146,pitch:.6079593591219776,title:'12" STAINLESS STEEL NONSTICK SKILLET',videos:['<lite-youtube class="yt-embed" videoid="hZ739Jtg_yg" videotitle="Pampered Chef Deluxe Stainless Steel Nonstick Skillet"></lite-youtube>'],images:["./images_min/nonstick/01-min.jpg","./images_min/nonstick/02-min.jpg","./images_min/nonstick/03-min.jpg","./images_min/nonstick/04-min.jpg","./images_min/nonstick/05-min.jpg","./images_min/nonstick/06-min.jpg",["@prettyfocusedcourse","./images_min/nonstick/07-min.jpg"],"./images_min/nonstick/10-min.jpg",["@whatslindacooking","./images_min/nonstick/08-min.jpg"],"./images_min/nonstick/09-min.jpg",["@jessywhitenton","./images_min/nonstick/12-min.jpg"]],subhead:'12" Stainless Steel Nonstick Skillet',text:"<p>This innovative pan combines the best features of stainless steel and nonstick cookware. The nonstick mesh coating provides the perfect sear (without the mess) and leaves fond for pan sauces and gravy. The size is perfect for one-pot meals.</p><br><p>Our stainless steel skillets are a true hybrid: They combine the amazing cooking and heating capabilities of traditional stainless steel with the easy cleanup of nonstick cookware. With these innovative pans, you can get the perfect sear, make professional-grade pan sauces, and look like a proâwithout breaking a sweat.</p>",recipes:[{id:"Chicken Sausage & Spinach Ravioli",preview_image:"./modals/nonstick/post-recipe-chicken-sausage-spinach-ravioli-usca-min.jpg",link:"./modals/nonstick/post-recipe-chicken-sausage-spinach-ravioli-steps.pdf"},{id:"Egg Roll in a Bowl",preview_image:"./modals/nonstick/post-recipe-egg-roll-in-a-bowl-min.jpg",link:"./modals/nonstick/post-recipe-egg-roll-in-a-bowl-steps-usca.pdf"},{id:"Roasted Chicken & Asparagus",preview_image:"./modals/nonstick/post-recipe-roasted-chicken-asparagus-usca-min.jpg",link:"./modals/nonstick/post-recipe-roasted-chicken-asparagus-steps-usca.pdf"}]},{yaw:.2592774000177265,pitch:.47995705785557874,title:"6-QT. ENAMELED DUTCH OVEN",videos:['<lite-youtube class="yt-embed" videoid="qsHmDecSbGY" videotitle="Pampered Chef Enamled Dutch Oven"></lite-youtube>'],images:["./images_min/dutchoven/01-min.jpg","./images_min/dutchoven/02-min.jpg","./images_min/dutchoven/03-min.jpg","./images_min/dutchoven/04-min.jpg","./images_min/dutchoven/05-min.jpg","./images_min/dutchoven/07-min.jpg"],subhead:"6-qt. Enameled Dutch Oven",text:"<p>Enameled cast iron is the kind of cookware that will become a fixture at every special meal you makeâand that includes weeknight meals. This Dutch oven is beautiful so itâs ready to go directly from your stove (including induction) or oven to your table. Youâll reach for it again and again because itâs low maintenance and versatile.</p><br><p>The 6-qt. (5.7-L) Dutch oven has a light-colored enameled interior, which means you can start using it right awayâno seasoning requiredâand it lets you easily see food browning so you can avoid scorching it. Cast ironâs excellent heat retention means that food stays hot and delicious even if not everyone makes it to the table as soon as dinnerâs ready.</p><br><p>The inside of the lid is covered with bumps that redirect the condensation in the pot to drip back onto the food, making it a self-basting pot. This makes your food juicy, tender, and more flavorful.</p>",recipes:[{id:"Baked Orzo",preview_image:"./modals/dutch_oven/post-recipe-baked-orzo-min.jpg",link:"./modals/dutch_oven/post-recipe-baked-orzo-steps.pdf"},{id:"Baked Ziti with Sausage",preview_image:"./modals/dutch_oven/post-recipe-baked-ziti-with-sausage-min.jpg",link:"./modals/dutch_oven/post-recipe-baked-ziti-with-sausage-steps.pdf"},{id:"Dutch Oven Bread",preview_image:"./modals/dutch_oven/post-recipe-dutch-oven-bread-min.jpg",link:"./modals/dutch_oven/post-recipe-dutch-oven-bread-steps.pdf"}]},{yaw:.7912179938169785,pitch:.6150013929935234,title:'12" CAST IRON SKILLET',videos:['<lite-youtube class="yt-embed" videoid="PlKzT_mXPUI" videotitle="Pampered Chef Cast Iron Skillet"></lite-youtube>'],images:["./images_min/castiron/01-min.jpg","./images_min/castiron/02-min.jpg",["@makandheart","./images_min/castiron/03-min.jpg"],"./images_min/castiron/04-min.jpg"],subhead:'12" Cast Iron Skillet',text:'<p>Our 12" skillet comes preseasoned, so you can start using it right away on most heat sources. And its natural, nonstick surface gets better and better the more you use it.</p><br><p>Reach for this pan when you need a perfect sear on steaks or a golden, crispy crust on baked treats. Our skillet has a one-of-a-kind shape that gives you more cooking areaâenough to fit four chicken breasts at one time. No need to cook in batches to feed your friends or family.</p><br><p>The two, low-profile pour spouts let you easily drain off pan juices whether youâre left-or right-handed. With the cooking traditions and durability of cast iron comes a certain weightiness, but not to worry, our skillet has two handles to help you lift and carry it.</p>',recipes:[{id:"Stovetop Mac & Cheese",preview_image:"./modals/cast_iron/post-recipe-mac-n-cheese-usca-min.jpg",link:"./modals/cast_iron/post-recipe-mac-n-cheese-steps-usca.pdf"},{id:"Chili Lime Pork",preview_image:"./modals/cast_iron/post-recipe-chili-lime-pork-usca-min.jpg",link:"./modals/cast_iron/post-recipe-chili-lime-pork-steps-usca.pdf"},{id:"Blackened Chicken",preview_image:"./modals/cast_iron/post-recipe-blackened-chicken-min.jpg",link:"./modals/cast_iron/post-recipe-blackened-chicken-steps.pdf"}]}]},{id:"2-island",name:"Island",levels:[{tileSize:256,size:256,fallbackOnly:!0},{tileSize:512,size:512},{tileSize:512,size:1024},{tileSize:512,size:2048}],faceSize:2048,initialViewParameters:{yaw:.16781932880340733,pitch:.6173271244982672,fov:1.3848081938437478},linkHotspots:[{yaw:2.073695580130355,pitch:.6867101573530814,rotation:7.0685834705770345,target:"1-range"},{yaw:-2.240233598672516,pitch:.7910227684497411,rotation:5.497787143782138,target:"0-counter"},{yaw:-.005228740281733479,pitch:.23492673103993944,rotation:44.767695313654535,target:"3-dining"}],infoHotspots:[{yaw:.9117469385656278,pitch:.420756560898079,title:"EAT WELL RECIPE BOOK",images:[""],subhead:"",fullWidth:!0,text:"<iframe loading='lazy' allowfullscreen style='border:none;width:100%;height:100%;' src='//e.issuu.com/embed.html?d=p30530-012021usca-eat-well-ebook&hideIssuuLogo=true&hideShareButton=true&u=pamperedchef'></iframe>"},{yaw:-.3672164953440813,pitch:.47383427360583674,title:"BE A CONSULTANT",videos:['<lite-youtube class="yt-embed" videoid="aat1m2sbIvg" videotitle="Pampered Chef: Consultant Benefits"></lite-youtube>'],images:["./images_min/consultant/img-1.jpg","./images_min/consultant/img-2.jpg","./images_min/consultant/img-3.jpg"],containImages:!0,subhead:"Be a Consultant",text:"<span class='addtl_modal_body_2'><h4 class='modal_block-header'>What's in It for You?</h4><p style='padding-top:0; margin-bottom: 0;'>You mean... besides earning commission on every sale?</p><br/><p class='consultant_perks'>Here are more amazing perks!</p><br/><br/><h4 class='modal_block-header'> Work/Life Balance</h4><p>Make your business work around another job or family commitments-and take it wherever you go with your website and online tools.</p><h4 class='modal_block-header'> Free Products & Discounts</h4><p>You'll get 20â50% off products right away, and you'll have the chance to earn products or Pampered Chef logo gear every month.</p><h4 class='modal_block-header'> Fantastic Rewards</h4><p>On top of free products, you can earn cash rewards and even vacations-and you'll earn even more if you promote!</p><h4 class='modal_block-header'> Purpose & Community</h4><p>You'll be part of a strong community of people who share the same passion for helping others by inspiring mealtime wins.</p><br/><span class='modal_block-footer'>Contact your consultant to learn more today!</span></span><br/><br/>",pdf_links:[{id:"New Consultant Kit (US)",preview_image:"./modals/be_a_consultant/new_consultant_kit-us.jpg",link:"./modals/be_a_consultant/New-Consultant-Kit(US).pdf"},{id:"New Consultant Kit (CA)",preview_image:"./modals/be_a_consultant/new_consultant_kit-ca.jpg",link:"./modals/be_a_consultant/New-Consultant-Kit(CA).pdf"}]},{yaw:.24380359723473255,pitch:.7252554361478651,title:"PREMIUM CHARCUTERIE & CHEESE BOARD SET",videos:['<lite-youtube class="yt-embed" videoid="kaztmnKWbZg" videotitle="Pampered Chef Charcuterie & Cheese Board Set"></lite-youtube>'],images:["./images_min/charcuterie/01-min.jpg","./images_min/charcuterie/02-min.jpg","./images_min/charcuterie/03-min.jpg","./images_min/charcuterie/04-min.jpg"],subhead:"Premium Charcuterie & Cheese Board Set",text:"<p>The Premium Charcuterie & Cheese Board Set has everything you need to make entertaining a breeze. The set features an Acacia wood Lazy Susan and our Charcuterie & Cheese Board Accessories.</p>",related_content:[{id:"How to Build a Charcuterie Board (Video)",preview_image:"./videos/charc_video_preview_img.jpg",link:"https://youtu.be/FGNCzBBoxY0"}]},{yaw:-.7068853189452113,pitch:.44914982598033504,title:"HOST A PARTY",containImages:!0,videos:['<lite-youtube class="yt-embed" videoid="4Z8xfjQcrq0" videotitle="Pampered Chef Parties"></lite-youtube>'],images:["./images_min/hostaparty/img-01.jpg","./images_min/hostaparty/img-02.jpg","./images_min/hostaparty/img-03.jpg","./images_min/hostaparty/img-04.jpg"],subhead:"Host a Party",text:"<span class='addtl_modal_body_2'><h4 class='modal_block-header'> Free Product Rewards</h4><p>The higher your party sales, the more free product value you get to spend on the products you want.</p><h4 class='modal_block-header'> Half-Price Products</h4><p>Get up to five, including exclusive host exclusive combos.</p><h4 class='modal_block-header'> Monthly Host Special</h4><p>Get an exclusive offer just for hosting.</p><h4 class='modal_block-header'> Booking Bonuses</h4><p>Get 40% off one item or set at any party booked from yours - and get $50 in free product rewards when three guests book parties!</p><h4 class='modal_block-header'> Discounted Products</h4><p>Save up to 30% at your party, and 10% for one year.</p><br/><span class='modal_block-footer'>Contact your consultant to learn more today!</span></span>",pdf_links:[{id:"Host a Party (US)",preview_image:"./modals/host_party/host_a_party-us.jpg",link:"./modals/host_party/Host-a-Party(US).pdf"},{id:"Host a Party (CA)",preview_image:"./modals/host_party/host_a_party-ca.jpg",link:"./modals/host_party/Host-a-Party(CA).pdf"}]}]},{id:"3-dining",name:"Dining",levels:[{tileSize:256,size:256,fallbackOnly:!0},{tileSize:512,size:512},{tileSize:512,size:1024},{tileSize:512,size:2048}],faceSize:2048,initialViewParameters:{yaw:-.26892060769045756,pitch:.5234438282081175,fov:1.3848081938437478},linkHotspots:[{yaw:-.7501987811746768,pitch:.15245930885540346,rotation:10.210176124166829,target:"0-counter"},{yaw:-2.354654286612135,pitch:.1774186200543646,rotation:5.497787143782138,target:"0-counter"},{yaw:2.607801081118793,pitch:.1750555843206847,rotation:.7853981633974483,target:"1-range"},{yaw:-2.721992958257644,pitch:.6033749028382758,rotation:18.06415775814132,target:"2-island"}],infoHotspots:[{yaw:.49130821657672286,pitch:.58489454445475,title:"INSULATED SERVING BOWL SET",images:["./images_min/insulated_bowl/01-min.jpg","./images_min/insulated_bowl/02-min.jpg","./images_min/insulated_bowl/03-min.jpg",["@lazynolaketo","./images_min/insulated_bowl/04-min.jpg"],["@kristenskitchenkreations","./images_min/insulated_bowl/05-min.jpg"]],subhead:"Insulated Serving Bowl Set",text:"<p>For holidays, potlucks, or any big meal, it can feel nearly impossible to keep everything warm. With this insulated serving bowl set, you can keep foods warm up to 2 hours.</p><br><p>The bowlsâ double-walled vacuum insulation keeps food hot, prevents sweating, and has a stay-cool exterior. Works with cold foods, too!</p><br><p>Each bowl comes with a clear plastic lid thatâs double-walled and lets you see what's inside. The lid also hooks onto the side of the bowl, making it easier to dish out and serve food.</p>"},{yaw:-.8810722073104316,pitch:.452917691463405,title:"SMALL SQUARE COOL & SERVE",videos:['<lite-youtube class="yt-embed" videoid="b0gKhBjoqzM" videotitle="Pampered Chef Small Square Cool & Serve"></lite-youtube>'],images:["./images_min/coolserve/01-min.jpg","./images_min/coolserve/02-min.jpg",["@kristy7graces","./images_min/coolserve/03-min.jpg"],"./images_min/coolserve/04-min.jpg",["@laura_prietto","./images_min/coolserve/05-min.jpg"]],subhead:"Small Square Cool & Serve",text:"<p>The fun-sized Small Square Cool & Serve is perfect for parties, picnics, snacks, lunch on the go, and road trips. The exclusive gel insert (which features a handy finger slot for easy removal) keeps veggies, fruit, cheese, deli meat, dip, and other snacks cool for 4â6 hoursâeven outdoors!</p><br><p>It comes with a clear insert divided into two compartments with a 1-cup dip well in the center and has solid walls that keep food from mixing. The lid snaps onto the base so itâs easy to transport, and it even fits neatly underneath while in use.</p>"},{yaw:-.26892060769045756,pitch:.5234438282081175,title:"WOOD SALAD BOWL & SERVERS SET",images:["./images_min/salad_bowl-min/01-min.jpg","./images_min/salad_bowl-min/02-min.jpg",["@thecraftofcooking","./images_min/salad_bowl-min/03-min.jpg"],["@theparsleypotato","./images_min/salad_bowl-min/04-min.jpg"]],subhead:"Wood Salad Bowl & Servers Set",text:"<p>Even the simplest salads look impressive when served with this set. Our Wood Salad Bowl and Servers Set is made out of acacia wood with a rich color and beautiful grain that is not only durable, but moisture resistant. Each piece is one of a kind because of the natural variations in the wood.</p><br>The salad bowl holds a standard bag of lettuce with room for extra salad fixings. The serving spoon and fork are about 12-inches long and fit naturally into any party or dinner setting.<p>",recipes:[{id:"Classic Cobb Salad",preview_image:"./modals/salad/post-recipe-classic-cobb-salad-min.jpg",link:"./modals/salad/flyer-recipe-classic-cobb-salad-02-usca.pdf"},{id:"Superfood Salad",preview_image:"./modals/salad/post-recipe-superfood-salad-usca-min.jpg",link:"./modals/salad/flyer-recipe-superfood-salad-usca.pdf"},{id:"Southwestern Salad",preview_image:"./modals/salad/post-recipe-southwestern-salad-usca-min.jpg",link:"./modals/salad/post-recipe-southwestern-salad-steps-usca.pdf"}]}]}],name:"scenes-x4",settings:{mouseViewMode:"drag",autorotateEnabled:!1,fullscreenButton:!0,viewControlButtons:!1}};exports.data=e;
},{}],"lTk1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findSceneById=r,exports.findSceneDataById=s,exports.pause_video=n,exports.switchScene=a,exports.reset_modal=i;var e=require("./data.js"),t=require("./loadScenes.js");function r(e){for(var r=0;r<t.scenes.length;r++)if(t.scenes[r].data.id===e)return t.scenes[r];return null}function s(t){for(var r=0;r<e.data.scenes.length;r++)if(e.data.scenes[r].id===t)return e.data.scenes[r];return null}function n(){var e=document.getElementsByTagName("iframe");if(null!=e)for(var t=0;t<e.length;t++)e[t].src=e[t].src}function a(e){e.view.setParameters(e.data.initialViewParameters),e.scene.switchTo()}function i(){var e=document.querySelector(".info-hotspot-modal");e.classList.remove("visible"),e.remove()}
},{"./data.js":"paDP","./loadScenes.js":"RGex"}],"Gv8X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createInfoHotspotElement=t;var e=require("./helpers.js");function t(t){var a=document.createElement("div");a.classList.add("hotspot"),a.classList.add("info-hotspot");var i=document.createElement("div");i.classList.add("info-hotspot-header"),t.class&&i.classList.add(t.class);var n=document.createElement("div");n.classList.add("info-hotspot-icon-wrapper");var d=document.createElement("img");d.src="./assets/PC-Seal_Solid-white-95black_Registered.png",d.classList.add("info-hotspot-icon"),d.setAttribute("width","40px"),d.setAttribute("height","40px"),n.appendChild(d);var s=document.createElement("div");s.classList.add("info-hotspot-title-wrapper");var r=document.createElement("div");r.classList.add("info-hotspot-title"),r.innerHTML=t.title,s.appendChild(r);var c=document.createElement("div");c.classList.add("info-hotspot-close-wrapper");var l=document.createElement("img");l.src="./SVG/close-line.svg",l.classList.add("info-hotspot-close-icon"),c.appendChild(l),i.appendChild(n),i.appendChild(s),i.appendChild(c);var o=document.createElement("div");o.classList.add("info-hotspot-content");var p=document.createElement("div");p.classList.add("product-txt-container");var u=document.createElement("div");u.classList.add("product-txt-wrapper");var m=document.createElement("h2");m.classList.add("product-txt-subhead"),m.innerHTML=t.subhead;var v=document.createElement("div");v.innerHTML=t.text,v.classList.add("product-txt");var h=document.createElement("div");h.classList.add("recipes");var L=document.createElement("h2");L.classList.add("recipes-header"),L.textContent="Recipes to Try:",h.appendChild(L);var f=document.createElement("div");f.classList.add("recipes-list"),t.recipes&&t.recipes.map(function(e,a){var i=document.createElement("li"),n=document.createElement("a");n.classList.add("recipe-link"),n.href=t.recipes[a].link,n.setAttribute("target","_blank"),n.setAttribute("rel","noreferrer");var d=document.createElement("img");d.src=t.recipes[a].preview_image,d.classList.add("recipe-preview-img-wrap"),d.setAttribute("loading","lazy"),d.style.display="block";var s=document.createElement("p");s.classList.add("recipe-title"),s.innerHTML=t.recipes[a].id,s.href=t.recipes[a].link,s.setAttribute("target","_blank"),n.appendChild(d),n.appendChild(s),i.appendChild(n),f.appendChild(i)}),t.related_content&&t.related_content.map(function(e,a){var i=document.createElement("li"),n=document.createElement("a");n.classList.add("recipe-link"),n.href=t.related_content[a].link,n.setAttribute("target","_blank"),n.setAttribute("rel","noreferrer");var d=document.createElement("img");d.classList.add("recipe-preview-img-wrap"),d.src=t.related_content[a].preview_image,d.classList.add("recipe-preview-img-wrap"),d.setAttribute("loading","lazy"),d.style.display="block";var s=document.createElement("p");s.classList.add("recipe-title"),s.innerHTML=t.related_content[a].id,s.href=t.related_content[a].link,s.setAttribute("target","_blank"),n.appendChild(d),n.appendChild(s),i.appendChild(n),f.appendChild(i),L.textContent="Related Content:"}),t.pdf_links&&t.pdf_links.map(function(e,a){var i=document.createElement("li"),n=document.createElement("a");n.classList.add("recipe-link"),n.href=t.pdf_links[a].link,n.setAttribute("rel","noreferrer"),n.setAttribute("target","_blank");var d=document.createElement("img");n.appendChild(d),d.classList.add("recipe-preview-img-wrap"),d.src=t.pdf_links[a].preview_image,d.classList.add("recipe-preview-img-wrap"),d.setAttribute("loading","lazy"),d.style.display="block";var s=document.createElement("p");s.classList.add("recipe-title"),s.innerHTML=t.pdf_links[a].id,s.href=t.pdf_links[a].link,s.setAttribute("target","_blank"),n.appendChild(s),i.appendChild(n),f.appendChild(i),L.textContent="Downloads"}),t.recipes||(L.innerHTML=""),h.appendChild(f),u.appendChild(m),u.appendChild(v),u.appendChild(h),p.appendChild(u);var E=document.createElement("div");E.classList.add("carousel_container");var g=document.createElement("div");g.classList.add("carousel");var C=document.createElement("div");C.classList.add("carousel-images");var b=document.createElement("div");b.classList.add("carousel-nav");var k=document.createElement("img");k.src="./SVG/chevron-right.svg",k.classList.add("carousel-button"),k.classList.add("next"),k.setAttribute("id","next");var _=document.createElement("img");_.src="./SVG/chevron-left.svg",_.classList.add("carousel-button"),_.classList.add("previous"),_.setAttribute("id","previous");var y=document.createElement("ul");y.classList.add("carousel-pagination");for(var w=0;w<t.images.length;w++){var A=document.createElement("li");A.classList.add("carousel-bullet");var x=document.createElement("div"),T=document.createElement("img");if(T.setAttribute("width","800px"),T.setAttribute("height","800px"),x.setAttribute("id","product-image"),2===t.images[w].length){T.src=t.images[w][1];var S=document.createElement("div");S.classList.add("influencer_credit_container");var M=document.createElement("div");M.classList.add("pointer"),S.appendChild(M);var H=document.createElement("span");H.classList.add("influencer_credit"),H.innerHTML="ð·: "+t.images[w][0],S.appendChild(H),x.appendChild(S)}else T.src=t.images[w];T.setAttribute("loading","lazy"),x.appendChild(T),t.containImages&&T.classList.add("contain"),C.appendChild(x),y.appendChild(A),E.appendChild(y)}t.videos&&t.videos.map(function(e,a){var i=document.createElement("div");i.classList.add("slider-top");var n=document.createElement("div");n.classList.add("slider-bot");var d=document.createElement("li");d.classList.add("carousel-bullet");var s=document.createElement("div");s.classList.add("iframe_container__video"),s.innerHTML=t.videos[a],s.append(i,n),y.appendChild(d),C.appendChild(s)}),b.appendChild(k),g.appendChild(C),b.appendChild(_),E.appendChild(b),E.appendChild(g),o.appendChild(p),o.appendChild(E),a.appendChild(i),a.appendChild(o);var q=document.createElement("div");function z(){setTimeout(function(){document.querySelector(".product-txt-container").scrollTo(0,0),F(0)},500),(0,e.pause_video)()}q.classList.add("info-hotspot-modal"),q.innerHTML=a.innerHTML;var X=function(){q.classList.remove("visible"),z(),setTimeout(function(){q.remove()},500)};a.querySelector(".info-hotspot-header").addEventListener("click",function(){document.body.classList.contains("tour-init")?t.class&&q.classList.add(t.class):q.classList.remove(t.class),document.body.appendChild(q),z(),setTimeout(function(){q.classList.add("visible")},100)}),q.querySelector(".info-hotspot-close-wrapper").addEventListener("click",X),q.addEventListener("mouseover",function(e){e.target===q&&q.classList.contains("visible")&&q.addEventListener("click",function(e){e.target===q&&q.classList.contains("visible")&&(q.classList.remove("visible"),z())})});var G=q.querySelector("#next"),R=q.querySelector("#previous"),V=q.querySelector(".carousel-images"),j=q.querySelectorAll(".carousel-images > *").length,I=q.querySelector(".carousel-pagination"),O=[].slice.call(q.querySelectorAll(".carousel-bullet")),P=0,W=100,D=0,Y=0;function B(){Y<D&&P!==j-1&&G.click(),Y>D&&0!==P&&R.click()}function F(e){e=e<0?j-1:e>=j?0:e,V.style.WebkitTransform=V.style.transform="translate(-"+e*W+"%, 0)",O[P].classList.remove("active-bullet"),O[e].classList.add("active-bullet"),P=e}if(document.body.addEventListener("keydown",function(e){"Escape"===e.key&&X()}),V.addEventListener("touchstart",function(e){D=e.changedTouches[0].pageX}),V.addEventListener("touchend",function(e){Y=e.changedTouches[0].pageX,B()}),V.addEventListener("mousedown",function(e){D=e.pageX}),V.addEventListener("mouseup",function(e){Y=e.pageX,B()}),V.addEventListener("wheel",function(e){var t=1*e.deltaY;-1===Math.sign(t)?0!==P&&R.click():P!==j-1&&G.click()},{passive:!0}),O[P].classList.add("active-bullet"),R.addEventListener("click",function(){F(P-1)},!1),G.addEventListener("click",function(){F(P+1)},!1),I.addEventListener("click",function(e){var t=O.indexOf(e.target);-1!==t&&t!==P&&F(t)},!1),t.fullWidth){var J=q.querySelector("div.info-hotspot-content");J.classList.add("fullwidth_modal"),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(J);var K=document.createElement("div");K.classList.add("iframe_container"),K.innerHTML=t.text,J.appendChild(K)}return a}
},{"./helpers.js":"lTk1"}],"KwvA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modifierPhases=exports.afterWrite=exports.write=exports.beforeWrite=exports.afterMain=exports.main=exports.beforeMain=exports.afterRead=exports.read=exports.beforeRead=exports.placements=exports.variationPlacements=exports.reference=exports.popper=exports.viewport=exports.clippingParents=exports.end=exports.start=exports.basePlacements=exports.auto=exports.left=exports.right=exports.bottom=exports.top=void 0;var e="top";exports.top=e;var r="bottom";exports.bottom=r;var t="right";exports.right=t;var o="left";exports.left=o;var a="auto";exports.auto=a;var p=[e,r,t,o];exports.basePlacements=p;var s="start";exports.start=s;var x="end";exports.end=x;var i="clippingParents";exports.clippingParents=i;var n="viewport";exports.viewport=n;var v="popper";exports.popper=v;var f="reference";exports.reference=f;var c=p.reduce(function(e,r){return e.concat([r+"-"+s,r+"-"+x])},[]);exports.variationPlacements=c;var d=[].concat(p,[a]).reduce(function(e,r){return e.concat([r,r+"-"+s,r+"-"+x])},[]);exports.placements=d;var b="beforeRead";exports.beforeRead=b;var l="read";exports.read=l;var m="afterRead";exports.afterRead=m;var u="beforeMain";exports.beforeMain=u;var P="main";exports.main=P;var M="afterMain";exports.afterMain=M;var g="beforeWrite";exports.beforeWrite=g;var w="write";exports.write=w;var R="afterWrite";exports.afterWrite=R;var W=[b,l,m,u,P,M,g,w,R];exports.modifierPhases=W;
},{}],"hqUe":[function(require,module,exports) {
"use strict";function e(e){return e?(e.nodeName||"").toLowerCase():null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"iP0B":[function(require,module,exports) {
"use strict";function e(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"lOVC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isElement=n,exports.isHTMLElement=o,exports.isShadowRoot=i;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(t){return t instanceof(0,e.default)(t).Element||t instanceof Element}function o(t){return t instanceof(0,e.default)(t).HTMLElement||t instanceof HTMLElement}function i(t){return"undefined"!=typeof ShadowRoot&&(t instanceof(0,e.default)(t).ShadowRoot||t instanceof ShadowRoot)}
},{"./getWindow.js":"iP0B"}],"pu4Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../dom-utils/getNodeName.js")),t=require("../dom-utils/instanceOf.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s){var r=s.state;Object.keys(r.elements).forEach(function(s){var n=r.styles[s]||{},o=r.attributes[s]||{},a=r.elements[s];(0,t.isHTMLElement)(a)&&(0,e.default)(a)&&(Object.assign(a.style,n),Object.keys(o).forEach(function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})}function n(s){var r=s.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(s){var o=r.elements[s],a=r.attributes[s]||{},i=Object.keys(r.styles.hasOwnProperty(s)?r.styles[s]:n[s]).reduce(function(e,t){return e[t]="",e},{});(0,t.isHTMLElement)(o)&&(0,e.default)(o)&&(Object.assign(o.style,i),Object.keys(a).forEach(function(e){o.removeAttribute(e)}))})}}var o={name:"applyStyles",enabled:!0,phase:"write",fn:r,effect:n,requires:["computeStyles"]};exports.default=o;
},{"../dom-utils/getNodeName.js":"hqUe","../dom-utils/instanceOf.js":"lOVC"}],"yLpD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function r(e){return e.split("-")[0]}
},{"../enums.js":"KwvA"}],"btCD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=i;var t=require("./instanceOf.js"),e=Math.round;function i(i,o){void 0===o&&(o=!1);var h=i.getBoundingClientRect(),r=1,f=1;return(0,t.isHTMLElement)(i)&&o&&(r=h.width/i.offsetWidth||1,f=h.height/i.offsetHeight||1),{width:e(h.width/r),height:e(h.height/f),top:e(h.top/f),right:e(h.right/r),bottom:e(h.bottom/f),left:e(h.left/r),x:e(h.left/r),y:e(h.top/f)}}
},{"./instanceOf.js":"lOVC"}],"bgU0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=f;var e=t(require("./getBoundingClientRect.js"));function t(e){return e&&e.__esModule?e:{default:e}}function f(t){var f=(0,e.default)(t),i=t.offsetWidth,h=t.offsetHeight;return Math.abs(f.width-i)<=1&&(i=f.width),Math.abs(f.height-h)<=1&&(h=f.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:h}}
},{"./getBoundingClientRect.js":"btCD"}],"TozG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t,o){var r=o.getRootNode&&o.getRootNode();if(t.contains(o))return!0;if(r&&(0,e.isShadowRoot)(r)){var i=o;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}
},{"./instanceOf.js":"lOVC"}],"ro5C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t){return(0,e.default)(t).getComputedStyle(t)}
},{"./getWindow.js":"iP0B"}],"t2So":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getNodeName.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return["table","td","th"].indexOf((0,e.default)(t))>=0}
},{"./getNodeName.js":"hqUe"}],"iOCj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e=require("./instanceOf.js");function t(t){return(((0,e.isElement)(t)?t.ownerDocument:t.document)||window.document).documentElement}
},{"./instanceOf.js":"lOVC"}],"Tyrb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=u(require("./getNodeName.js")),t=u(require("./getDocumentElement.js")),r=require("./instanceOf.js");function u(e){return e&&e.__esModule?e:{default:e}}function o(u){return"html"===(0,e.default)(u)?u:u.assignedSlot||u.parentNode||((0,r.isShadowRoot)(u)?u.host:null)||(0,t.default)(u)}
},{"./getNodeName.js":"hqUe","./getDocumentElement.js":"iOCj","./instanceOf.js":"lOVC"}],"Mnay":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=a(require("./getWindow.js")),t=a(require("./getNodeName.js")),r=a(require("./getComputedStyle.js")),n=require("./instanceOf.js"),i=a(require("./isTableElement.js")),u=a(require("./getParentNode.js"));function a(e){return e&&e.__esModule?e:{default:e}}function f(e){return(0,n.isHTMLElement)(e)&&"fixed"!==(0,r.default)(e).position?e.offsetParent:null}function o(e){var i=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&(0,n.isHTMLElement)(e)&&"fixed"===(0,r.default)(e).position)return null;for(var a=(0,u.default)(e);(0,n.isHTMLElement)(a)&&["html","body"].indexOf((0,t.default)(a))<0;){var f=(0,r.default)(a);if("none"!==f.transform||"none"!==f.perspective||"paint"===f.contain||-1!==["transform","perspective"].indexOf(f.willChange)||i&&"filter"===f.willChange||i&&f.filter&&"none"!==f.filter)return a;a=a.parentNode}return null}function l(n){for(var u=(0,e.default)(n),a=f(n);a&&(0,i.default)(a)&&"static"===(0,r.default)(a).position;)a=f(a);return a&&("html"===(0,t.default)(a)||"body"===(0,t.default)(a)&&"static"===(0,r.default)(a).position)?u:a||o(n)||u}
},{"./getWindow.js":"iP0B","./getNodeName.js":"hqUe","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./isTableElement.js":"t2So","./getParentNode.js":"Tyrb"}],"w8hZ":[function(require,module,exports) {
"use strict";function e(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"oQre":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.round=exports.min=exports.max=void 0;var r=Math.max;exports.max=r;var e=Math.min;exports.min=e;var t=Math.round;exports.round=t;
},{}],"bTtH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./math.js");function r(r,t,u){return(0,e.max)(r,(0,e.min)(t,u))}
},{"./math.js":"oQre"}],"R9OA":[function(require,module,exports) {
"use strict";function t(){return{top:0,right:0,bottom:0,left:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"YlSo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getFreshSideObject.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return Object.assign({},(0,e.default)(),t)}
},{"./getFreshSideObject.js":"R9OA"}],"ZqdX":[function(require,module,exports) {
"use strict";function e(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T3Ag":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../utils/getBasePlacement.js")),t=l(require("../dom-utils/getLayoutRect.js")),r=l(require("../dom-utils/contains.js")),s=l(require("../dom-utils/getOffsetParent.js")),i=l(require("../utils/getMainAxisFromPlacement.js")),a=l(require("../utils/within.js")),n=l(require("../utils/mergePaddingObject.js")),u=l(require("../utils/expandToHashMap.js")),o=require("../enums.js"),f=require("../dom-utils/instanceOf.js");function l(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,n.default)("number"!=typeof e?e:(0,u.default)(e,o.basePlacements))};function d(r){var n,u=r.state,f=r.name,l=r.options,d=u.elements.arrow,c=u.modifiersData.popperOffsets,m=(0,e.default)(u.placement),g=(0,i.default)(m),j=[o.left,o.right].indexOf(m)>=0?"height":"width";if(d&&c){var q=p(l.padding,u),v=(0,t.default)(d),h="y"===g?o.top:o.left,O="y"===g?o.bottom:o.right,y=u.rects.reference[j]+u.rects.reference[g]-c[g]-u.rects.popper[j],b=c[g]-u.rects.reference[g],w=(0,s.default)(d),x=w?"y"===g?w.clientHeight||0:w.clientWidth||0:0,P=y/2-b/2,M=q[h],_=x-v[j]-q[O],D=x/2-v[j]/2+P,H=(0,a.default)(M,D,_),A=g;u.modifiersData[f]=((n={})[A]=H,n.centerOffset=H-D,n)}}function c(e){var t=e.state,s=e.options.element,i=void 0===s?"[data-popper-arrow]":s;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&(0,r.default)(t.elements.popper,i)&&(t.elements.arrow=i)}var m={name:"arrow",enabled:!0,phase:"main",fn:d,effect:c,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};exports.default=m;
},{"../utils/getBasePlacement.js":"yLpD","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/contains.js":"TozG","../dom-utils/getOffsetParent.js":"Mnay","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/within.js":"bTtH","../utils/mergePaddingObject.js":"YlSo","../utils/expandToHashMap.js":"ZqdX","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC"}],"p5kV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mapToStyles=l,exports.default=void 0;var e=require("../enums.js"),t=p(require("../dom-utils/getOffsetParent.js")),o=p(require("../dom-utils/getWindow.js")),s=p(require("../dom-utils/getDocumentElement.js")),r=p(require("../dom-utils/getComputedStyle.js")),a=p(require("../utils/getBasePlacement.js")),i=require("../utils/math.js");function p(e){return e&&e.__esModule?e:{default:e}}var n={top:"auto",right:"auto",bottom:"auto",left:"auto"};function u(e){var t=e.x,o=e.y,s=window.devicePixelRatio||1;return{x:(0,i.round)((0,i.round)(t*s)/s)||0,y:(0,i.round)((0,i.round)(o*s)/s)||0}}function l(a){var i,p=a.popper,l=a.popperRect,d=a.placement,f=a.offsets,c=a.position,m=a.gpuAcceleration,g=a.adaptive,v=a.roundOffsets,O=!0===v?u(f):"function"==typeof v?v(f):f,b=O.x,j=void 0===b?0:b,x=O.y,y=void 0===x?0:x,h=f.hasOwnProperty("x"),w=f.hasOwnProperty("y"),q=e.left,P=e.top,D=window;if(g){var R=(0,t.default)(p),W="clientHeight",_="clientWidth";R===(0,o.default)(p)&&(R=(0,s.default)(p),"static"!==(0,r.default)(R).position&&(W="scrollHeight",_="scrollWidth")),R=R,d===e.top&&(P=e.bottom,y-=R[W]-l.height,y*=m?1:-1),d===e.left&&(q=e.right,j-=R[_]-l.width,j*=m?1:-1)}var A,S=Object.assign({position:c},g&&n);return m?Object.assign({},S,((A={})[P]=w?"0":"",A[q]=h?"0":"",A.transform=(D.devicePixelRatio||1)<2?"translate("+j+"px, "+y+"px)":"translate3d("+j+"px, "+y+"px, 0)",A)):Object.assign({},S,((i={})[P]=w?y+"px":"",i[q]=h?j+"px":"",i.transform="",i))}function d(e){var t=e.state,o=e.options,s=o.gpuAcceleration,r=void 0===s||s,i=o.adaptive,p=void 0===i||i,n=o.roundOffsets,u=void 0===n||n,d={placement:(0,a.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,l(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,l(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var f={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:d,data:{}};exports.default=f;
},{"../enums.js":"KwvA","../dom-utils/getOffsetParent.js":"Mnay","../dom-utils/getWindow.js":"iP0B","../dom-utils/getDocumentElement.js":"iOCj","../dom-utils/getComputedStyle.js":"ro5C","../utils/getBasePlacement.js":"yLpD","../utils/math.js":"oQre"}],"ugN3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../dom-utils/getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={passive:!0};function n(t){var n=t.state,s=t.instance,o=t.options,a=o.scroll,i=void 0===a||a,d=o.resize,u=void 0===d||d,c=(0,e.default)(n.elements.popper),l=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&l.forEach(function(e){e.addEventListener("scroll",s.update,r)}),u&&c.addEventListener("resize",s.update,r),function(){i&&l.forEach(function(e){e.removeEventListener("scroll",s.update,r)}),u&&c.removeEventListener("resize",s.update,r)}}var s={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:n,data:{}};exports.default=s;
},{"../dom-utils/getWindow.js":"iP0B"}],"hGEW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var t={left:"right",right:"left",bottom:"top",top:"bottom"};function e(e){return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}
},{}],"B4ze":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var e={start:"end",end:"start"};function t(t){return t.replace(/start|end/g,function(t){return e[t]})}
},{}],"aES8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getWindow.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t);return{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}
},{"./getWindow.js":"iP0B"}],"pET8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=l;var e=u(require("./getBoundingClientRect.js")),t=u(require("./getDocumentElement.js")),r=u(require("./getWindowScroll.js"));function u(e){return e&&e.__esModule?e:{default:e}}function l(u){return(0,e.default)((0,t.default)(u)).left+(0,r.default)(u).scrollLeft}
},{"./getBoundingClientRect.js":"btCD","./getDocumentElement.js":"iOCj","./getWindowScroll.js":"aES8"}],"uJtB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getWindow.js")),t=i(require("./getDocumentElement.js")),r=i(require("./getWindowScrollBarX.js"));function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u=(0,e.default)(i),o=(0,t.default)(i),n=u.visualViewport,a=o.clientWidth,d=o.clientHeight,s=0,f=0;return n&&(a=n.width,d=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=n.offsetLeft,f=n.offsetTop)),{width:a,height:d,x:s+(0,r.default)(i),y:f}}
},{"./getWindow.js":"iP0B","./getDocumentElement.js":"iOCj","./getWindowScrollBarX.js":"pET8"}],"xGf3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=o(require("./getDocumentElement.js")),t=o(require("./getComputedStyle.js")),l=o(require("./getWindowScrollBarX.js")),i=o(require("./getWindowScroll.js")),r=require("../utils/math.js");function o(e){return e&&e.__esModule?e:{default:e}}function u(o){var u,d=(0,e.default)(o),c=(0,i.default)(o),n=null==(u=o.ownerDocument)?void 0:u.body,s=(0,r.max)(d.scrollWidth,d.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=(0,r.max)(d.scrollHeight,d.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),h=-c.scrollLeft+(0,l.default)(o),f=-c.scrollTop;return"rtl"===(0,t.default)(n||d).direction&&(h+=(0,r.max)(d.clientWidth,n?n.clientWidth:0)-s),{width:s,height:a,x:h,y:f}}
},{"./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./getWindowScrollBarX.js":"pET8","./getWindowScroll.js":"aES8","../utils/math.js":"oQre"}],"T26w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=t(require("./getComputedStyle.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(t),o=r.overflow,u=r.overflowX,l=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+u)}
},{"./getComputedStyle.js":"ro5C"}],"zGGS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=n(require("./getParentNode.js")),t=n(require("./isScrollParent.js")),r=n(require("./getNodeName.js")),u=require("./instanceOf.js");function n(e){return e&&e.__esModule?e:{default:e}}function o(n){return["html","body","#document"].indexOf((0,r.default)(n))>=0?n.ownerDocument.body:(0,u.isHTMLElement)(n)&&(0,t.default)(n)?n:o((0,e.default)(n))}
},{"./getParentNode.js":"Tyrb","./isScrollParent.js":"T26w","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC"}],"inBY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=o(require("./getScrollParent.js")),r=o(require("./getParentNode.js")),t=o(require("./getWindow.js")),u=o(require("./isScrollParent.js"));function o(e){return e&&e.__esModule?e:{default:e}}function a(o,n){var l;void 0===n&&(n=[]);var d=(0,e.default)(o),i=d===(null==(l=o.ownerDocument)?void 0:l.body),c=(0,t.default)(d),s=i?[c].concat(c.visualViewport||[],(0,u.default)(d)?d:[]):d,f=n.concat(s);return i?f:f.concat(a((0,r.default)(s)))}
},{"./getScrollParent.js":"zGGS","./getParentNode.js":"Tyrb","./getWindow.js":"iP0B","./isScrollParent.js":"T26w"}],"vA8j":[function(require,module,exports) {
"use strict";function t(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"MtyE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=q;var e=require("../enums.js"),t=g(require("./getViewportRect.js")),r=g(require("./getDocumentRect.js")),i=g(require("./listScrollParents.js")),n=g(require("./getOffsetParent.js")),u=g(require("./getDocumentElement.js")),o=g(require("./getComputedStyle.js")),l=require("./instanceOf.js"),f=g(require("./getBoundingClientRect.js")),s=g(require("./getParentNode.js")),a=g(require("./contains.js")),c=g(require("./getNodeName.js")),d=g(require("../utils/rectToClientRect.js")),m=require("../utils/math.js");function g(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=(0,f.default)(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function h(i,n){return n===e.viewport?(0,d.default)((0,t.default)(i)):(0,l.isHTMLElement)(n)?p(n):(0,d.default)((0,r.default)((0,u.default)(i)))}function j(e){var t=(0,i.default)((0,s.default)(e)),r=["absolute","fixed"].indexOf((0,o.default)(e).position)>=0&&(0,l.isHTMLElement)(e)?(0,n.default)(e):e;return(0,l.isElement)(r)?t.filter(function(e){return(0,l.isElement)(e)&&(0,a.default)(e,r)&&"body"!==(0,c.default)(e)}):[]}function q(e,t,r){var i="clippingParents"===t?j(e):[].concat(t),n=[].concat(i,[r]),u=n[0],o=n.reduce(function(t,r){var i=h(e,r);return t.top=(0,m.max)(i.top,t.top),t.right=(0,m.min)(i.right,t.right),t.bottom=(0,m.min)(i.bottom,t.bottom),t.left=(0,m.max)(i.left,t.left),t},h(e,u));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}
},{"../enums.js":"KwvA","./getViewportRect.js":"uJtB","./getDocumentRect.js":"xGf3","./listScrollParents.js":"inBY","./getOffsetParent.js":"Mnay","./getDocumentElement.js":"iOCj","./getComputedStyle.js":"ro5C","./instanceOf.js":"lOVC","./getBoundingClientRect.js":"btCD","./getParentNode.js":"Tyrb","./contains.js":"TozG","./getNodeName.js":"hqUe","../utils/rectToClientRect.js":"vA8j","../utils/math.js":"oQre"}],"kB4N":[function(require,module,exports) {
"use strict";function e(e){return e.split("-")[1]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"HyU9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=i(require("./getBasePlacement.js")),t=i(require("./getVariation.js")),r=i(require("./getMainAxisFromPlacement.js")),a=require("../enums.js");function i(e){return e&&e.__esModule?e:{default:e}}function u(i){var u,l=i.reference,s=i.element,n=i.placement,h=n?(0,e.default)(n):null,c=n?(0,t.default)(n):null,d=l.x+l.width/2-s.width/2,f=l.y+l.height/2-s.height/2;switch(h){case a.top:u={x:d,y:l.y-s.height};break;case a.bottom:u={x:d,y:l.y+l.height};break;case a.right:u={x:l.x+l.width,y:f};break;case a.left:u={x:l.x-s.width,y:f};break;default:u={x:l.x,y:l.y}}var o=h?(0,r.default)(h):null;if(null!=o){var x="y"===o?"height":"width";switch(c){case a.start:u[o]=u[o]-(l[x]/2-s[x]/2);break;case a.end:u[o]=u[o]+(l[x]/2-s[x]/2)}}return u}
},{"./getBasePlacement.js":"yLpD","./getVariation.js":"kB4N","./getMainAxisFromPlacement.js":"w8hZ","../enums.js":"KwvA"}],"lMQv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=l(require("../dom-utils/getBoundingClientRect.js")),t=l(require("../dom-utils/getClippingRect.js")),r=l(require("../dom-utils/getDocumentElement.js")),o=l(require("./computeOffsets.js")),i=l(require("./rectToClientRect.js")),n=require("../enums.js"),p=require("../dom-utils/instanceOf.js"),u=l(require("./mergePaddingObject.js")),s=l(require("./expandToHashMap.js"));function l(e){return e&&e.__esModule?e:{default:e}}function a(l,a){void 0===a&&(a={});var d=a,f=d.placement,m=void 0===f?l.placement:f,c=d.boundary,g=void 0===c?n.clippingParents:c,b=d.rootBoundary,j=void 0===b?n.viewport:b,v=d.elementContext,q=void 0===v?n.popper:v,x=d.altBoundary,y=void 0!==x&&x,O=d.padding,h=void 0===O?0:O,C=(0,u.default)("number"!=typeof h?h:(0,s.default)(h,n.basePlacements)),E=q===n.popper?n.reference:n.popper,P=l.elements.reference,_=l.rects.popper,B=l.elements[y?E:q],M=(0,t.default)((0,p.isElement)(B)?B:B.contextElement||(0,r.default)(l.elements.popper),g,j),R=(0,e.default)(P),D=(0,o.default)({reference:R,element:_,strategy:"absolute",placement:m}),T=(0,i.default)(Object.assign({},_,D)),k=q===n.popper?T:R,w={top:M.top-k.top+C.top,bottom:k.bottom-M.bottom+C.bottom,left:M.left-k.left+C.left,right:k.right-M.right+C.right},H=l.modifiersData.offset;if(q===n.popper&&H){var z=H[m];Object.keys(w).forEach(function(e){var t=[n.right,n.bottom].indexOf(e)>=0?1:-1,r=[n.top,n.bottom].indexOf(e)>=0?"y":"x";w[e]+=z[r]*t})}return w}
},{"../dom-utils/getBoundingClientRect.js":"btCD","../dom-utils/getClippingRect.js":"MtyE","../dom-utils/getDocumentElement.js":"iOCj","./computeOffsets.js":"HyU9","./rectToClientRect.js":"vA8j","../enums.js":"KwvA","../dom-utils/instanceOf.js":"lOVC","./mergePaddingObject.js":"YlSo","./expandToHashMap.js":"ZqdX"}],"YB6F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=a(require("./getVariation.js")),t=require("../enums.js"),r=a(require("./detectOverflow.js")),n=a(require("./getBasePlacement.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(a,u){void 0===u&&(u={});var o=u,i=o.placement,l=o.boundary,d=o.rootBoundary,s=o.padding,c=o.flipVariations,f=o.allowedAutoPlacements,m=void 0===f?t.placements:f,p=(0,e.default)(i),v=p?c?t.variationPlacements:t.variationPlacements.filter(function(t){return(0,e.default)(t)===p}):t.basePlacements,j=v.filter(function(e){return m.indexOf(e)>=0});0===j.length&&(j=v);var y=j.reduce(function(e,t){return e[t]=(0,r.default)(a,{placement:t,boundary:l,rootBoundary:d,padding:s})[(0,n.default)(t)],e},{});return Object.keys(y).sort(function(e,t){return y[e]-y[t]})}
},{"./getVariation.js":"kB4N","../enums.js":"KwvA","./detectOverflow.js":"lMQv","./getBasePlacement.js":"yLpD"}],"sjJD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../utils/getOppositePlacement.js")),t=o(require("../utils/getBasePlacement.js")),a=o(require("../utils/getOppositeVariationPlacement.js")),r=o(require("../utils/detectOverflow.js")),i=o(require("../utils/computeAutoPlacement.js")),n=require("../enums.js"),u=o(require("../utils/getVariation.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(r){if((0,t.default)(r)===n.auto)return[];var i=(0,e.default)(r);return[(0,a.default)(r),i,(0,a.default)(i)]}function s(a){var o=a.state,s=a.options,f=a.name;if(!o.modifiersData[f]._skip){for(var d=s.mainAxis,c=void 0===d||d,p=s.altAxis,m=void 0===p||p,v=s.fallbackPlacements,b=s.padding,g=s.boundary,y=s.rootBoundary,h=s.altBoundary,j=s.flipVariations,k=void 0===j||j,q=s.allowedAutoPlacements,P=o.options.placement,x=(0,t.default)(P),_=v||(x===P||!k?[(0,e.default)(P)]:l(P)),B=[P].concat(_).reduce(function(e,a){return e.concat((0,t.default)(a)===n.auto?(0,i.default)(o,{placement:a,boundary:g,rootBoundary:y,padding:b,flipVariations:k,allowedAutoPlacements:q}):a)},[]),w=o.rects.reference,A=o.rects.popper,O=new Map,V=!0,M=B[0],D=0;D<B.length;D++){var E=B[D],I=(0,t.default)(E),z=(0,u.default)(E)===n.start,C=[n.top,n.bottom].indexOf(I)>=0,F=C?"width":"height",G=(0,r.default)(o,{placement:E,boundary:g,rootBoundary:y,altBoundary:h,padding:b}),H=C?z?n.right:n.left:z?n.bottom:n.top;w[F]>A[F]&&(H=(0,e.default)(H));var J=(0,e.default)(H),K=[];if(c&&K.push(G[I]<=0),m&&K.push(G[H]<=0,G[J]<=0),K.every(function(e){return e})){M=E,V=!1;break}O.set(E,K)}if(V)for(var L=function(e){var t=B.find(function(t){var a=O.get(t);if(a)return a.slice(0,e).every(function(e){return e})});if(t)return M=t,"break"},N=k?3:1;N>0;N--){if("break"===L(N))break}o.placement!==M&&(o.modifiersData[f]._skip=!0,o.placement=M,o.reset=!0)}}var f={name:"flip",enabled:!0,phase:"main",fn:s,requiresIfExists:["offset"],data:{_skip:!1}};exports.default=f;
},{"../utils/getOppositePlacement.js":"hGEW","../utils/getBasePlacement.js":"yLpD","../utils/getOppositeVariationPlacement.js":"B4ze","../utils/detectOverflow.js":"lMQv","../utils/computeAutoPlacement.js":"YB6F","../enums.js":"KwvA","../utils/getVariation.js":"kB4N"}],"T3oQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=r(require("../utils/detectOverflow.js"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function i(t){return[e.top,e.right,e.bottom,e.left].some(function(e){return t[e]>=0})}function n(e){var r=e.state,n=e.name,p=r.rects.reference,s=r.rects.popper,a=r.modifiersData.preventOverflow,f=(0,t.default)(r,{elementContext:"reference"}),d=(0,t.default)(r,{altBoundary:!0}),u=o(f,p),c=o(d,s,a),l=i(u),h=i(c);r.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}var p={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n};exports.default=p;
},{"../enums.js":"KwvA","../utils/detectOverflow.js":"lMQv"}],"YSdh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.distanceAndSkiddingToXY=r,exports.default=void 0;var e=s(require("../utils/getBasePlacement.js")),t=require("../enums.js");function s(e){return e&&e.__esModule?e:{default:e}}function r(s,r,f){var n=(0,e.default)(s),a=[t.left,t.top].indexOf(n)>=0?-1:1,i="function"==typeof f?f(Object.assign({},r,{placement:s})):f,o=i[0],p=i[1];return o=o||0,p=(p||0)*a,[t.left,t.right].indexOf(n)>=0?{x:p,y:o}:{x:o,y:p}}function f(e){var s=e.state,f=e.options,n=e.name,a=f.offset,i=void 0===a?[0,0]:a,o=t.placements.reduce(function(e,t){return e[t]=r(t,s.rects,i),e},{}),p=o[s.placement],u=p.x,d=p.y;null!=s.modifiersData.popperOffsets&&(s.modifiersData.popperOffsets.x+=u,s.modifiersData.popperOffsets.y+=d),s.modifiersData[n]=o}var n={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:f};exports.default=n;
},{"../utils/getBasePlacement.js":"yLpD","../enums.js":"KwvA"}],"KKNB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../utils/computeOffsets.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=t.state,a=t.name;r.modifiersData[a]=(0,e.default)({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var a={name:"popperOffsets",enabled:!0,phase:"read",fn:r,data:{}};exports.default=a;
},{"../utils/computeOffsets.js":"HyU9"}],"lz0w":[function(require,module,exports) {
"use strict";function e(e){return"x"===e?"y":"x"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"T716":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../enums.js"),t=d(require("../utils/getBasePlacement.js")),r=d(require("../utils/getMainAxisFromPlacement.js")),i=d(require("../utils/getAltAxis.js")),a=d(require("../utils/within.js")),s=d(require("../dom-utils/getLayoutRect.js")),o=d(require("../dom-utils/getOffsetParent.js")),u=d(require("../utils/detectOverflow.js")),f=d(require("../utils/getVariation.js")),l=d(require("../utils/getFreshSideObject.js")),n=require("../utils/math.js");function d(e){return e&&e.__esModule?e:{default:e}}function m(d){var m=d.state,p=d.options,c=d.name,g=p.mainAxis,v=void 0===g||g,h=p.altAxis,j=void 0!==h&&h,y=p.boundary,x=p.rootBoundary,q=p.altBoundary,w=p.padding,b=p.tether,O=void 0===b||b,D=p.tetherOffset,A=void 0===D?0:D,B=(0,u.default)(m,{boundary:y,rootBoundary:x,padding:w,altBoundary:q}),P=(0,t.default)(m.placement),_=(0,f.default)(m.placement),M=!_,F=(0,r.default)(P),L=(0,i.default)(F),E=m.modifiersData.popperOffsets,I=m.rects.reference,R=m.rects.popper,S="function"==typeof A?A(Object.assign({},m.rects,{placement:m.placement})):A,T={x:0,y:0};if(E){if(v||j){var V="y"===F?e.top:e.left,k="y"===F?e.bottom:e.right,z="y"===F?"height":"width",C=E[F],G=E[F]+B[V],H=E[F]-B[k],J=O?-R[z]/2:0,K=_===e.start?I[z]:R[z],N=_===e.start?-R[z]:-I[z],Q=m.elements.arrow,U=O&&Q?(0,s.default)(Q):{width:0,height:0},W=m.modifiersData["arrow#persistent"]?m.modifiersData["arrow#persistent"].padding:(0,l.default)(),X=W[V],Y=W[k],Z=(0,a.default)(0,I[z],U[z]),$=M?I[z]/2-J-Z-X-S:K-Z-X-S,ee=M?-I[z]/2+J+Z+Y+S:N+Z+Y+S,te=m.elements.arrow&&(0,o.default)(m.elements.arrow),re=te?"y"===F?te.clientTop||0:te.clientLeft||0:0,ie=m.modifiersData.offset?m.modifiersData.offset[m.placement][F]:0,ae=E[F]+$-ie-re,se=E[F]+ee-ie;if(v){var oe=(0,a.default)(O?(0,n.min)(G,ae):G,C,O?(0,n.max)(H,se):H);E[F]=oe,T[F]=oe-C}if(j){var ue="x"===F?e.top:e.left,fe="x"===F?e.bottom:e.right,le=E[L],ne=le+B[ue],de=le-B[fe],me=(0,a.default)(O?(0,n.min)(ne,ae):ne,le,O?(0,n.max)(de,se):de);E[L]=me,T[L]=me-le}}m.modifiersData[c]=T}}var p={name:"preventOverflow",enabled:!0,phase:"main",fn:m,requiresIfExists:["offset"]};exports.default=p;
},{"../enums.js":"KwvA","../utils/getBasePlacement.js":"yLpD","../utils/getMainAxisFromPlacement.js":"w8hZ","../utils/getAltAxis.js":"lz0w","../utils/within.js":"bTtH","../dom-utils/getLayoutRect.js":"bgU0","../dom-utils/getOffsetParent.js":"Mnay","../utils/detectOverflow.js":"lMQv","../utils/getVariation.js":"kB4N","../utils/getFreshSideObject.js":"R9OA","../utils/math.js":"oQre"}],"afdv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"applyStyles",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"arrow",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"computeStyles",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"eventListeners",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"flip",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"hide",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"offset",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"popperOffsets",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"preventOverflow",{enumerable:!0,get:function(){return i.default}});var e=p(require("./applyStyles.js")),r=p(require("./arrow.js")),t=p(require("./computeStyles.js")),n=p(require("./eventListeners.js")),u=p(require("./flip.js")),f=p(require("./hide.js")),o=p(require("./offset.js")),s=p(require("./popperOffsets.js")),i=p(require("./preventOverflow.js"));function p(e){return e&&e.__esModule?e:{default:e}}
},{"./applyStyles.js":"pu4Q","./arrow.js":"T3Ag","./computeStyles.js":"p5kV","./eventListeners.js":"ugN3","./flip.js":"sjJD","./hide.js":"T3oQ","./offset.js":"YSdh","./popperOffsets.js":"KKNB","./preventOverflow.js":"T716"}],"MDXK":[function(require,module,exports) {
"use strict";function e(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"ISrc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=l(require("./getWindowScroll.js")),t=l(require("./getWindow.js")),r=require("./instanceOf.js"),u=l(require("./getHTMLElementScroll.js"));function l(e){return e&&e.__esModule?e:{default:e}}function n(l){return l!==(0,t.default)(l)&&(0,r.isHTMLElement)(l)?(0,u.default)(l):(0,e.default)(l)}
},{"./getWindowScroll.js":"aES8","./getWindow.js":"iP0B","./instanceOf.js":"lOVC","./getHTMLElementScroll.js":"MDXK"}],"At1X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=d;var e=n(require("./getBoundingClientRect.js")),t=n(require("./getNodeScroll.js")),r=n(require("./getNodeName.js")),l=require("./instanceOf.js"),i=n(require("./getWindowScrollBarX.js")),o=n(require("./getDocumentElement.js")),u=n(require("./isScrollParent.js"));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,l=t.height/e.offsetHeight||1;return 1!==r||1!==l}function d(n,d,f){void 0===f&&(f=!1);var c=(0,l.isHTMLElement)(d),a=(0,l.isHTMLElement)(d)&&s(d),g=(0,o.default)(d),h=(0,e.default)(n,a),j={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(c||!c&&!f)&&(("body"!==(0,r.default)(d)||(0,u.default)(g))&&(j=(0,t.default)(d)),(0,l.isHTMLElement)(d)?((p=(0,e.default)(d,!0)).x+=d.clientLeft,p.y+=d.clientTop):g&&(p.x=(0,i.default)(g))),{x:h.left+j.scrollLeft-p.x,y:h.top+j.scrollTop-p.y,width:h.width,height:h.height}}
},{"./getBoundingClientRect.js":"btCD","./getNodeScroll.js":"ISrc","./getNodeName.js":"hqUe","./instanceOf.js":"lOVC","./getWindowScrollBarX.js":"pET8","./getDocumentElement.js":"iOCj","./isScrollParent.js":"T26w"}],"ND1T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("../enums.js");function n(e){var n=new Map,r=new Set,t=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){r.has(e.name)||function e(u){r.add(u.name),[].concat(u.requires||[],u.requiresIfExists||[]).forEach(function(t){if(!r.has(t)){var u=n.get(t);u&&e(u)}}),t.push(u)}(e)}),t}function r(r){var t=n(r);return e.modifierPhases.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}
},{"../enums.js":"KwvA"}],"dSl1":[function(require,module,exports) {
"use strict";function e(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"IW9N":[function(require,module,exports) {
"use strict";function e(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return[].concat(t).reduce(function(e,r){return e.replace(/%s/,r)},e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"xmZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=s;var e=n(require("./format.js")),r=require("../enums.js");function n(e){return e&&e.__esModule?e:{default:e}}var a='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',o='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',i=["name","enabled","phase","fn","effect","requires","options"];function s(n){n.forEach(function(s){Object.keys(s).forEach(function(t){switch(t){case"name":"string"!=typeof s.name&&console.error((0,e.default)(a,String(s.name),'"name"','"string"','"'+String(s.name)+'"'));break;case"enabled":"boolean"!=typeof s.enabled&&console.error((0,e.default)(a,s.name,'"enabled"','"boolean"','"'+String(s.enabled)+'"'));case"phase":r.modifierPhases.indexOf(s.phase)<0&&console.error((0,e.default)(a,s.name,'"phase"',"either "+r.modifierPhases.join(", "),'"'+String(s.phase)+'"'));break;case"fn":"function"!=typeof s.fn&&console.error((0,e.default)(a,s.name,'"fn"','"function"','"'+String(s.fn)+'"'));break;case"effect":"function"!=typeof s.effect&&console.error((0,e.default)(a,s.name,'"effect"','"function"','"'+String(s.fn)+'"'));break;case"requires":Array.isArray(s.requires)||console.error((0,e.default)(a,s.name,'"requires"','"array"','"'+String(s.requires)+'"'));break;case"requiresIfExists":Array.isArray(s.requiresIfExists)||console.error((0,e.default)(a,s.name,'"requiresIfExists"','"array"','"'+String(s.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+s.name+'" modifier, valid properties are '+i.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+t+'" was provided.')}s.requires&&s.requires.forEach(function(r){null==n.find(function(e){return e.name===r})&&console.error((0,e.default)(o,String(s.name),r,r))})})})}
},{"./format.js":"IW9N","../enums.js":"KwvA"}],"bX8X":[function(require,module,exports) {
"use strict";function e(e,t){var r=new Set;return e.filter(function(e){var n=t(e);if(!r.has(n))return r.add(n),!0})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"r9N4":[function(require,module,exports) {
"use strict";function e(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"hLbv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.popperGenerator=b,Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return c.default}}),exports.createPopper=void 0;var e=m(require("./dom-utils/getCompositeRect.js")),t=m(require("./dom-utils/getLayoutRect.js")),r=m(require("./dom-utils/listScrollParents.js")),o=m(require("./dom-utils/getOffsetParent.js")),n=m(require("./dom-utils/getComputedStyle.js")),i=m(require("./utils/orderModifiers.js")),s=m(require("./utils/debounce.js")),u=m(require("./utils/validateModifiers.js")),a=m(require("./utils/uniqueBy.js")),f=m(require("./utils/getBasePlacement.js")),d=m(require("./utils/mergeByName.js")),c=m(require("./utils/detectOverflow.js")),p=require("./dom-utils/instanceOf.js"),l=require("./enums.js");function m(e){return e&&e.__esModule?e:{default:e}}var v="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",j="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",g={placement:"bottom",modifiers:[],strategy:"absolute"};function y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function b(n){void 0===n&&(n={});var u=n,a=u.defaultModifiers,f=void 0===a?[]:a,c=u.defaultOptions,l=void 0===c?g:c;return function(n,u,a){void 0===a&&(a=l);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},g,l),modifiersData:{},elements:{reference:n,popper:u},attributes:{},styles:{}},m=[],v=!1,j={state:c,setOptions:function(e){b(),c.options=Object.assign({},l,c.options,e),c.scrollParents={reference:(0,p.isElement)(n)?(0,r.default)(n):n.contextElement?(0,r.default)(n.contextElement):[],popper:(0,r.default)(u)};var t=(0,i.default)((0,d.default)([].concat(f,c.options.modifiers)));return c.orderedModifiers=t.filter(function(e){return e.enabled}),c.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,o=void 0===r?{}:r,n=e.effect;if("function"==typeof n){var i=n({state:c,name:t,instance:j,options:o});m.push(i||function(){})}}),j.update()},forceUpdate:function(){if(!v){var r=c.elements,n=r.reference,i=r.popper;if(y(n,i)){c.rects={reference:(0,e.default)(n,(0,o.default)(i),"fixed"===c.options.strategy),popper:(0,t.default)(i)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<c.orderedModifiers.length;s++)if(!0!==c.reset){var u=c.orderedModifiers[s],a=u.fn,f=u.options,d=void 0===f?{}:f,p=u.name;"function"==typeof a&&(c=a({state:c,options:d,name:p,instance:j})||c)}else c.reset=!1,s=-1}}},update:(0,s.default)(function(){return new Promise(function(e){j.forceUpdate(),e(c)})}),destroy:function(){b(),v=!0}};if(!y(n,u))return j;function b(){m.forEach(function(e){return e()}),m=[]}return j.setOptions(a).then(function(e){!v&&a.onFirstUpdate&&a.onFirstUpdate(e)}),j}}var q=b();exports.createPopper=q;
},{"./dom-utils/getCompositeRect.js":"At1X","./dom-utils/getLayoutRect.js":"bgU0","./dom-utils/listScrollParents.js":"inBY","./dom-utils/getOffsetParent.js":"Mnay","./dom-utils/getComputedStyle.js":"ro5C","./utils/orderModifiers.js":"ND1T","./utils/debounce.js":"dSl1","./utils/validateModifiers.js":"xmZK","./utils/uniqueBy.js":"bX8X","./utils/getBasePlacement.js":"yLpD","./utils/mergeByName.js":"r9N4","./utils/detectOverflow.js":"lMQv","./dom-utils/instanceOf.js":"lOVC","./enums.js":"KwvA"}],"DvPc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return e.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return e.detectOverflow}}),exports.defaultModifiers=exports.createPopper=void 0;var e=require("./createPopper.js"),r=s(require("./modifiers/eventListeners.js")),t=s(require("./modifiers/popperOffsets.js")),o=s(require("./modifiers/computeStyles.js")),p=s(require("./modifiers/applyStyles.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i=[r.default,t.default,o.default,p.default];exports.defaultModifiers=i;var u=(0,e.popperGenerator)({defaultModifiers:i});exports.createPopper=u;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q"}],"xbYU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={createPopper:!0,defaultModifiers:!0,popperGenerator:!0,detectOverflow:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return r.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}}),exports.defaultModifiers=exports.createPopper=void 0;var r=require("./createPopper.js"),t=c(require("./modifiers/eventListeners.js")),o=c(require("./modifiers/popperOffsets.js")),i=c(require("./modifiers/computeStyles.js")),p=c(require("./modifiers/applyStyles.js")),s=c(require("./modifiers/offset.js")),f=c(require("./modifiers/flip.js")),u=c(require("./modifiers/preventOverflow.js")),d=c(require("./modifiers/arrow.js")),a=c(require("./modifiers/hide.js")),n=require("./popper-lite.js"),l=require("./modifiers/index.js");function c(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===l[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var j=[t.default,o.default,i.default,p.default,s.default,f.default,u.default,d.default,a.default];exports.defaultModifiers=j;var m=(0,r.popperGenerator)({defaultModifiers:j});exports.createPopper=m;
},{"./createPopper.js":"hLbv","./modifiers/eventListeners.js":"ugN3","./modifiers/popperOffsets.js":"KKNB","./modifiers/computeStyles.js":"p5kV","./modifiers/applyStyles.js":"pu4Q","./modifiers/offset.js":"YSdh","./modifiers/flip.js":"sjJD","./modifiers/preventOverflow.js":"T716","./modifiers/arrow.js":"T3Ag","./modifiers/hide.js":"T3oQ","./popper-lite.js":"DvPc","./modifiers/index.js":"afdv"}],"S1OH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={popperGenerator:!0,detectOverflow:!0,createPopperBase:!0,createPopper:!0,createPopperLite:!0};Object.defineProperty(exports,"popperGenerator",{enumerable:!0,get:function(){return o.popperGenerator}}),Object.defineProperty(exports,"detectOverflow",{enumerable:!0,get:function(){return o.detectOverflow}}),Object.defineProperty(exports,"createPopperBase",{enumerable:!0,get:function(){return o.createPopper}}),Object.defineProperty(exports,"createPopper",{enumerable:!0,get:function(){return p.createPopper}}),Object.defineProperty(exports,"createPopperLite",{enumerable:!0,get:function(){return n.createPopper}});var r=require("./enums.js");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(e,t)||t in exports&&exports[t]===r[t]||Object.defineProperty(exports,t,{enumerable:!0,get:function(){return r[t]}}))});var t=require("./modifiers/index.js");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var o=require("./createPopper.js"),p=require("./popper.js"),n=require("./popper-lite.js");
},{"./enums.js":"KwvA","./modifiers/index.js":"afdv","./createPopper.js":"hLbv","./popper.js":"xbYU","./popper-lite.js":"DvPc"}],"diHl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLinkHotspotElement=o;var t=require("@popperjs/core"),e=require("./helpers.js");function o(o){var s=document.createElement("div");s.classList.add("hotspot"),s.classList.add("link-hotspot"),o.class&&s.classList.add(o.class);var r=document.createElement("img");r.src="./SVG/arrow-up-circle-fill.svg",r.classList.add("link-hotspot-icon");for(var a=["-ms-transform","-webkit-transform","transform"],n=0;n<a.length;n++){var i=a[n];r.style[i]="rotate("+o.rotation+"rad)"}s.addEventListener("click",function(){(0,e.switchScene)((0,e.findSceneById)(o.target))});var c=document.createElement("div");c.classList.add("hotspot-tooltip"),c.classList.add("link-hotspot-tooltip"),c.innerHTML=(0,e.findSceneDataById)(o.target).name,c.setAttribute("role","tooltip"),c.setAttribute("id","tooltip-LH");var d=(0,t.createPopper)(r,c,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,0]}}]});function l(){c.setAttribute("data-show",""),d.update()}function p(){c.removeAttribute("data-show")}return["mouseenter","focus"].forEach(function(t){s.addEventListener(t,l)}),["mouseleave","blur"].forEach(function(t){s.addEventListener(t,p)}),s.appendChild(r),s.appendChild(c),s}
},{"@popperjs/core":"S1OH","./helpers.js":"lTk1"}],"QsAt":[function(require,module,exports) {
"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=a();return function(){var n,o=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return r(this,n)}}function r(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return f(t)||l(t,e)||h(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(c){s=!0,r=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}}function f(t){if(Array.isArray(t))return t}function p(t){return m(t)||v(t)||h(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function v(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function m(t){if(Array.isArray(t))return g(t)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var O=function(t){return $(t)&&!E(t)};function $(t){return!!t&&"object"===x(t)}function E(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||j(t)}var k="function"==typeof Symbol&&Symbol.for,S=k?Symbol.for("react.element"):60103;function j(t){return t.$$typeof===S}function T(t){return Array.isArray(t)?[]:{}}function I(t,e){return!1!==e.clone&&e.isMergeableObject(t)?D(T(t),t,e):t}function _(t,e,n){return t.concat(e).map(function(t){return I(t,n)})}function A(t,e){if(!e.customMerge)return D;var n=e.customMerge(t);return"function"==typeof n?n:D}function P(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function M(t){return Object.keys(t).concat(P(t))}function L(t,e){try{return e in t}catch(n){return!1}}function C(t,e){return L(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function B(t,e,n){var o={};return n.isMergeableObject(t)&&M(t).forEach(function(e){o[e]=I(t[e],n)}),M(e).forEach(function(r){C(t,r)||(L(t,r)&&n.isMergeableObject(e[r])?o[r]=A(r,n)(t[r],e[r],n):o[r]=I(e[r],n))}),o}function D(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||_,n.isMergeableObject=n.isMergeableObject||O,n.cloneUnlessOtherwiseSpecified=I;var o=Array.isArray(e);return o===Array.isArray(t)?o?n.arrayMerge(t,e,n):B(t,e,n):I(e,n)}D.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return D(t,n,e)},{})};var H=D,R=H;function W(t){return t instanceof Element}function N(t){return t instanceof HTMLElement}function F(t){return"function"==typeof t}function q(t){return"string"==typeof t}function V(t){return void 0===t}var Y=function(){function t(){y(this,t)}return w(t,[{key:"on",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return V(this.bindings)&&(this.bindings={}),V(this.bindings[t])&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:o}),this}},{key:"once",value:function(t,e,n){return this.on(t,e,n,!0)}},{key:"off",value:function(t,e){var n=this;return V(this.bindings)||V(this.bindings[t])?this:(V(e)?delete this.bindings[t]:this.bindings[t].forEach(function(o,r){o.handler===e&&n.bindings[t].splice(r,1)}),this)}},{key:"trigger",value:function(t){for(var e=this,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return!V(this.bindings)&&this.bindings[t]&&this.bindings[t].forEach(function(n,r){var i=n.ctx,a=n.handler,s=n.once,c=i||e;a.apply(c,o),s&&e.bindings[t].splice(r,1)}),this}}]),t}();function X(t){for(var e=Object.getOwnPropertyNames(t.constructor.prototype),n=0;n<e.length;n++){var o=e[n],r=t[o];"constructor"!==o&&"function"==typeof r&&(t[o]=r.bind(t))}return t}function U(t,e){return function(n){if(e.isOpen()){var o=e.el&&n.currentTarget===e.el;(!V(t)&&n.currentTarget.matches(t)||o)&&e.tour.next()}}}function z(t){var e=t.options.advanceOn||{},n=e.event,o=e.selector;if(!n)return console.error("advanceOn was defined, but no event name was passed.");var r,i=U(o,t);try{r=document.querySelector(o)}catch(a){}if(!V(o)&&!r)return console.error("No element was found for the selector supplied to advanceOn: ".concat(o));r?(r.addEventListener(n,i),t.on("destroy",function(){return r.removeEventListener(n,i)})):(document.body.addEventListener(n,i,!0),t.on("destroy",function(){return document.body.removeEventListener(n,i,!0)}))}var Z="top",K="bottom",G="right",J="left",Q="auto",tt=[Z,K,G,J],et="start",nt="end",ot="clippingParents",rt="viewport",it="popper",at="reference",st=tt.reduce(function(t,e){return t.concat([e+"-"+et,e+"-"+nt])},[]),ct=[].concat(tt,[Q]).reduce(function(t,e){return t.concat([e,e+"-"+et,e+"-"+nt])},[]),ut="beforeRead",lt="read",ft="afterRead",pt="beforeMain",dt="main",ht="afterMain",vt="beforeWrite",mt="write",gt="afterWrite",yt=[ut,lt,ft,pt,dt,ht,vt,mt,gt];function bt(t){return t?(t.nodeName||"").toLowerCase():null}function wt(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xt(t){return t instanceof wt(t).Element||t instanceof Element}function Ot(t){return t instanceof wt(t).HTMLElement||t instanceof HTMLElement}function $t(t){return"undefined"!=typeof ShadowRoot&&(t instanceof wt(t).ShadowRoot||t instanceof ShadowRoot)}function Et(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];Ot(r)&&bt(r)&&(Object.assign(r.style,n),Object.keys(o).forEach(function(t){var e=o[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)}))})}function kt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var o=e.elements[t],r=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});Ot(o)&&bt(o)&&(Object.assign(o.style,i),Object.keys(r).forEach(function(t){o.removeAttribute(t)}))})}}var St={name:"applyStyles",enabled:!0,phase:"write",fn:Et,effect:kt,requires:["computeStyles"]};function jt(t){return t.split("-")[0]}function Tt(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function It(t){var e=Tt(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function _t(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&$t(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function At(t){return wt(t).getComputedStyle(t)}function Pt(t){return["table","td","th"].indexOf(bt(t))>=0}function Mt(t){return((xt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Lt(t){return"html"===bt(t)?t:t.assignedSlot||t.parentNode||($t(t)?t.host:null)||Mt(t)}function Ct(t){return Ot(t)&&"fixed"!==At(t).position?t.offsetParent:null}function Bt(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ot(t)&&"fixed"===At(t).position)return null;for(var n=Lt(t);Ot(n)&&["html","body"].indexOf(bt(n))<0;){var o=At(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}function Dt(t){for(var e=wt(t),n=Ct(t);n&&Pt(n)&&"static"===At(n).position;)n=Ct(n);return n&&("html"===bt(n)||"body"===bt(n)&&"static"===At(n).position)?e:n||Bt(t)||e}function Ht(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var Rt=Math.max,Wt=Math.min,Nt=Math.round;function Ft(t,e,n){return Rt(t,Wt(e,n))}function qt(){return{top:0,right:0,bottom:0,left:0}}function Vt(t){return Object.assign({},qt(),t)}function Yt(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}var Xt=function(t,e){return Vt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Yt(t,tt))};function Ut(t){var e,n=t.state,o=t.name,r=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=jt(n.placement),c=Ht(s),u=[J,G].indexOf(s)>=0?"height":"width";if(i&&a){var l=Xt(r.padding,n),f=It(i),p="y"===c?Z:J,d="y"===c?K:G,h=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],v=a[c]-n.rects.reference[c],m=Dt(i),g=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,y=h/2-v/2,b=l[p],w=g-f[u]-l[d],x=g/2-f[u]/2+y,O=Ft(b,x,w),$=c;n.modifiersData[o]=((e={})[$]=O,e.centerOffset=O-x,e)}}function zt(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&_t(e.elements.popper,o)&&(e.elements.arrow=o)}var Zt={name:"arrow",enabled:!0,phase:"main",fn:Ut,effect:zt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Kt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gt(t){var e=t.x,n=t.y,o=window.devicePixelRatio||1;return{x:Nt(Nt(e*o)/o)||0,y:Nt(Nt(n*o)/o)||0}}function Jt(t){var e,n=t.popper,o=t.popperRect,r=t.placement,i=t.offsets,a=t.position,s=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,l=!0===u?Gt(i):"function"==typeof u?u(i):i,f=l.x,p=void 0===f?0:f,d=l.y,h=void 0===d?0:d,v=i.hasOwnProperty("x"),m=i.hasOwnProperty("y"),g=J,y=Z,b=window;if(c){var w=Dt(n),x="clientHeight",O="clientWidth";w===wt(n)&&"static"!==At(w=Mt(n)).position&&(x="scrollHeight",O="scrollWidth"),w=w,r===Z&&(y=K,h-=w[x]-o.height,h*=s?1:-1),r===J&&(g=G,p-=w[O]-o.width,p*=s?1:-1)}var $,E=Object.assign({position:a},c&&Kt);return s?Object.assign({},E,(($={})[y]=m?"0":"",$[g]=v?"0":"",$.transform=(b.devicePixelRatio||1)<2?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",$)):Object.assign({},E,((e={})[y]=m?h+"px":"",e[g]=v?p+"px":"",e.transform="",e))}function Qt(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,u={placement:jt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Jt(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Jt(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qt,data:{}},ee={passive:!0};function ne(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,i=void 0===r||r,a=o.resize,s=void 0===a||a,c=wt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(t){t.addEventListener("scroll",n.update,ee)}),s&&c.addEventListener("resize",n.update,ee),function(){i&&u.forEach(function(t){t.removeEventListener("scroll",n.update,ee)}),s&&c.removeEventListener("resize",n.update,ee)}}var oe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ne,data:{}},re={left:"right",right:"left",bottom:"top",top:"bottom"};function ie(t){return t.replace(/left|right|bottom|top/g,function(t){return re[t]})}var ae={start:"end",end:"start"};function se(t){return t.replace(/start|end/g,function(t){return ae[t]})}function ce(t){var e=wt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ue(t){return Tt(Mt(t)).left+ce(t).scrollLeft}function le(t){var e=wt(t),n=Mt(t),o=e.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,s=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,s=o.offsetTop)),{width:r,height:i,x:a+ue(t),y:s}}function fe(t){var e,n=Mt(t),o=ce(t),r=null==(e=t.ownerDocument)?void 0:e.body,i=Rt(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Rt(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-o.scrollLeft+ue(t),c=-o.scrollTop;return"rtl"===At(r||n).direction&&(s+=Rt(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}function pe(t){var e=At(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function de(t){return["html","body","#document"].indexOf(bt(t))>=0?t.ownerDocument.body:Ot(t)&&pe(t)?t:de(Lt(t))}function he(t,e){var n;void 0===e&&(e=[]);var o=de(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),i=wt(o),a=r?[i].concat(i.visualViewport||[],pe(o)?o:[]):o,s=e.concat(a);return r?s:s.concat(he(Lt(a)))}function ve(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function me(t){var e=Tt(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function ge(t,e){return e===rt?ve(le(t)):Ot(e)?me(e):ve(fe(Mt(t)))}function ye(t){var e=he(Lt(t)),n=["absolute","fixed"].indexOf(At(t).position)>=0&&Ot(t)?Dt(t):t;return xt(n)?e.filter(function(t){return xt(t)&&_t(t,n)&&"body"!==bt(t)}):[]}function be(t,e,n){var o="clippingParents"===e?ye(t):[].concat(e),r=[].concat(o,[n]),i=r[0],a=r.reduce(function(e,n){var o=ge(t,n);return e.top=Rt(o.top,e.top),e.right=Wt(o.right,e.right),e.bottom=Wt(o.bottom,e.bottom),e.left=Rt(o.left,e.left),e},ge(t,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function we(t){return t.split("-")[1]}function xe(t){var e,n=t.reference,o=t.element,r=t.placement,i=r?jt(r):null,a=r?we(r):null,s=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case Z:e={x:s,y:n.y-o.height};break;case K:e={x:s,y:n.y+n.height};break;case G:e={x:n.x+n.width,y:c};break;case J:e={x:n.x-o.width,y:c};break;default:e={x:n.x,y:n.y}}var u=i?Ht(i):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case et:e[u]=e[u]-(n[l]/2-o[l]/2);break;case nt:e[u]=e[u]+(n[l]/2-o[l]/2)}}return e}function Oe(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=void 0===o?t.placement:o,i=n.boundary,a=void 0===i?ot:i,s=n.rootBoundary,c=void 0===s?rt:s,u=n.elementContext,l=void 0===u?it:u,f=n.altBoundary,p=void 0!==f&&f,d=n.padding,h=void 0===d?0:d,v=Vt("number"!=typeof h?h:Yt(h,tt)),m=l===it?at:it,g=t.elements.reference,y=t.rects.popper,b=t.elements[p?m:l],w=be(xt(b)?b:b.contextElement||Mt(t.elements.popper),a,c),x=Tt(g),O=xe({reference:x,element:y,strategy:"absolute",placement:r}),$=ve(Object.assign({},y,O)),E=l===it?$:x,k={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},S=t.modifiersData.offset;if(l===it&&S){var j=S[r];Object.keys(k).forEach(function(t){var e=[G,K].indexOf(t)>=0?1:-1,n=[Z,K].indexOf(t)>=0?"y":"x";k[t]+=j[n]*e})}return k}function $e(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?ct:c,l=we(o),f=l?s?st:st.filter(function(t){return we(t)===l}):tt,p=f.filter(function(t){return u.indexOf(t)>=0});0===p.length&&(p=f);var d=p.reduce(function(e,n){return e[n]=Oe(t,{placement:n,boundary:r,rootBoundary:i,padding:a})[jt(n)],e},{});return Object.keys(d).sort(function(t,e){return d[t]-d[e]})}function Ee(t){if(jt(t)===Q)return[];var e=ie(t);return[se(t),e,se(e)]}function ke(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,f=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,h=void 0===d||d,v=n.allowedAutoPlacements,m=e.options.placement,g=jt(m),y=c||(g===m||!h?[ie(m)]:Ee(m)),b=[m].concat(y).reduce(function(t,n){return t.concat(jt(n)===Q?$e(e,{placement:n,boundary:l,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:v}):n)},[]),w=e.rects.reference,x=e.rects.popper,O=new Map,$=!0,E=b[0],k=0;k<b.length;k++){var S=b[k],j=jt(S),T=we(S)===et,I=[Z,K].indexOf(j)>=0,_=I?"width":"height",A=Oe(e,{placement:S,boundary:l,rootBoundary:f,altBoundary:p,padding:u}),P=I?T?G:J:T?K:Z;w[_]>x[_]&&(P=ie(P));var M=ie(P),L=[];if(i&&L.push(A[j]<=0),s&&L.push(A[P]<=0,A[M]<=0),L.every(function(t){return t})){E=S,$=!1;break}O.set(S,L)}if($)for(var C=function(t){var e=b.find(function(e){var n=O.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return E=e,"break"},B=h?3:1;B>0;B--){if("break"===C(B))break}e.placement!==E&&(e.modifiersData[o]._skip=!0,e.placement=E,e.reset=!0)}}var Se={name:"flip",enabled:!0,phase:"main",fn:ke,requiresIfExists:["offset"],data:{_skip:!1}};function je(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Te(t){return[Z,G,K,J].some(function(e){return t[e]>=0})}function Ie(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=Oe(e,{elementContext:"reference"}),s=Oe(e,{altBoundary:!0}),c=je(a,o),u=je(s,r,i),l=Te(c),f=Te(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}var _e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ie};function Ae(t,e,n){var o=jt(t),r=[J,Z].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[J,G].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}function Pe(t){var e=t.state,n=t.options,o=t.name,r=n.offset,i=void 0===r?[0,0]:r,a=ct.reduce(function(t,n){return t[n]=Ae(n,e.rects,i),t},{}),s=a[e.placement],c=s.x,u=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[o]=a}var Me={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Pe};function Le(t){var e=t.state,n=t.name;e.modifiersData[n]=xe({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Ce={name:"popperOffsets",enabled:!0,phase:"read",fn:Le,data:{}};function Be(t){return"x"===t?"y":"x"}function De(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,f=n.padding,p=n.tether,d=void 0===p||p,h=n.tetherOffset,v=void 0===h?0:h,m=Oe(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:l}),g=jt(e.placement),y=we(e.placement),b=!y,w=Ht(g),x=Be(w),O=e.modifiersData.popperOffsets,$=e.rects.reference,E=e.rects.popper,k="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,S={x:0,y:0};if(O){if(i||s){var j="y"===w?Z:J,T="y"===w?K:G,I="y"===w?"height":"width",_=O[w],A=O[w]+m[j],P=O[w]-m[T],M=d?-E[I]/2:0,L=y===et?$[I]:E[I],C=y===et?-E[I]:-$[I],B=e.elements.arrow,D=d&&B?It(B):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qt(),R=H[j],W=H[T],N=Ft(0,$[I],D[I]),F=b?$[I]/2-M-N-R-k:L-N-R-k,q=b?-$[I]/2+M+N+W+k:C+N+W+k,V=e.elements.arrow&&Dt(e.elements.arrow),Y=V?"y"===w?V.clientTop||0:V.clientLeft||0:0,X=e.modifiersData.offset?e.modifiersData.offset[e.placement][w]:0,U=O[w]+F-X-Y,z=O[w]+q-X;if(i){var Q=Ft(d?Wt(A,U):A,_,d?Rt(P,z):P);O[w]=Q,S[w]=Q-_}if(s){var tt="x"===w?Z:J,nt="x"===w?K:G,ot=O[x],rt=ot+m[tt],it=ot-m[nt],at=Ft(d?Wt(rt,U):rt,ot,d?Rt(it,z):it);O[x]=at,S[x]=at-ot}}e.modifiersData[o]=S}}var He={name:"preventOverflow",enabled:!0,phase:"main",fn:De,requiresIfExists:["offset"]};function Re(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function We(t){return t!==wt(t)&&Ot(t)?Re(t):ce(t)}function Ne(t,e,n){void 0===n&&(n=!1);var o=Mt(e),r=Tt(t),i=Ot(e),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(i||!i&&!n)&&(("body"!==bt(e)||pe(o))&&(a=We(e)),Ot(e)?((s=Tt(e)).x+=e.clientLeft,s.y+=e.clientTop):o&&(s.x=ue(o))),{x:r.left+a.scrollLeft-s.x,y:r.top+a.scrollTop-s.y,width:r.width,height:r.height}}function Fe(t){var e=new Map,n=new Set,o=[];return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||function t(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(o){if(!n.has(o)){var r=e.get(o);r&&t(r)}}),o.push(r)}(t)}),o}function qe(t){var e=Fe(t);return yt.reduce(function(t,n){return t.concat(e.filter(function(t){return t.phase===n}))},[])}function Ve(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ye(t){var e=t.reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t},{});return Object.keys(e).map(function(t){return e[t]})}var Xe={placement:"bottom",modifiers:[],strategy:"absolute"};function Ue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function ze(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,r=e.defaultOptions,i=void 0===r?Xe:r;return function(t,e,n){void 0===n&&(n=i);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xe,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1,c={state:r,setOptions:function(n){u(),r.options=Object.assign({},i,r.options,n),r.scrollParents={reference:xt(t)?he(t):t.contextElement?he(t.contextElement):[],popper:he(e)};var s=qe(Ye([].concat(o,r.options.modifiers)));return r.orderedModifiers=s.filter(function(t){return t.enabled}),r.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var s=i({state:r,name:e,instance:c,options:o});a.push(s||function(){})}}),c.update()},forceUpdate:function(){if(!s){var t=r.elements,e=t.reference,n=t.popper;if(Ue(e,n)){r.rects={reference:Ne(e,Dt(n),"fixed"===r.options.strategy),popper:It(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(t){return r.modifiersData[t.name]=Object.assign({},t.data)});for(var o=0;o<r.orderedModifiers.length;o++)if(!0!==r.reset){var i=r.orderedModifiers[o],a=i.fn,u=i.options,l=void 0===u?{}:u,f=i.name;"function"==typeof a&&(r=a({state:r,options:l,name:f,instance:c})||r)}else r.reset=!1,o=-1}}},update:Ve(function(){return new Promise(function(t){c.forceUpdate(),t(r)})}),destroy:function(){u(),s=!0}};if(!Ue(t,e))return c;function u(){a.forEach(function(t){return t()}),a=[]}return c.setOptions(n).then(function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)}),c}}var Ze,Ke=[oe,Ce,te,St,Me,Se,He,Zt,_e],Ge=ze({defaultModifiers:Ke});function Je(){return(Je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function Qe(){return[{name:"applyStyles",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){if("popper"===t){var n=e.attributes[t]||{},o=e.elements[t];Object.assign(o.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),Object.keys(n).forEach(function(t){var e=n[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})}})}},{name:"computeStyles",options:{adaptive:!1}}]}function tn(t){var e=Qe(),n={placement:"top",strategy:"fixed",modifiers:[{name:"focusAfterRender",enabled:!0,phase:"afterWrite",fn:function(){setTimeout(function(){t.el&&t.el.focus()},300)}}]};return n=Je({},n,{modifiers:Array.from(new Set([].concat(p(n.modifiers),p(e))))})}function en(t){return q(t)&&""!==t?"-"!==t.charAt(t.length-1)?"".concat(t,"-"):t:""}function nn(t){var e=t.options.attachTo||{},n=Object.assign({},e);if(q(e.element)){try{n.element=document.querySelector(e.element)}catch(o){}n.element||console.error("The element for this Shepherd step was not found ".concat(e.element))}return n}function on(t){t.tooltip&&t.tooltip.destroy();var e=nn(t),n=e.element,o=an(e,t);t.isCentered()&&(n=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered"));return t.tooltip=Ge(n,t.el,o),t.target=e.element,o}function rn(){var t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}function an(t,e){var n={modifiers:[{name:"preventOverflow",options:{altAxis:!0,tether:!1}},{name:"focusAfterRender",enabled:!0,phase:"afterWrite",fn:function(){setTimeout(function(){e.el&&e.el.focus()},300)}}],strategy:"absolute"};e.isCentered()?n=tn(e):n.placement=t.on;var o=e.tour&&e.tour.options&&e.tour.options.defaultStepOptions;return o&&(n=sn(o,n)),n=sn(e.options,n)}function sn(t,e){if(t.popperOptions){var n=Object.assign({},e,t.popperOptions);if(t.popperOptions.modifiers&&t.popperOptions.modifiers.length>0){var o=t.popperOptions.modifiers.map(function(t){return t.name}),r=e.modifiers.filter(function(t){return!o.includes(t.name)});n.modifiers=Array.from(new Set([].concat(p(r),p(t.popperOptions.modifiers))))}return n}return e}function cn(){}function un(t,e){for(var n in e)t[n]=e[n];return t}function ln(t){return t()}function fn(){return Object.create(null)}function pn(t){t.forEach(ln)}function dn(t){return"function"==typeof t}function hn(t,e){return t!=t?e==e:t!==e||t&&"object"===x(t)||"function"==typeof t}function vn(t){return 0===Object.keys(t).length}function mn(t,e){t.appendChild(e)}function gn(t,e,n){t.insertBefore(e,n||null)}function yn(t){t.parentNode.removeChild(t)}function bn(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function wn(t){return document.createElement(t)}function xn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function On(t){return document.createTextNode(t)}function $n(){return On(" ")}function En(){return On("")}function kn(t,e,n,o){return t.addEventListener(e,n,o),function(){return t.removeEventListener(e,n,o)}}function Sn(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jn(t,e){var n=Object.getOwnPropertyDescriptors(t.__proto__);for(var o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:Sn(t,o,e[o])}function Tn(t){return Array.from(t.childNodes)}function In(t,e,n){t.classList[n?"add":"remove"](e)}function _n(t){Ze=t}function An(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function Pn(t){An().$$.on_mount.push(t)}function Mn(t){An().$$.after_update.push(t)}var Ln=[],Cn=[],Bn=[],Dn=[],Hn=Promise.resolve(),Rn=!1;function Wn(){Rn||(Rn=!0,Hn.then(Vn))}function Nn(t){Bn.push(t)}var Fn=!1,qn=new Set;function Vn(){if(!Fn){Fn=!0;do{for(var t=0;t<Ln.length;t+=1){var e=Ln[t];_n(e),Yn(e.$$)}for(_n(null),Ln.length=0;Cn.length;)Cn.pop()();for(var n=0;n<Bn.length;n+=1){var o=Bn[n];qn.has(o)||(qn.add(o),o())}Bn.length=0}while(Ln.length);for(;Dn.length;)Dn.pop()();Rn=!1,Fn=!1,qn.clear()}}function Yn(t){if(null!==t.fragment){t.update(),pn(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Nn)}}var Xn,Un=new Set;function zn(){Xn={r:0,c:[],p:Xn}}function Zn(){Xn.r||pn(Xn.c),Xn=Xn.p}function Kn(t,e){t&&t.i&&(Un.delete(t),t.i(e))}function Gn(t,e,n,o){if(t&&t.o){if(Un.has(t))return;Un.add(t),Xn.c.push(function(){Un.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function Jn(t,e){for(var n={},o={},r={$$scope:1},i=t.length;i--;){var a=t[i],s=e[i];if(s){for(var c in a)c in s||(o[c]=1);for(var u in s)r[u]||(n[u]=s[u],r[u]=1);t[i]=s}else for(var l in a)r[l]=1}for(var f in o)f in n||(n[f]=void 0);return n}function Qn(t){t&&t.c()}function to(t,e,n,o){var r=t.$$,i=r.fragment,a=r.on_mount,s=r.on_destroy,c=r.after_update;i&&i.m(e,n),o||Nn(function(){var e=a.map(ln).filter(dn);s?s.push.apply(s,p(e)):pn(e),t.$$.on_mount=[]}),c.forEach(Nn)}function eo(t,e){var n=t.$$;null!==n.fragment&&(pn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function no(t,e){-1===t.$$.dirty[0]&&(Ln.push(t),Wn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oo(t,e,n,o,r,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[-1],s=Ze;_n(t);var c=t.$$={fragment:null,ctx:null,props:i,update:cn,not_equal:r,bound:fn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:e.context||[]),callbacks:fn(),dirty:a,skip_bound:!1},u=!1;if(c.ctx=n?n(t,e.props||{},function(e,n){var o=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&r(c.ctx[e],c.ctx[e]=o)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](o),u&&no(t,e)),n}):[],c.update(),u=!0,pn(c.before_update),c.fragment=!!o&&o(c.ctx),e.target){if(e.hydrate){var l=Tn(e.target);c.fragment&&c.fragment.l(l),l.forEach(yn)}else c.fragment&&c.fragment.c();e.intro&&Kn(t.$$.fragment),to(t,e.target,e.anchor,e.customElement),Vn()}_n(s)}var ro=function(){function t(){y(this,t)}return w(t,[{key:"$destroy",value:function(){eo(this,1),this.$destroy=cn}},{key:"$on",value:function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){this.$$set&&!vn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}]),t}();function io(t){var e,n,o,r,i;return{c:function(){Sn(e=wn("button"),"aria-label",n=t[3]?t[3]:null),Sn(e,"class",o="".concat(t[1]||""," shepherd-button ").concat(t[4]?"shepherd-button-secondary":"")),e.disabled=t[2],Sn(e,"tabindex","0")},m:function(n,o){gn(n,e,o),e.innerHTML=t[5],r||(i=kn(e,"click",function(){dn(t[0])&&t[0].apply(this,arguments)}),r=!0)},p:function(r,i){var a=c(i,1)[0];t=r,32&a&&(e.innerHTML=t[5]),8&a&&n!==(n=t[3]?t[3]:null)&&Sn(e,"aria-label",n),18&a&&o!==(o="".concat(t[1]||""," shepherd-button ").concat(t[4]?"shepherd-button-secondary":""))&&Sn(e,"class",o),4&a&&(e.disabled=t[2])},i:cn,o:cn,d:function(t){t&&yn(e),r=!1,i()}}}function ao(t,e,n){var o,r,i,a,s,c,u=e.config,l=e.step;return t.$$set=function(t){"config"in t&&n(6,u=t.config),"step"in t&&n(7,l=t.step)},t.$$.update=function(){192&t.$$.dirty&&(n(0,o=u.action?u.action.bind(l.tour):null),n(1,r=u.classes),n(2,i=!!u.disabled&&function(t){return F(t)?t.call(l):t}(u.disabled)),n(3,a=u.label),n(4,s=u.secondary),n(5,c=u.text))},[o,r,i,a,s,c,u,l]}var so=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,ao,io,hn,{config:6,step:7}),e}return r}();function co(t,e,n){var o=t.slice();return o[2]=e[n],o}function uo(t){for(var e,n,o=t[1],r=[],i=0;i<o.length;i+=1)r[i]=lo(co(t,o,i));var a=function(t){return Gn(r[t],1,1,function(){r[t]=null})};return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=En()},m:function(t,o){for(var i=0;i<r.length;i+=1)r[i].m(t,o);gn(t,e,o),n=!0},p:function(t,n){if(3&n){var i;for(o=t[1],i=0;i<o.length;i+=1){var s=co(t,o,i);r[i]?(r[i].p(s,n),Kn(r[i],1)):(r[i]=lo(s),r[i].c(),Kn(r[i],1),r[i].m(e.parentNode,e))}for(zn(),i=o.length;i<r.length;i+=1)a(i);Zn()}},i:function(t){if(!n){for(var e=0;e<o.length;e+=1)Kn(r[e]);n=!0}},o:function(t){r=r.filter(Boolean);for(var e=0;e<r.length;e+=1)Gn(r[e]);n=!1},d:function(t){bn(r,t),t&&yn(e)}}}function lo(t){var e,n;return e=new so({props:{config:t[2],step:t[0]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};2&n&&(o.config=t[2]),1&n&&(o.step=t[0]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function fo(t){var e,n,o=t[1]&&uo(t);return{c:function(){e=wn("footer"),o&&o.c(),Sn(e,"class","shepherd-footer")},m:function(t,r){gn(t,e,r),o&&o.m(e,null),n=!0},p:function(t,n){var r=c(n,1)[0];t[1]?o?(o.p(t,r),2&r&&Kn(o,1)):((o=uo(t)).c(),Kn(o,1),o.m(e,null)):o&&(zn(),Gn(o,1,1,function(){o=null}),Zn())},i:function(t){n||(Kn(o),n=!0)},o:function(t){Gn(o),n=!1},d:function(t){t&&yn(e),o&&o.d()}}}function po(t,e,n){var o,r=e.step;return t.$$set=function(t){"step"in t&&n(0,r=t.step)},t.$$.update=function(){1&t.$$.dirty&&n(1,o=r.options.buttons)},[r,o]}var ho=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,po,fo,hn,{step:0}),e}return r}();function vo(t){var e,n,o,r,i;return{c:function(){e=wn("button"),(n=wn("span")).textContent="Ã",Sn(n,"aria-hidden","true"),Sn(e,"aria-label",o=t[0].label?t[0].label:"Close Tour"),Sn(e,"class","shepherd-cancel-icon"),Sn(e,"type","button")},m:function(o,a){gn(o,e,a),mn(e,n),r||(i=kn(e,"click",t[1]),r=!0)},p:function(t,n){1&c(n,1)[0]&&o!==(o=t[0].label?t[0].label:"Close Tour")&&Sn(e,"aria-label",o)},i:cn,o:cn,d:function(t){t&&yn(e),r=!1,i()}}}function mo(t,e,n){var o=e.cancelIcon,r=e.step;return t.$$set=function(t){"cancelIcon"in t&&n(0,o=t.cancelIcon),"step"in t&&n(2,r=t.step)},[o,function(t){t.preventDefault(),r.cancel()},r]}var go=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,mo,vo,hn,{cancelIcon:0,step:2}),e}return r}();function yo(t){var e;return{c:function(){Sn(e=wn("h3"),"id",t[1]),Sn(e,"class","shepherd-title")},m:function(n,o){gn(n,e,o),t[3](e)},p:function(t,n){2&c(n,1)[0]&&Sn(e,"id",t[1])},i:cn,o:cn,d:function(n){n&&yn(e),t[3](null)}}}function bo(t,e,n){var o=e.labelId,r=e.element,i=e.title;return Mn(function(){F(i)&&n(2,i=i()),n(0,r.innerHTML=i,r)}),t.$$set=function(t){"labelId"in t&&n(1,o=t.labelId),"element"in t&&n(0,r=t.element),"title"in t&&n(2,i=t.title)},[r,o,i,function(t){Cn[t?"unshift":"push"](function(){n(0,r=t)})}]}var wo=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,bo,yo,hn,{labelId:1,element:0,title:2}),e}return r}();function xo(t){var e,n;return e=new wo({props:{labelId:t[0],title:t[2]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};1&n&&(o.labelId=t[0]),4&n&&(o.title=t[2]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function Oo(t){var e,n;return e=new go({props:{cancelIcon:t[3],step:t[1]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};8&n&&(o.cancelIcon=t[3]),2&n&&(o.step=t[1]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function $o(t){var e,n,o,r=t[2]&&xo(t),i=t[3]&&t[3].enabled&&Oo(t);return{c:function(){e=wn("header"),r&&r.c(),n=$n(),i&&i.c(),Sn(e,"class","shepherd-header")},m:function(t,a){gn(t,e,a),r&&r.m(e,null),mn(e,n),i&&i.m(e,null),o=!0},p:function(t,o){var a=c(o,1)[0];t[2]?r?(r.p(t,a),4&a&&Kn(r,1)):((r=xo(t)).c(),Kn(r,1),r.m(e,n)):r&&(zn(),Gn(r,1,1,function(){r=null}),Zn()),t[3]&&t[3].enabled?i?(i.p(t,a),8&a&&Kn(i,1)):((i=Oo(t)).c(),Kn(i,1),i.m(e,null)):i&&(zn(),Gn(i,1,1,function(){i=null}),Zn())},i:function(t){o||(Kn(r),Kn(i),o=!0)},o:function(t){Gn(r),Gn(i),o=!1},d:function(t){t&&yn(e),r&&r.d(),i&&i.d()}}}function Eo(t,e,n){var o,r,i=e.labelId,a=e.step;return t.$$set=function(t){"labelId"in t&&n(0,i=t.labelId),"step"in t&&n(1,a=t.step)},t.$$.update=function(){2&t.$$.dirty&&(n(2,o=a.options.title),n(3,r=a.options.cancelIcon))},[i,a,o,r]}var ko=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,Eo,$o,hn,{labelId:0,step:1}),e}return r}();function So(t){var e;return{c:function(){Sn(e=wn("div"),"class","shepherd-text"),Sn(e,"id",t[1])},m:function(n,o){gn(n,e,o),t[3](e)},p:function(t,n){2&c(n,1)[0]&&Sn(e,"id",t[1])},i:cn,o:cn,d:function(n){n&&yn(e),t[3](null)}}}function jo(t,e,n){var o=e.descriptionId,r=e.element,i=e.step;return Mn(function(){var t=i.options.text;F(t)&&(t=t.call(i)),N(t)?r.appendChild(t):n(0,r.innerHTML=t,r)}),t.$$set=function(t){"descriptionId"in t&&n(1,o=t.descriptionId),"element"in t&&n(0,r=t.element),"step"in t&&n(2,i=t.step)},[r,o,i,function(t){Cn[t?"unshift":"push"](function(){n(0,r=t)})}]}var To=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,jo,So,hn,{descriptionId:1,element:0,step:2}),e}return r}();function Io(t){var e,n;return e=new ko({props:{labelId:t[1],step:t[2]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};2&n&&(o.labelId=t[1]),4&n&&(o.step=t[2]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function _o(t){var e,n;return e=new To({props:{descriptionId:t[0],step:t[2]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};1&n&&(o.descriptionId=t[0]),4&n&&(o.step=t[2]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function Ao(t){var e,n;return e=new ho({props:{step:t[2]}}),{c:function(){Qn(e.$$.fragment)},m:function(t,o){to(e,t,o),n=!0},p:function(t,n){var o={};4&n&&(o.step=t[2]),e.$set(o)},i:function(t){n||(Kn(e.$$.fragment,t),n=!0)},o:function(t){Gn(e.$$.fragment,t),n=!1},d:function(t){eo(e,t)}}}function Po(t){var e,n,o,r,i=!V(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,a=!V(t[2].options.text),s=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,u=i&&Io(t),l=a&&_o(t),f=s&&Ao(t);return{c:function(){e=wn("div"),u&&u.c(),n=$n(),l&&l.c(),o=$n(),f&&f.c(),Sn(e,"class","shepherd-content")},m:function(t,i){gn(t,e,i),u&&u.m(e,null),mn(e,n),l&&l.m(e,null),mn(e,o),f&&f.m(e,null),r=!0},p:function(t,r){var p=c(r,1)[0];4&p&&(i=!V(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled),i?u?(u.p(t,p),4&p&&Kn(u,1)):((u=Io(t)).c(),Kn(u,1),u.m(e,n)):u&&(zn(),Gn(u,1,1,function(){u=null}),Zn()),4&p&&(a=!V(t[2].options.text)),a?l?(l.p(t,p),4&p&&Kn(l,1)):((l=_o(t)).c(),Kn(l,1),l.m(e,o)):l&&(zn(),Gn(l,1,1,function(){l=null}),Zn()),4&p&&(s=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length),s?f?(f.p(t,p),4&p&&Kn(f,1)):((f=Ao(t)).c(),Kn(f,1),f.m(e,null)):f&&(zn(),Gn(f,1,1,function(){f=null}),Zn())},i:function(t){r||(Kn(u),Kn(l),Kn(f),r=!0)},o:function(t){Gn(u),Gn(l),Gn(f),r=!1},d:function(t){t&&yn(e),u&&u.d(),l&&l.d(),f&&f.d()}}}function Mo(t,e,n){var o=e.descriptionId,r=e.labelId,i=e.step;return t.$$set=function(t){"descriptionId"in t&&n(0,o=t.descriptionId),"labelId"in t&&n(1,r=t.labelId),"step"in t&&n(2,i=t.step)},[o,r,i]}var Lo=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,Mo,Po,hn,{descriptionId:0,labelId:1,step:2}),e}return r}();function Co(t){var e;return{c:function(){Sn(e=wn("div"),"class","shepherd-arrow"),Sn(e,"data-popper-arrow","")},m:function(t,n){gn(t,e,n)},d:function(t){t&&yn(e)}}}function Bo(t){var e,n,o,r,i,a,s,u,l=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&Co();o=new Lo({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});for(var f=[{"aria-describedby":r=V(t[4].options.text)?null:t[2]},{"aria-labelledby":i=t[4].options.title?t[3]:null},t[1],{role:"dialog"},{tabindex:"0"}],p={},d=0;d<f.length;d+=1)p=un(p,f[d]);return{c:function(){e=wn("div"),l&&l.c(),n=$n(),Qn(o.$$.fragment),jn(e,p),In(e,"shepherd-has-cancel-icon",t[5]),In(e,"shepherd-has-title",t[6]),In(e,"shepherd-element",!0)},m:function(r,i){gn(r,e,i),l&&l.m(e,null),mn(e,n),to(o,e,null),t[13](e),a=!0,s||(u=kn(e,"keydown",t[7]),s=!0)},p:function(t,s){var u=c(s,1)[0];t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on?l||((l=Co()).c(),l.m(e,n)):l&&(l.d(1),l=null);var d={};4&u&&(d.descriptionId=t[2]),8&u&&(d.labelId=t[3]),16&u&&(d.step=t[4]),o.$set(d),jn(e,p=Jn(f,[(!a||20&u&&r!==(r=V(t[4].options.text)?null:t[2]))&&{"aria-describedby":r},(!a||24&u&&i!==(i=t[4].options.title?t[3]:null))&&{"aria-labelledby":i},2&u&&t[1],{role:"dialog"},{tabindex:"0"}])),In(e,"shepherd-has-cancel-icon",t[5]),In(e,"shepherd-has-title",t[6]),In(e,"shepherd-element",!0)},i:function(t){a||(Kn(o.$$.fragment,t),a=!0)},o:function(t){Gn(o.$$.fragment,t),a=!1},d:function(n){n&&yn(e),l&&l.d(),eo(o),t[13](null),s=!1,u()}}}var Do=9,Ho=27,Ro=37,Wo=39;function No(t){return t.split(" ").filter(function(t){return!!t.length})}function Fo(e,n,o){var r,i,a,s=n.classPrefix,c=n.element,u=n.descriptionId,l=n.firstFocusableElement,f=n.focusableElements,d=n.labelId,h=n.lastFocusableElement,v=n.step,m=n.dataStepId;Pn(function(){o(1,m=t({},"data-".concat(s,"shepherd-step-id"),v.id)),o(9,f=c.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),o(8,l=f[0]),o(10,h=f[f.length-1])}),Mn(function(){a!==v.options.classes&&(function(t){if(q(t)){var e,n=No(t);n.length&&(e=c.classList).remove.apply(e,p(n))}}(a),function(t){if(q(t)){var e,n=No(t);n.length&&(e=c.classList).add.apply(e,p(n))}}(a=v.options.classes))});return e.$$set=function(t){"classPrefix"in t&&o(11,s=t.classPrefix),"element"in t&&o(0,c=t.element),"descriptionId"in t&&o(2,u=t.descriptionId),"firstFocusableElement"in t&&o(8,l=t.firstFocusableElement),"focusableElements"in t&&o(9,f=t.focusableElements),"labelId"in t&&o(3,d=t.labelId),"lastFocusableElement"in t&&o(10,h=t.lastFocusableElement),"step"in t&&o(4,v=t.step),"dataStepId"in t&&o(1,m=t.dataStepId)},e.$$.update=function(){16&e.$$.dirty&&(o(5,r=v.options&&v.options.cancelIcon&&v.options.cancelIcon.enabled),o(6,i=v.options&&v.options.title))},[c,m,u,d,v,r,i,function(t){var e=v.tour;switch(t.keyCode){case Do:if(0===f.length){t.preventDefault();break}t.shiftKey?(document.activeElement===l||document.activeElement.classList.contains("shepherd-element"))&&(t.preventDefault(),h.focus()):document.activeElement===h&&(t.preventDefault(),l.focus());break;case Ho:e.options.exitOnEsc&&v.cancel();break;case Ro:e.options.keyboardNavigation&&e.back();break;case Wo:e.options.keyboardNavigation&&e.next()}},l,f,h,s,function(){return c},function(t){Cn[t?"unshift":"push"](function(){o(0,c=t)})}]}var qo=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,Fo,Bo,hn,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12}),e}return w(r,[{key:"getElement",get:function(){return this.$$.ctx[12]}}]),r}();function Vo(t,e){return t(e={exports:{}},e.exports),e.exports}var Yo=Vo(function(t,e){!function(){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)){var n,o=t.HTMLElement||t.Element,r=468,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:o.prototype.scroll||c,scrollIntoView:o.prototype.scrollIntoView},a=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,s=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?h.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==x(arguments[0])?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!==x(arguments[0])?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.scroll=o.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var t=arguments[0].left,e=arguments[0].top;h.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!==x(arguments[0])?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},o.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},o.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=function(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}(this),o=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==e.body?(h.call(this,n,n.scrollLeft+r.left-o.left,n.scrollTop+r.top-o.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(t,e){this.scrollLeft=t,this.scrollTop=e}function u(t){if(null===t||"object"!==x(t)||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"===x(t)&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function f(e,n){var o=t.getComputedStyle(e,null)["overflow"+n];return"auto"===o||"scroll"===o}function p(t){var e=l(t,"Y")&&f(t,"Y"),n=l(t,"X")&&f(t,"X");return e||n}function d(e){var n,o,i,s,c=(a()-e.startTime)/r;s=c=c>1?1:c,n=.5*(1-Math.cos(Math.PI*s)),o=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,o,i),o===e.x&&i===e.y||t.requestAnimationFrame(d.bind(t,e))}function h(n,o,r){var s,u,l,f,p=a();n===e.body?(s=t,u=t.scrollX||t.pageXOffset,l=t.scrollY||t.pageYOffset,f=i.scroll):(s=n,u=n.scrollLeft,l=n.scrollTop,f=c),d({scrollable:s,method:f,startTime:p,startX:u,startY:l,x:o,y:r})}}}}()});Yo.polyfill,Yo.polyfill();var Xo=function(t){e(a,Y);var n=o(a);function a(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,a),(e=n.call(this,t,o)).tour=t,e.classPrefix=e.tour.options?en(e.tour.options.classPrefix):"",e.styles=t.styles,X(i(e)),e._setOptions(o),r(e,i(e))}return w(a,[{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"destroy",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null),N(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}},{key:"getTour",value:function(){return this.tour}},{key:"hide",value:function(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}},{key:"isCentered",value:function(){var t=nn(this);return!t.element||!t.on}},{key:"isOpen",value:function(){return Boolean(this.el&&!this.el.hidden)}},{key:"show",value:function(){var t=this;if(F(this.options.beforeShowPromise)){var e=this.options.beforeShowPromise();if(!V(e))return e.then(function(){return t._show()})}this._show()}},{key:"updateStepOptions",value:function(t){Object.assign(this.options,t),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}},{key:"getElement",value:function(){return this.el}},{key:"getTarget",value:function(){return this.target}},{key:"_createTooltipContent",value:function(){var t="".concat(this.id,"-description"),e="".concat(this.id,"-label");return this.shepherdElementComponent=new qo({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:t,labelId:e,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}},{key:"_scrollTo",value:function(t){var e=nn(this).element;F(this.options.scrollToHandler)?this.options.scrollToHandler(e):W(e)&&"function"==typeof e.scrollIntoView&&e.scrollIntoView(t)}},{key:"_getClassOptions",value:function(t){var e=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,n=t.classes?t.classes:"",o=e&&e.classes?e.classes:"",r=[].concat(p(n.split(" ")),p(o.split(" "))),i=new Set(r);return Array.from(i).join(" ").trim()}},{key:"_setOptions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=R({},n||{}),this.options=Object.assign({arrow:!0},n,e);var o=this.options.when;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||"step-".concat(rn()),o&&Object.keys(o).forEach(function(e){t.on(e,o[e],t)})}},{key:"_setupElements",value:function(){V(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&z(this),on(this)}},{key:"_show",value:function(){var t=this;this.trigger("before-show"),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(function(){t._scrollTo(t.options.scrollTo)}),this.el.hidden=!1;var e=this.shepherdElementComponent.getElement(),n=this.target||document.body;n.classList.add("".concat(this.classPrefix,"shepherd-enabled")),n.classList.add("".concat(this.classPrefix,"shepherd-target")),e.classList.add("shepherd-enabled"),this.trigger("show")}},{key:"_styleTargetElementForStep",value:function(t){var e=t.target;e&&(t.options.highlightClass&&e.classList.add(t.options.highlightClass),!1===t.options.canClickTarget&&e.classList.add("shepherd-target-click-disabled"))}},{key:"_updateStepTargetOnHide",value:function(){var t=this.target||document.body;this.options.highlightClass&&t.classList.remove(this.options.highlightClass),t.classList.remove("shepherd-target-click-disabled","".concat(this.classPrefix,"shepherd-enabled"),"".concat(this.classPrefix,"shepherd-target"))}}]),a}();function Uo(t){t&&t.steps.forEach(function(t){t.options&&!1===t.options.canClickTarget&&t.options.attachTo&&t.target instanceof HTMLElement&&t.target.classList.remove("shepherd-target-click-disabled")})}function zo(t){var e=t.width,n=t.height,o=t.x,r=void 0===o?0:o,i=t.y,a=void 0===i?0:i,s=t.r,c=void 0===s?0:s,u=window,l=u.innerWidth,f=u.innerHeight;return"M".concat(l,",").concat(f,"H0V0H").concat(l,"V").concat(f,"ZM").concat(r+c,",").concat(a,"a").concat(c,",").concat(c,",0,0,0-").concat(c,",").concat(c,"V").concat(n+a-c,"a").concat(c,",").concat(c,",0,0,0,").concat(c,",").concat(c,"H").concat(e+r-c,"a").concat(c,",").concat(c,",0,0,0,").concat(c,"-").concat(c,"V").concat(a+c,"a").concat(c,",").concat(c,",0,0,0-").concat(c,"-").concat(c,"Z")}function Zo(t){var e,n,o,r,i;return{c:function(){e=xn("svg"),Sn(n=xn("path"),"d",t[2]),Sn(e,"class",o="".concat(t[1]?"shepherd-modal-is-visible":""," shepherd-modal-overlay-container"))},m:function(o,a){gn(o,e,a),mn(e,n),t[11](e),r||(i=kn(e,"touchmove",t[3]),r=!0)},p:function(t,r){var i=c(r,1)[0];4&i&&Sn(n,"d",t[2]),2&i&&o!==(o="".concat(t[1]?"shepherd-modal-is-visible":""," shepherd-modal-overlay-container"))&&Sn(e,"class",o)},i:cn,o:cn,d:function(n){n&&yn(e),t[11](null),r=!1,i()}}}function Ko(t){if(!t)return null;var e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return"hidden"!==e&&"visible"!==e&&t.scrollHeight>=t.clientHeight?t:Ko(t.parentElement)}function Go(t,e){var n=t.getBoundingClientRect(),o=n.y||n.top,r=n.bottom||o+n.height;if(e){var i=e.getBoundingClientRect(),a=i.y||i.top,s=i.bottom||a+i.height;o=Math.max(o,a),r=Math.min(r,s)}return{y:o,height:Math.max(r-o,0)}}function Jo(t,e,n){var o=e.element,r=e.openingProperties;rn();var i,a=!1,s=void 0;c();function c(){n(4,r={width:0,height:0,x:0,y:0,r:0})}function u(){n(1,a=!1),d()}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(i){var a=Go(i,o),s=a.y,u=a.height,l=i.getBoundingClientRect(),f=l.x,p=l.width,d=l.left;n(4,r={width:p+2*t,height:u+2*t,x:(f||d)-t,y:s-t,r:e})}else c()}function f(){n(1,a=!0)}var p=function(t){t.preventDefault()};function d(){s&&(cancelAnimationFrame(s),s=void 0),window.removeEventListener("touchmove",p,{passive:!1})}return t.$$set=function(t){"element"in t&&n(0,o=t.element),"openingProperties"in t&&n(4,r=t.openingProperties)},t.$$.update=function(){16&t.$$.dirty&&n(2,i=zo(r))},[o,a,i,function(t){t.stopPropagation()},r,function(){return o},c,u,l,function(t){d(),t.tour.options.useModalOverlay?(function(t){var e=t.options,n=e.modalOverlayOpeningPadding,o=e.modalOverlayOpeningRadius,r=Ko(t.target),i=function(){s=void 0,l(n,o,r,t.target),s=requestAnimationFrame(i)};i(),window.addEventListener("touchmove",p,{passive:!1})}(t),f()):u()},f,function(t){Cn[t?"unshift":"push"](function(){n(0,o=t)})}]}var Qo=function(t){e(r,ro);var n=o(r);function r(t){var e;return y(this,r),oo(i(e=n.call(this)),t,Jo,Zo,hn,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10}),e}return w(r,[{key:"getElement",get:function(){return this.$$.ctx[5]}},{key:"closeModalOpening",get:function(){return this.$$.ctx[6]}},{key:"hide",get:function(){return this.$$.ctx[7]}},{key:"positionModal",get:function(){return this.$$.ctx[8]}},{key:"setupForStep",get:function(){return this.$$.ctx[9]}},{key:"show",get:function(){return this.$$.ctx[10]}}]),r}(),tr=new Y,er=function(t){e(a,Y);var n=o(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,a),X(i(t=n.call(this,e)));t.options=Object.assign({},{exitOnEsc:!0,keyboardNavigation:!0},e),t.classPrefix=en(t.options.classPrefix),t.steps=[],t.addSteps(t.options.steps);return["active","cancel","complete","inactive","show","start"].map(function(e){var n;n=e,t.on(n,function(e){(e=e||{}).tour=i(t),tr.trigger(n,e)})}),t._setTourID(),r(t,i(t))}return w(a,[{key:"addStep",value:function(t,e){var n=t;return n instanceof Xo?n.tour=this:n=new Xo(this,n),V(e)?this.steps.push(n):this.steps.splice(e,0,n),n}},{key:"addSteps",value:function(t){var e=this;return Array.isArray(t)&&t.forEach(function(t){e.addStep(t)}),this}},{key:"back",value:function(){var t=this.steps.indexOf(this.currentStep);this.show(t-1,!1)}},{key:"cancel",value:function(){if(this.options.confirmCancel){var t=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";window.confirm(t)&&this._done("cancel")}else this._done("cancel")}},{key:"complete",value:function(){this._done("complete")}},{key:"getById",value:function(t){return this.steps.find(function(e){return e.id===t})}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"hide",value:function(){var t=this.getCurrentStep();if(t)return t.hide()}},{key:"isActive",value:function(){return tr.activeTour===this}},{key:"next",value:function(){var t=this.steps.indexOf(this.currentStep);t===this.steps.length-1?this.complete():this.show(t+1,!0)}},{key:"removeStep",value:function(t){var e=this,n=this.getCurrentStep();this.steps.some(function(n,o){if(n.id===t)return n.isOpen()&&n.hide(),n.destroy(),e.steps.splice(o,1),!0}),n&&n.id===t&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=q(t)?this.getById(t):this.steps[t];n&&(this._updateStateBeforeShow(),F(n.options.showOn)&&!n.options.showOn()?this._skipStep(n,e):(this.trigger("show",{step:n,previous:this.currentStep}),this.currentStep=n,n.show()))}},{key:"start",value:function(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}},{key:"_done",value:function(t){var e=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(function(t){return t.destroy()}),Uo(this),this.trigger(t,{index:e}),tr.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),("cancel"===t||"complete"===t)&&this.modal){var n=document.querySelector(".shepherd-modal-overlay-container");n&&n.remove()}N(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}},{key:"_setupActiveTour",value:function(){this.trigger("active",{tour:this}),tr.activeTour=this}},{key:"_setupModal",value:function(){this.modal=new Qo({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}},{key:"_skipStep",value:function(t,e){var n=this.steps.indexOf(t),o=e?n+1:n-1;this.show(o,e)}},{key:"_updateStateBeforeShow",value:function(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}},{key:"_setTourID",value:function(){var t=this.options.tourName||"tour";this.id="".concat(t,"--").concat(rn())}}]),a}();Object.assign(tr,{Tour:er,Step:Xo});var nr=tr;exports.default=nr;
},{}],"Bh1I":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"z1Am":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"Bh1I"}],"RGex":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scenes=exports.viewer=void 0;var e=c(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),t=c(require("@babel/runtime-corejs2/regenerator")),o=require("./data.js"),n=require("./infoHotspots.js"),r=require("./linkHotspots.js"),s=c(require("shepherd.js")),i=require("./helpers"),a=require("@popperjs/core");function c(e){return e&&e.__esModule?e:{default:e}}var l=require("marzipano"),d=document.querySelector(".preloader"),u=document.getElementById("intro"),p=document.querySelector(".help-menu-btn"),f=document.getElementById("help-menu"),m=document.querySelector(".help-menu-btn svg"),h=document.querySelector("#help-list-close"),v=document.getElementById("controls"),y=document.getElementById("controls-close"),b=document.getElementById("intro-close"),w=document.querySelector("#pano"),x={controls:{mouseViewMode:o.data.settings.mouseViewMode}},L=new l.Viewer(w,x);exports.viewer=L;var k=o.data.scenes.map(function(o){var s=l.ImageUrlSource.fromString("tiles/"+o.id+"/{z}/{f}/{y}/{x}.jpg",{cubeMapPreviewUrl:"tiles/"+o.id+"/preview.jpg"}),i=new l.CubeGeometry(o.levels),a=l.RectilinearView.limit.traditional(1024,100*Math.PI/180,120*Math.PI/180),c=new l.RectilinearView(o.initialViewParameters,a),d=L.createScene({source:s,geometry:i,view:c,pinFirstLevel:!0});return require("_bundle_loader")(require.resolve("./linkHotspots")).then(o.linkHotspots.forEach(function(e){var t=(0,r.createLinkHotspotElement)(e);d.hotspotContainer().createHotspot(t,{yaw:e.yaw,pitch:e.pitch})})),require("_bundle_loader")(require.resolve("./infoHotspots")).then(o.infoHotspots.forEach(function(){var o=(0,e.default)(t.default.mark(function e(o){var r;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.createInfoHotspotElement)(o);case 2:r=e.sent,d.hotspotContainer().createHotspot(r,{yaw:o.yaw,pitch:o.pitch},{perspective:{radius:400}});case 4:case"end":return e.stop()}},e)}));return function(e){return o.apply(this,arguments)}}())),{data:o,scene:d,view:c}});exports.scenes=k;var q=document.querySelector(".confirm"),E=new s.default.Tour({useModalOverlay:!0});E.addStep({id:"first",showOn:document.body.classList.contains("tour-accepted"),text:"<br/>Click this icon to learn<br/>more about the product<br/><br/>",attachTo:{element:".info-hotspot-header.intro-starter",on:"top"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,25]}}]}});var S=window.innerHeight,g={yaw:-1.1815019536187705,pitch:.21382602521738114,fov:60*Math.PI/180},T={transitionDuration:2e3},O={yaw:-1.1815019536187705,pitch:.21382602521738114,fov:60*Math.PI/180};function I(){E.start()}q.addEventListener("click",function(){document.querySelector(".intro-starter").addEventListener("click",function(){setTimeout(function(){E.next(),document.body.classList.remove("tour-init")},600)}),L.controls().disable(),u.classList.remove("visible"),S>384?B.lookTo(g,T,I):S<=384&&B.lookTo(O,T,I),document.body.classList.add("tour-accepted")}),E.addStep({id:"second",arrow:!1,modalOverlayOpeningPadding:0,text:"<br/>Here, you'll find <br/> product information,\n\t<br/>downloadable recipes & <br/> related content",attachTo:{element:".info-hotspot-modal.visible .product-txt-container",on:"auto"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,20]}}]},buttons:[{text:"Next",action:E.next,classes:"shep-next"}]}),E.addStep({id:"third",arrow:!1,showOn:document.body.classList.contains("tour-accepted"),text:"<br/>Here you'll find product images & videos, click on the arrows or swipe to see more<br/>",attachTo:{element:".info-hotspot-modal.visible .carousel_container",on:"auto"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,25]}},{name:"arrow",options:{padding:25}}]},buttons:[{text:"Back",action:E.back,classes:"shep-back"},{text:"Next",action:E.next,classes:"shep-next"}]});var H=new s.default.Tour({useModalOverlay:!1});H.addStep({showOn:document.body.classList.contains("tour-accepted"),text:"<br/>Click the arrow to see the products in this part of the kitchen<br/><br/>",attachTo:{element:".second-tour-starter > img",on:"bottom"},popperOptions:{modifiers:[{name:"offset",options:{offset:[-10,10]}}]}});var M=new s.default.Tour({defaultStepOptions:{scrollTo:{behavior:"smooth",block:"center"}}});M.addStep({showOn:document.body.classList.contains("tour-accepted"),text:"<br/>Good moves! I think you got the hang of it!<br/>",buttons:[{text:"Start Exploring",action:M.next,classes:"shep-next"}],popperOptions:{modifiers:[{name:"offset",options:{offset:[0,25]}}]}});var j=new s.default.Tour({defaultStepOptions:{scrollTo:{behavior:"smooth",block:"center"}}});j.addStep({showOn:document.body.classList.contains("tour-accepted"),text:"<br/>Enjoy the party! <br/>ð¥³â¨ð¥ <br/>If you need help<br/>along the way, click here",attachTo:{element:".help-menu-btn svg",on:"auto"},buttons:[{text:"Dismiss",action:j.next,classes:"shep-next"}],popperOptions:{modifiers:[{name:"offset",options:{offset:[0,25]}}]}});var P=document.querySelector(".cancel"),_=document.querySelector(".intro-header .intro-close"),B=k[0].scene,V=document.querySelector(".link-hotspot.second-tour-starter"),C={yaw:-1.600429731329104,pitch:.5002192152175962,fov:60*Math.PI/180},D={yaw:-1.600429731329104,pitch:.5002192152175962,fov:60*Math.PI/180},G={transitionDuration:2e3};function z(){H.start()}E.on("complete",function(){s.default.activeTour.steps.forEach(function(e){e.destroy()});var e=document.querySelector(".intro-starter"),t=document.querySelector(".info-hotspot-modal.visible");e.classList.remove(".intro-starter"),t.classList.remove("visible"),setTimeout(function(){t.remove()},3e3),S>384?B.lookTo(C,G,z):S<=384&&B.lookTo(D,G,z)}),V.addEventListener("click",function(){document.body.classList.contains("tour-accepted")&&(H.next(),M.start())}),H.on("complete",function(){s.default.activeTour.steps.forEach(function(e){e.destroy()})}),M.on("complete",function(){(0,i.switchScene)(k[0]),s.default.activeTour.steps.forEach(function(e){e.destroy()}),j.start()}),j.on("complete",function(){L.controls().enable(),V.classList.remove("second-tour-starter"),s.default.activeTour.steps.forEach(function(e){e.destroy()})}),[P,_].forEach(function(e){e.addEventListener("click",function(){V.classList.remove("second-tour-starter"),u.remove(),U(),L.controls().enable(),setTimeout(function(){F()},3e3)})});var A=document.querySelector("#footer svg"),N=document.querySelector("#tooltip"),R=(0,a.createPopper)(A,N,{placement:"top-start",modifiers:[{name:"offset",options:{offset:[0,15]}}]});function U(){N.setAttribute("data-show",""),R.update()}function F(){N.removeAttribute("data-show")}b.addEventListener("click",function(){u.classList.remove("visible"),V.classList.remove("second-tour-starter")}),y.addEventListener("click",function(){v.remove(),u.style.opacity=1,u.classList.add("visible")}),m.addEventListener("click",function(){f.classList.add("visible")}),h.addEventListener("click",function(){f.classList.remove("visible")}),document.body.addEventListener("keydown",function(e){"Escape"===e.key&&f.classList.remove("visible")}),window.addEventListener("load",function(){setTimeout(function(){w.style.opacity=1,f.style.opacity=1,p.style.opacity=1,titleBar.style.opacity=1,d.style.display="none",v.classList.add("visible"),document.body.classList.add("tour-init")},500)});
},{"@babel/runtime-corejs2/helpers/asyncToGenerator":"eW0k","@babel/runtime-corejs2/regenerator":"d9wt","marzipano":"CTat","./data.js":"paDP","./infoHotspots.js":"Gv8X","./linkHotspots.js":"diHl","shepherd.js":"QsAt","./helpers":"lTk1","@popperjs/core":"S1OH","_bundle_loader":"z1Am","./linkHotspots":[["pc_pano.9df9394f.js","Focm"],"pc_pano.9df9394f.js.map","diHl"],"./infoHotspots":[["pc_pano.9df9394f.js","Focm"],"pc_pano.9df9394f.js.map","Gv8X"]}],"Focm":[function(require,module,exports) {
"use strict";var e=d(require("screenfull")),t=require("./loadScenes.js"),s=require("./helpers");function d(e){return e&&e.__esModule?e:{default:e}}var c=document.querySelector("#fullscreenToggle");if(window.matchMedia){var o=function(){a.matches?(document.body.classList.remove("desktop"),document.body.classList.add("mobile")):(document.body.classList.remove("mobile"),document.body.classList.add("desktop"))},a=matchMedia("(max-width: 500px)");o()}else document.body.classList.add("desktop");document.body.classList.add("no-touch"),window.addEventListener("touchstart",function(e){document.body.classList.remove("no-touch"),document.body.classList.add("touch")}),e.default.isEnabled?(document.body.classList.add("fullscreen-enabled"),c.addEventListener("click",function(){e.default.toggle()}),e.default.on("change",function(){e.default.isFullscreen?c.classList.add("enabled"):c.classList.remove("enabled")})):(document.body.classList.add("fullscreen-disabled"),c.setAttribute("href","https://pc-dev2.netlify.app"),c.setAttribute("target","_blank"),c.setAttribute("rel","noreferrer")),(0,s.switchScene)(t.scenes[0]);
},{"screenfull":"VrMo","./loadScenes.js":"RGex","./helpers":"lTk1"}],"Ijyk":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("z1Am");b.register("js",require("Ijyk"));
},{}]},{},[0,"Focm"], null)
//# sourceMappingURL=/pc_pano.9df9394f.js.map