{"id":"fanG","dependencies":[{"name":"A:\\Code\\projects\\pc\\pcpano1\\app-files\\package.json","includedInParent":true,"mtime":1614283944862},{"name":"A:\\Code\\projects\\pc\\pcpano1\\app-files\\node_modules\\marzipano\\package.json","includedInParent":true,"mtime":499162500000},{"name":"../util/now","loc":{"line":18,"column":18},"parent":"A:\\Code\\projects\\pc\\pcpano1\\app-files\\node_modules\\marzipano\\src\\collections\\WorkQueue.js","resolved":"A:\\Code\\projects\\pc\\pcpano1\\app-files\\node_modules\\marzipano\\src\\util\\now.js"}],"generated":{"js":"\"use strict\";var t=require(\"../util/now\");function e(t,e){this.fn=t,this.cb=e,this.cfn=null}function i(t){this._queue=[],this._delay=t&&t.delay||0,this._paused=t&&!!t.paused||!1,this._currentTask=null,this._lastFinished=null}i.prototype.length=function(){return this._queue.length},i.prototype.push=function(t,i){var s=new e(t,i),n=this._cancel.bind(this,s);return this._queue.push(s),this._next(),n},i.prototype.pause=function(){this._paused||(this._paused=!0)},i.prototype.resume=function(){this._paused&&(this._paused=!1,this._next())},i.prototype._start=function(t){if(this._currentTask)throw new Error(\"WorkQueue: called start while running task\");this._currentTask=t;var e=this._finish.bind(this,t);if(t.cfn=t.fn(e),\"function\"!=typeof t.cfn)throw new Error(\"WorkQueue: function is not cancellable\")},i.prototype._finish=function(e){var i=Array.prototype.slice.call(arguments,1);if(this._currentTask!==e)throw new Error(\"WorkQueue: called finish on wrong task\");e.cb.apply(null,i),this._currentTask=null,this._lastFinished=t(),this._next()},i.prototype._cancel=function(t){var e=Array.prototype.slice.call(arguments,1);if(this._currentTask===t)t.cfn.apply(null,e);else{var i=this._queue.indexOf(t);i>=0&&(this._queue.splice(i,1),t.cb.apply(null,e))}},i.prototype._next=function(){if(!this._paused&&this._queue.length&&!this._currentTask){if(null!=this._lastFinished){var e=t()-this._lastFinished,i=this._delay-e;if(i>0)return void setTimeout(this._next.bind(this),i)}var s=this._queue.shift();this._start(s)}},module.exports=i;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":16,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":18,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":18,"column":0},"generated":{"line":1,"column":17}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":18,"column":0},"generated":{"line":1,"column":19}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":18,"column":0},"generated":{"line":1,"column":27}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":21,"column":0},"generated":{"line":1,"column":42}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":21,"column":0},"generated":{"line":1,"column":51}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":21,"column":0},"generated":{"line":1,"column":53}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":21,"column":0},"generated":{"line":1,"column":55}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":22,"column":0},"generated":{"line":1,"column":58}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":22,"column":0},"generated":{"line":1,"column":63}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":22,"column":0},"generated":{"line":1,"column":66}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":23,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":23,"column":0},"generated":{"line":1,"column":73}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":23,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":24,"column":0},"generated":{"line":1,"column":78}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":24,"column":0},"generated":{"line":1,"column":83}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":24,"column":0},"generated":{"line":1,"column":87}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":28,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":28,"column":0},"generated":{"line":1,"column":101}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":28,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":29,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":29,"column":0},"generated":{"line":1,"column":111}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":29,"column":0},"generated":{"line":1,"column":118}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":133}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":138}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":30,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":165}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":167}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":31,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":32,"column":0},"generated":{"line":1,"column":178}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":32,"column":0},"generated":{"line":1,"column":183}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":32,"column":0},"generated":{"line":1,"column":196}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":33,"column":0},"generated":{"line":1,"column":201}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":33,"column":0},"generated":{"line":1,"column":206}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":33,"column":0},"generated":{"line":1,"column":220}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":37,"column":0},"generated":{"line":1,"column":225}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":37,"column":0},"generated":{"line":1,"column":227}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":37,"column":0},"generated":{"line":1,"column":237}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":37,"column":0},"generated":{"line":1,"column":244}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":38,"column":0},"generated":{"line":1,"column":255}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":38,"column":0},"generated":{"line":1,"column":262}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":38,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":38,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":282}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":284}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":294}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":299}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":42,"column":0},"generated":{"line":1,"column":310}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":313}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":317}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":319}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":323}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":325}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":44,"column":0},"generated":{"line":1,"column":327}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":330}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":332}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":337}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":345}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":350}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":46,"column":0},"generated":{"line":1,"column":355}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":54,"column":0},"generated":{"line":1,"column":358}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":49,"column":0},"generated":{"line":1,"column":365}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":49,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":49,"column":0},"generated":{"line":1,"column":377}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":49,"column":0},"generated":{"line":1,"column":382}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":52,"column":0},"generated":{"line":1,"column":385}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":52,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":54,"column":0},"generated":{"line":1,"column":398}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":59,"column":0},"generated":{"line":1,"column":401}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":59,"column":0},"generated":{"line":1,"column":403}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":59,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":59,"column":0},"generated":{"line":1,"column":419}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":60,"column":0},"generated":{"line":1,"column":430}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":60,"column":0},"generated":{"line":1,"column":435}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":61,"column":0},"generated":{"line":1,"column":445}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":61,"column":0},"generated":{"line":1,"column":450}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":61,"column":0},"generated":{"line":1,"column":459}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":66,"column":0},"generated":{"line":1,"column":463}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":66,"column":0},"generated":{"line":1,"column":465}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":66,"column":0},"generated":{"line":1,"column":475}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":66,"column":0},"generated":{"line":1,"column":482}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":67,"column":0},"generated":{"line":1,"column":493}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":67,"column":0},"generated":{"line":1,"column":498}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":68,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":68,"column":0},"generated":{"line":1,"column":513}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":68,"column":0},"generated":{"line":1,"column":522}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":69,"column":0},"generated":{"line":1,"column":524}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":69,"column":0},"generated":{"line":1,"column":529}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":74,"column":0},"generated":{"line":1,"column":539}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":74,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":74,"column":0},"generated":{"line":1,"column":551}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":74,"column":0},"generated":{"line":1,"column":558}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":74,"column":0},"generated":{"line":1,"column":567}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":77,"column":0},"generated":{"line":1,"column":570}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":77,"column":0},"generated":{"line":1,"column":573}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":77,"column":0},"generated":{"line":1,"column":578}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":78,"column":0},"generated":{"line":1,"column":591}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":78,"column":0},"generated":{"line":1,"column":597}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":78,"column":0},"generated":{"line":1,"column":601}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":78,"column":0},"generated":{"line":1,"column":607}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":82,"column":0},"generated":{"line":1,"column":653}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":82,"column":0},"generated":{"line":1,"column":658}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":82,"column":0},"generated":{"line":1,"column":671}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":673}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":677}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":679}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":684}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":692}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":697}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":85,"column":0},"generated":{"line":1,"column":702}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":89,"column":0},"generated":{"line":1,"column":705}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":86,"column":0},"generated":{"line":1,"column":708}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":86,"column":0},"generated":{"line":1,"column":710}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":86,"column":0},"generated":{"line":1,"column":714}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":86,"column":0},"generated":{"line":1,"column":716}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":86,"column":0},"generated":{"line":1,"column":719}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":89,"column":0},"generated":{"line":1,"column":722}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":89,"column":0},"generated":{"line":1,"column":741}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":89,"column":0},"generated":{"line":1,"column":743}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":90,"column":0},"generated":{"line":1,"column":747}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":90,"column":0},"generated":{"line":1,"column":753}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":90,"column":0},"generated":{"line":1,"column":757}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":90,"column":0},"generated":{"line":1,"column":763}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":96,"column":0},"generated":{"line":1,"column":806}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":96,"column":0},"generated":{"line":1,"column":808}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":96,"column":0},"generated":{"line":1,"column":818}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":96,"column":0},"generated":{"line":1,"column":826}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":96,"column":0},"generated":{"line":1,"column":835}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":838}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":842}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":844}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":850}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":860}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":866}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":871}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":98,"column":0},"generated":{"line":1,"column":881}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":101,"column":0},"generated":{"line":1,"column":884}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":101,"column":0},"generated":{"line":1,"column":887}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":101,"column":0},"generated":{"line":1,"column":892}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":101,"column":0},"generated":{"line":1,"column":907}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":102,"column":0},"generated":{"line":1,"column":909}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":102,"column":0},"generated":{"line":1,"column":915}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":102,"column":0},"generated":{"line":1,"column":919}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":102,"column":0},"generated":{"line":1,"column":925}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":106,"column":0},"generated":{"line":1,"column":967}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":106,"column":0},"generated":{"line":1,"column":969}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":106,"column":0},"generated":{"line":1,"column":972}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":106,"column":0},"generated":{"line":1,"column":978}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":106,"column":0},"generated":{"line":1,"column":983}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":109,"column":0},"generated":{"line":1,"column":986}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":109,"column":0},"generated":{"line":1,"column":991}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":109,"column":0},"generated":{"line":1,"column":1004}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1009}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1014}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":110,"column":0},"generated":{"line":1,"column":1028}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1032}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":111,"column":0},"generated":{"line":1,"column":1037}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":116,"column":0},"generated":{"line":1,"column":1046}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":116,"column":0},"generated":{"line":1,"column":1048}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":116,"column":0},"generated":{"line":1,"column":1058}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":116,"column":0},"generated":{"line":1,"column":1066}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":116,"column":0},"generated":{"line":1,"column":1075}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1078}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1082}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1084}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1090}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1100}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1106}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1111}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":118,"column":0},"generated":{"line":1,"column":1121}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1124}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1127}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1132}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":120,"column":0},"generated":{"line":1,"column":1147}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":124,"column":0},"generated":{"line":1,"column":1149}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":124,"column":0},"generated":{"line":1,"column":1151}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":124,"column":0},"generated":{"line":1,"column":1155}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":124,"column":0},"generated":{"line":1,"column":1161}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":124,"column":0},"generated":{"line":1,"column":1166}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":126,"column":0},"generated":{"line":1,"column":1173}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1174}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1178}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1180}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1185}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1192}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":129,"column":0},"generated":{"line":1,"column":1200}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":130,"column":0},"generated":{"line":1,"column":1203}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":130,"column":0},"generated":{"line":1,"column":1206}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1210}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1215}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1222}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1229}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":131,"column":0},"generated":{"line":1,"column":1231}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":132,"column":0},"generated":{"line":1,"column":1234}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":132,"column":0},"generated":{"line":1,"column":1236}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":132,"column":0},"generated":{"line":1,"column":1239}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":132,"column":0},"generated":{"line":1,"column":1245}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":132,"column":0},"generated":{"line":1,"column":1250}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":140,"column":0},"generated":{"line":1,"column":1256}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":140,"column":0},"generated":{"line":1,"column":1258}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":140,"column":0},"generated":{"line":1,"column":1268}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":140,"column":0},"generated":{"line":1,"column":1274}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":142,"column":0},"generated":{"line":1,"column":1285}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":142,"column":0},"generated":{"line":1,"column":1289}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":142,"column":0},"generated":{"line":1,"column":1294}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":147,"column":0},"generated":{"line":1,"column":1303}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":147,"column":0},"generated":{"line":1,"column":1308}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":147,"column":0},"generated":{"line":1,"column":1315}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":152,"column":0},"generated":{"line":1,"column":1324}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":152,"column":0},"generated":{"line":1,"column":1329}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":152,"column":0},"generated":{"line":1,"column":1342}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1343}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1346}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1352}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1357}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":157,"column":0},"generated":{"line":1,"column":1371}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":158,"column":0},"generated":{"line":1,"column":1372}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":158,"column":0},"generated":{"line":1,"column":1376}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":158,"column":0},"generated":{"line":1,"column":1378}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":158,"column":0},"generated":{"line":1,"column":1382}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":158,"column":0},"generated":{"line":1,"column":1387}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":159,"column":0},"generated":{"line":1,"column":1401}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":159,"column":0},"generated":{"line":1,"column":1403}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":159,"column":0},"generated":{"line":1,"column":1408}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":159,"column":0},"generated":{"line":1,"column":1415}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":160,"column":0},"generated":{"line":1,"column":1417}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":160,"column":0},"generated":{"line":1,"column":1420}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":160,"column":0},"generated":{"line":1,"column":1422}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":163,"column":0},"generated":{"line":1,"column":1424}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1436}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1447}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1452}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1458}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1463}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":162,"column":0},"generated":{"line":1,"column":1469}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1472}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1476}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1478}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1483}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":168,"column":0},"generated":{"line":1,"column":1490}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":169,"column":0},"generated":{"line":1,"column":1498}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":169,"column":0},"generated":{"line":1,"column":1503}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":169,"column":0},"generated":{"line":1,"column":1510}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":174,"column":0},"generated":{"line":1,"column":1515}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":174,"column":0},"generated":{"line":1,"column":1522}},{"source":"node_modules/marzipano/src/collections/WorkQueue.js","original":{"line":174,"column":0},"generated":{"line":1,"column":1530}}],"sources":{"node_modules/marzipano/src/collections/WorkQueue.js":"/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nvar now = require('../util/now');\n\n\nfunction WorkTask(fn, cb) {\n  this.fn = fn;\n  this.cb = cb;\n  this.cfn = null;\n}\n\n\nfunction WorkQueue(opts) {\n  this._queue = [];\n  this._delay = opts && opts.delay || 0;\n  this._paused = opts && !!opts.paused || false;\n  this._currentTask = null;\n  this._lastFinished = null;\n}\n\n\nWorkQueue.prototype.length = function() {\n  return this._queue.length;\n};\n\n\nWorkQueue.prototype.push = function(fn, cb) {\n\n  var task = new WorkTask(fn, cb);\n\n  var cancel = this._cancel.bind(this, task);\n\n  // Push the task into the queue.\n  this._queue.push(task);\n\n  // Run the task if idle.\n  this._next();\n\n  return cancel;\n\n};\n\n\nWorkQueue.prototype.pause = function() {\n  if (!this._paused) {\n    this._paused = true;\n  }\n};\n\n\nWorkQueue.prototype.resume = function() {\n  if (this._paused) {\n    this._paused = false;\n    this._next();\n  }\n};\n\n\nWorkQueue.prototype._start = function(task) {\n\n  // Consistency check.\n  if (this._currentTask) {\n    throw new Error('WorkQueue: called start while running task');\n  }\n\n  // Mark queue as busy, so that concurrent tasks wait.\n  this._currentTask = task;\n\n  // Execute the task.\n  var finish = this._finish.bind(this, task);\n  task.cfn = task.fn(finish);\n\n  // Detect when a non-cancellable function has been queued.\n  if (typeof task.cfn !== 'function') {\n    throw new Error('WorkQueue: function is not cancellable');\n  }\n\n};\n\n\nWorkQueue.prototype._finish = function(task) {\n\n  var args = Array.prototype.slice.call(arguments, 1);\n\n  // Consistency check.\n  if (this._currentTask !== task) {\n    throw new Error('WorkQueue: called finish on wrong task');\n  }\n\n  // Call the task callback on the return values.\n  task.cb.apply(null, args);\n\n  // Mark as not busy and record task finish time, then advance to next task.\n  this._currentTask = null;\n  this._lastFinished = now();\n  this._next();\n\n};\n\n\nWorkQueue.prototype._cancel = function(task) {\n\n  var args = Array.prototype.slice.call(arguments, 1);\n\n  if (this._currentTask === task) {\n\n    // Cancel running task. Because cancel passes control to the _finish\n    // callback we passed into fn, the cleanup logic will be handled there.\n    task.cfn.apply(null, args);\n\n  } else {\n\n    // Remove task from queue.\n    var pos = this._queue.indexOf(task);\n    if (pos >= 0) {\n      this._queue.splice(pos, 1);\n      task.cb.apply(null, args);\n    }\n\n  }\n\n};\n\n\nWorkQueue.prototype._next = function() {\n\n  if (this._paused) {\n    // Do not start tasks while paused.\n    return;\n  }\n\n  if (!this._queue.length) {\n    // No tasks to run.\n    return;\n  }\n\n  if (this._currentTask) {\n    // Will be called again when the current task finishes.\n    return;\n  }\n\n  if (this._lastFinished != null) {\n    var elapsed = now() - this._lastFinished;\n    var remaining = this._delay - elapsed;\n    if (remaining > 0) {\n      // Too soon. Run again after the inter-task delay.\n      setTimeout(this._next.bind(this), remaining);\n      return;\n    }\n  }\n\n  // Run the next task.\n  var task = this._queue.shift();\n  this._start(task);\n\n};\n\n\nmodule.exports = WorkQueue;\n"},"lineCount":null}},"error":null,"hash":"92039e156d4d5d9e090610f7ea0c7404","cacheData":{"env":{}}}